---
title: CFileDialog – třída
ms.date: 11/04/2016
f1_keywords:
- CFileDialog
- AFXDLGS/CFileDialog
- AFXDLGS/CFileDialog::CFileDialog
- AFXDLGS/CFileDialog::AddCheckButton
- AFXDLGS/CFileDialog::AddComboBox
- AFXDLGS/CFileDialog::AddControlItem
- AFXDLGS/CFileDialog::AddEditBox
- AFXDLGS/CFileDialog::AddMenu
- AFXDLGS/CFileDialog::AddPlace
- AFXDLGS/CFileDialog::AddPushButton
- AFXDLGS/CFileDialog::AddRadioButtonList
- AFXDLGS/CFileDialog::AddSeparator
- AFXDLGS/CFileDialog::AddText
- AFXDLGS/CFileDialog::ApplyOFNToShellDialog
- AFXDLGS/CFileDialog::DoModal
- AFXDLGS/CFileDialog::EnableOpenDropDown
- AFXDLGS/CFileDialog::EndVisualGroup
- AFXDLGS/CFileDialog::GetCheckButtonState
- AFXDLGS/CFileDialog::GetControlItemState
- AFXDLGS/CFileDialog::GetControlState
- AFXDLGS/CFileDialog::GetEditBoxText
- AFXDLGS/CFileDialog::GetFileExt
- AFXDLGS/CFileDialog::GetFileName
- AFXDLGS/CFileDialog::GetFileTitle
- AFXDLGS/CFileDialog::GetFolderPath
- AFXDLGS/CFileDialog::GetIFileDialogCustomize
- AFXDLGS/CFileDialog::GetIFileOpenDialog
- AFXDLGS/CFileDialog::GetIFileSaveDialog
- AFXDLGS/CFileDialog::GetNextPathName
- AFXDLGS/CFileDialog::GetOFN
- AFXDLGS/CFileDialog::GetPathName
- AFXDLGS/CFileDialog::GetReadOnlyPref
- AFXDLGS/CFileDialog::GetResult
- AFXDLGS/CFileDialog::GetResults
- AFXDLGS/CFileDialog::GetSelectedControlItem
- AFXDLGS/CFileDialog::GetStartPosition
- AFXDLGS/CFileDialog::HideControl
- AFXDLGS/CFileDialog::IsPickFoldersMode
- AFXDLGS/CFileDialog::MakeProminent
- AFXDLGS/CFileDialog::RemoveControlItem
- AFXDLGS/CFileDialog::SetCheckButtonState
- AFXDLGS/CFileDialog::SetControlItemState
- AFXDLGS/CFileDialog::SetControlItemText
- AFXDLGS/CFileDialog::SetControlLabel
- AFXDLGS/CFileDialog::SetControlState
- AFXDLGS/CFileDialog::SetControlText
- AFXDLGS/CFileDialog::SetDefExt
- AFXDLGS/CFileDialog::SetEditBoxText
- AFXDLGS/CFileDialog::SetProperties
- AFXDLGS/CFileDialog::SetSelectedControlItem
- AFXDLGS/CFileDialog::SetTemplate
- AFXDLGS/CFileDialog::StartVisualGroup
- AFXDLGS/CFileDialog::UpdateOFNFromShellDialog
- AFXDLGS/CFileDialog::OnButtonClicked
- AFXDLGS/CFileDialog::OnCheckButtonToggled
- AFXDLGS/CFileDialog::OnControlActivating
- AFXDLGS/CFileDialog::OnFileNameChange
- AFXDLGS/CFileDialog::OnFileNameOK
- AFXDLGS/CFileDialog::OnFolderChange
- AFXDLGS/CFileDialog::OnInitDone
- AFXDLGS/CFileDialog::OnItemSelected
- AFXDLGS/CFileDialog::OnLBSelChangedNotify
- AFXDLGS/CFileDialog::OnShareViolation
- AFXDLGS/CFileDialog::OnTypeChange
- AFXDLGS/CFileDialog::m_ofn
helpviewer_keywords:
- CFileDialog [MFC], CFileDialog
- CFileDialog [MFC], AddCheckButton
- CFileDialog [MFC], AddComboBox
- CFileDialog [MFC], AddControlItem
- CFileDialog [MFC], AddEditBox
- CFileDialog [MFC], AddMenu
- CFileDialog [MFC], AddPlace
- CFileDialog [MFC], AddPushButton
- CFileDialog [MFC], AddRadioButtonList
- CFileDialog [MFC], AddSeparator
- CFileDialog [MFC], AddText
- CFileDialog [MFC], ApplyOFNToShellDialog
- CFileDialog [MFC], DoModal
- CFileDialog [MFC], EnableOpenDropDown
- CFileDialog [MFC], EndVisualGroup
- CFileDialog [MFC], GetCheckButtonState
- CFileDialog [MFC], GetControlItemState
- CFileDialog [MFC], GetControlState
- CFileDialog [MFC], GetEditBoxText
- CFileDialog [MFC], GetFileExt
- CFileDialog [MFC], GetFileName
- CFileDialog [MFC], GetFileTitle
- CFileDialog [MFC], GetFolderPath
- CFileDialog [MFC], GetIFileDialogCustomize
- CFileDialog [MFC], GetIFileOpenDialog
- CFileDialog [MFC], GetIFileSaveDialog
- CFileDialog [MFC], GetNextPathName
- CFileDialog [MFC], GetOFN
- CFileDialog [MFC], GetPathName
- CFileDialog [MFC], GetReadOnlyPref
- CFileDialog [MFC], GetResult
- CFileDialog [MFC], GetResults
- CFileDialog [MFC], GetSelectedControlItem
- CFileDialog [MFC], GetStartPosition
- CFileDialog [MFC], HideControl
- CFileDialog [MFC], IsPickFoldersMode
- CFileDialog [MFC], MakeProminent
- CFileDialog [MFC], RemoveControlItem
- CFileDialog [MFC], SetCheckButtonState
- CFileDialog [MFC], SetControlItemState
- CFileDialog [MFC], SetControlItemText
- CFileDialog [MFC], SetControlLabel
- CFileDialog [MFC], SetControlState
- CFileDialog [MFC], SetControlText
- CFileDialog [MFC], SetDefExt
- CFileDialog [MFC], SetEditBoxText
- CFileDialog [MFC], SetProperties
- CFileDialog [MFC], SetSelectedControlItem
- CFileDialog [MFC], SetTemplate
- CFileDialog [MFC], StartVisualGroup
- CFileDialog [MFC], UpdateOFNFromShellDialog
- CFileDialog [MFC], OnButtonClicked
- CFileDialog [MFC], OnCheckButtonToggled
- CFileDialog [MFC], OnControlActivating
- CFileDialog [MFC], OnFileNameChange
- CFileDialog [MFC], OnFileNameOK
- CFileDialog [MFC], OnFolderChange
- CFileDialog [MFC], OnInitDone
- CFileDialog [MFC], OnItemSelected
- CFileDialog [MFC], OnLBSelChangedNotify
- CFileDialog [MFC], OnShareViolation
- CFileDialog [MFC], OnTypeChange
- CFileDialog [MFC], m_ofn
ms.assetid: fda4fd3c-08b8-4ce0-8e9d-7bab23f8c6c0
ms.openlocfilehash: c301766b64af7fc1523b39adad91d9b52a5e88f7
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/15/2019
ms.locfileid: "69506599"
---
# <a name="cfiledialog-class"></a>CFileDialog – třída

Zapouzdřuje společné dialogové okno, které se používá pro operace otevírání souborů nebo ukládání souborů.

## <a name="syntax"></a>Syntaxe

```
class CFileDialog : public CCommonDialog
```

## <a name="members"></a>Členové

### <a name="public-constructors"></a>Veřejné konstruktory

|Name|Popis|
|----------|-----------------|
|[CFileDialog::CFileDialog](#cfiledialog)|`CFileDialog` Vytvoří objekt.|

### <a name="public-methods"></a>Veřejné metody

|Name|Popis|
|----------|-----------------|
|[CFileDialog::AddCheckButton](#addcheckbutton)|Přidá k dialogovému oknu tlačítko pro kontrolu.|
|[CFileDialog::AddComboBox](#addcombobox)|Přidá do dialogového okna pole se seznamem.|
|[CFileDialog::AddControlItem](#addcontrolitem)|Přidá položku do ovládacího prvku kontejneru v dialogovém okně.|
|[CFileDialog::AddEditBox](#addeditbox)|Přidá do dialogového okna textové pole.|
|[CFileDialog::AddMenu](#addmenu)|Přidá nabídku do dialogového okna.|
|[CFileDialog::AddPlace](#addplace)|Přetíženo. Přidá složku do seznamu míst, která jsou k dispozici pro uživatele k otevření nebo uložení položek.|
|[CFileDialog::AddPushButton](#addpushbutton)|Přidá do dialogu tlačítko.|
|[CFileDialog::AddRadioButtonList](#addradiobuttonlist)|Přidá do dialogového okna možnost (také označované jako přepínač).|
|[CFileDialog::AddSeparator](#addseparator)|Přidá oddělovač do dialogového okna.|
|[CFileDialog::AddText](#addtext)|Přidá textový obsah do dialogového okna.|
|[CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog)|Aktualizuje stav `CFileDialog` tak, aby odpovídal parametrům a příznakům uloženým `m_ofn` v členské proměnné.|
|[CFileDialog::DoModal](#domodal)|Zobrazí dialogové okno a umožní uživateli provést výběr.|
|[CFileDialog::EnableOpenDropDown](#enableopendropdown)|Povoluje rozevírací seznam v tlačítku **otevřít** nebo **Uložit** v dialogovém okně.|
|[CFileDialog::EndVisualGroup](#endvisualgroup)|Zastaví přidávání prvků do skupiny vizuálů v dialogovém okně.|
|[CFileDialog::GetCheckButtonState](#getcheckbuttonstate)|Získá aktuální stav tlačítka pro kontrolu (zaškrtávací políčko) v dialogovém okně.|
|[CFileDialog::GetControlItemState](#getcontrolitemstate)|Načte aktuální stav položky v ovládacím prvku kontejneru, který se nachází v dialogovém okně.|
|[CFileDialog::GetControlState](#getcontrolstate)|Získá aktuální viditelnost a povolený stav daného ovládacího prvku.|
|[CFileDialog::GetEditBoxText](#geteditboxtext)|Získá aktuální text v ovládacím prvku textové pole.|
|[CFileDialog::GetFileExt](#getfileext)|Vrátí příponu vybraného souboru.|
|[CFileDialog:: getsoubor](#getfilename)|Vrátí název souboru vybraného souboru.|
|[CFileDialog::GetFileTitle](#getfiletitle)|Vrátí název vybraného souboru.|
|[CFileDialog::GetFolderPath](#getfolderpath)|Načte cestu aktuálně otevřené složky nebo adresáře pro dialogové okno **otevřít** nebo **Uložit jako** běžné ve stylu Průzkumníka.|
|[CFileDialog::GetIFileDialogCustomize](#getifiledialogcustomize)|Načte vnitřní objekt modelu COM pro přizpůsobený `CFileDialog` objekt.|
|[CFileDialog::GetIFileOpenDialog](#getifileopendialog)|Načte vnitřní objekt modelu COM pro `CFileDialog` , který se používá jako dialogové okno **otevřít** soubor.|
|[CFileDialog::GetIFileSaveDialog](#getifilesavedialog)|Načte vnitřní objekt modelu COM pro `CFileDialog` , který se používá jako dialogové okno **Uložit** soubor.|
|[CFileDialog::GetNextPathName](#getnextpathname)|Vrátí úplnou cestu k dalšímu vybranému souboru.|
|[CFileDialog::GetOFN](#getofn)|`OPENFILENAME` Načte strukturu`CFileDialog` objektu.|
|[CFileDialog:: getcesta](#getpathname)|Vrátí úplnou cestu k vybranému souboru.|
|[CFileDialog::GetReadOnlyPref](#getreadonlypref)|Vrátí stav jen pro čtení vybraného souboru.|
|[CFileDialog:: GetResult](#getresult)|Získá výběr, který uživatel provedl v dialogovém okně.|
|[CFileDialog:: GetResults](#getresults)|Získá volby uživatele v dialogovém okně, které umožňuje vícenásobný výběr.|
|[CFileDialog::GetSelectedControlItem](#getselectedcontrolitem)|Načte konkrétní položku ze zadaných ovládacích prvků kontejneru v dialogovém okně.|
|[CFileDialog::GetStartPosition](#getstartposition)|Vrátí pozici prvního prvku seznamu název souboru.|
|[CFileDialog::HideControl](#hidecontrol)|Skryje určený ovládací prvek ve stylu prohlížeče **otevřít** nebo **Uložit jako** společné.|
|[CFileDialog::IsPickFoldersMode](#ispickfoldersmode)|Určuje, zda aktuální dialog v režimu výběru složky.|
|[CFileDialog::MakeProminent](#makeprominent)|Umístí ovládací prvek do dialogového okna tak, aby se v porovnání s jinými přidanými ovládacími prvky.|
|[CFileDialog::RemoveControlItem](#removecontrolitem)|Odebere položku z ovládacího prvku kontejneru v dialogovém okně.|
|[CFileDialog::SetCheckButtonState](#setcheckbuttonstate)|Nastaví aktuální stav tlačítka check (zaškrtávací políčko) v dialogovém okně.|
|[CFileDialog::SetControlItemState](#setcontrolitemstate)|Nastaví aktuální stav položky v ovládacím prvku kontejneru, který se nachází v dialogovém okně.|
|[CFileDialog::SetControlItemText](#setcontrolitemtext)|Nastaví text položky ovládacího prvku. Například text doprovázející přepínač nebo položku v nabídce.|
|[CFileDialog::SetControlLabel](#setcontrollabel)|Nastaví text přidružený k ovládacímu prvku, jako je například text tlačítka nebo popisek pro textové pole.|
|[CFileDialog::SetControlState](#setcontrolstate)|Nastaví aktuální viditelnost a povolený stav daného ovládacího prvku.|
|[CFileDialog::SetControlText](#setcontroltext)|Nastaví text pro určený ovládací prvek v dialogovém okně **otevřít** nebo **Uložit jako** společné ve stylu Průzkumníka.|
|[CFileDialog::SetDefExt](#setdefext)|Nastaví výchozí příponu názvu souboru pro dialogové okno **otevřít** nebo **Uložit jako** společné ve stylu Průzkumníka.|
|[CFileDialog::SetEditBoxText](#seteditboxtext)|Nastaví aktuální text v ovládacím prvku textové pole.|
|[CFileDialog:: SetProperties](#setproperties)|Poskytuje úložiště vlastností, které definuje výchozí hodnoty, které se mají použít pro položku, která se ukládá.|
|[CFileDialog::SetSelectedControlItem](#setselectedcontrolitem)|Nastaví vybraný stav konkrétní položky ve skupině přepínačů nebo pole se seznamem, které najdete v dialogovém okně.|
|[CFileDialog::SetTemplate](#settemplate)|Nastaví šablonu dialogového okna pro daný `CFileDialog` objekt.|
|[CFileDialog::StartVisualGroup](#startvisualgroup)|Deklaruje vizuální skupinu v dialogovém okně. Následná volání jakékoli metody "Add" přidají tyto prvky do této skupiny.|
|[CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog)|Aktualizuje data uložená v `m_ofn` proměnné členu tak, aby odpovídala aktuálnímu stavu dialogového okna soubor.|

### <a name="protected-methods"></a>Chráněné metody

|Name|Popis|
|----------|-----------------|
|[CFileDialog::OnButtonClicked](#onbuttonclicked)|Volá se při kliknutí na tlačítko.|
|[CFileDialog::OnCheckButtonToggled](#oncheckbuttontoggled)|Volá se, když je zaškrtávací políčko zaškrtnuté nebo nezaškrtnuté.|
|[CFileDialog::OnControlActivating](#oncontrolactivating)|Volá se, když se ovládací prvek aktivuje.|
|[CFileDialog::OnFileNameChange](#onfilenamechange)|Zpracovává zprávu WM_NOTIFY CDN_SELCHANGE.|
|[CFileDialog::OnFileNameOK](#onfilenameok)|Ověří název souboru zadaný v dialogovém okně.|
|[CFileDialog::OnFolderChange](#onfolderchange)|Zpracovává zprávu WM_NOTIFY CDN_FOLDERCHANGE.|
|[CFileDialog::OnInitDone](#oninitdone)|Zpracovává zprávu WM_NOTIFY CDN_INITDONE.|
|[CFileDialog::OnItemSelected](#onitemselected)|Volá se při výběru položky kontejneru.|
|[CFileDialog::OnLBSelChangedNotify](#onlbselchangednotify)|Umožňuje provádět vlastní akce, když se změní výběr souboru.|
|[CFileDialog::OnShareViolation](#onshareviolation)|Zpracovává narušení sdílení.|
|[CFileDialog::OnTypeChange](#ontypechange)|Zpracovává zprávu WM_NOTIFY CDN_TYPECHANGE.|

### <a name="public-data-members"></a>Veřejné datové členy

|Name|Popis|
|----------|-----------------|
|[CFileDialog::m_ofn](#m_ofn)|Struktura Windows `OPENFILENAME` Poskytuje přístup k základním parametrům dialogového okna souboru.|

## <a name="remarks"></a>Poznámky

Dialogová okna běžných souborů vám umožňují implementovat dialogová okna pro výběr souborů, například **otevřít soubor** a **Uložit jako**, způsobem, který je konzistentní s normami Windows.

Můžete použít `CFileDialog` as s poskytnutým konstruktorem nebo můžete odvodit vlastní třídu dialogových oken z `CFileDialog` a napsat konstruktor, který bude vyhovovat vašim potřebám. V obou případech se tato dialogová okna budou chovat jako standardní dialogová okna knihovny MFC, protože jsou odvozena od [třídy CCommonDialog](../../mfc/reference/ccommondialog-class.md). `CFileDialog`spoléhá na COMMDLG. Soubor DLL, který je součástí systému Windows.

Vzhled i funkce v `CFileDialog` systému Windows Vista nebo novějším se liší od předchozích verzí systému Windows. Výchozí `CFileDialog` automaticky používá nový styl Windows Vista nebo novější bez změny kódu, pokud je program kompilován a spuštěn v systému Windows Vista nebo novějším. Použijte parametr *bVistaStyle* v konstruktoru k ručnímu přepsání této automatické aktualizace. Výjimkou z dialogových oken automatické aktualizace je přizpůsobená. Nebudou převedeny na nový styl. Další informace o konstruktoru naleznete v tématu [CFileDialog:: CFileDialog](#cfiledialog).

> [!NOTE]
>  Systém ID ovládacího prvku se liší v systému Windows Vista nebo novějším z dřívějších verzí Windows při použití `CFileDialog`. Je nutné aktualizovat všechny odkazy na `CFileDialog` ovládací prvky v kódu předtím, než budete moci přenést projekt z dřívější verze systému Windows.

Některé `CFileDialog` metody nejsou podporovány v systému Windows Vista nebo novějším. Informace o tom, jestli je metoda podporovaná, najdete v tématu o jednotlivých metodách. Následující zděděné funkce se navíc v systému Windows Vista nebo novějším nepodporují:

- [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)

- [CDialog::OnSetFont](../../mfc/reference/cdialog-class.md#onsetfont)

Zprávy systému Windows pro třídu `CFileDialog` se liší v závislosti na operačním systému, který používáte. Například systém Windows XP nepodporuje pro třídu `CFileDialog` pole [CDialog::-Cancel](../../mfc/reference/cdialog-class.md#oncancel) a [CDialog:: OnOK –](../../mfc/reference/cdialog-class.md#onok) . Windows Vista a novější operační systémy je ale podporují. Další informace o různých generovaných zprávách a pořadí, ve kterém jsou přijímány, najdete v tématu [CFileDialog Sample: Pořadí](../../overview/visual-cpp-samples.md)událostí protokolování.

Chcete-li `CFileDialog` použít objekt, nejprve vytvořte objekt `CFileDialog` pomocí konstruktoru. Po vytvoření dialogového okna můžete nastavit nebo změnit libovolné hodnoty ve struktuře [CFileDialog:: m_ofn](#m_ofn) pro inicializaci hodnot nebo stavů ovládacích prvků dialogového okna. Struktura je typu `OPENFILENAME`. `m_ofn` Další informace najdete v tématu struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) v Windows SDK.

Po inicializaci ovládacích prvků dialogového okna zavolejte metodu [CFileDialog::D omodal](#domodal) pro zobrazení dialogového okna tak, aby uživatel mohl zadat cestu a název souboru. `DoModal`Vrátí, zda uživatel kliknul na tlačítko OK (IDOK) nebo zrušit (IDCANCEL). Pokud `DoModal` vrátí IDOK, můžete použít jednu `CFileDialog` z veřejných členských funkcí k načtení informací, které uživatel vloží.

> [!NOTE]
> V systému Windows Vista nebo novějším je několik volání [IFileDialog:: SetFileTypes](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ifiledialog-setfiletypes) způsobilo chybu. Druhé volání metody `SetFileTypes` pro všechny instance a `CFileDialog` vrátí E_UNEXPECTED v systému Windows Vista nebo novějším. Některé `CFileDialog` funkce metody volají `SetFileTypes`. Například dvě volání `CFileDialog::DoModal` pro pro stejnou instanci `CFileDialog` vygeneruje [Assert](diagnostic-services.md#assert).

`CFileDialog`zahrnuje několik chráněných členů, které umožňují vlastní zpracování narušení sdílení, ověření názvu souboru a oznámení o změně seznamu. Tyto chráněné členy jsou funkce zpětného volání, které není nutné používat pro většinu aplikací, protože výchozí zpracování je prováděno automaticky. Položky mapování zpráv pro tyto funkce nejsou vyžadovány, protože jsou standardními virtuálními funkcemi.

Pomocí funkce Windows [CommDlgExtendedError](/windows/win32/api/commdlg/nf-commdlg-commdlgextendederror) můžete zjistit, jestli při inicializaci dialogového okna došlo k chybě, a získat další informace o chybě.

Zničení `CFileDialog` objektů je prováděno automaticky. Nemusíte volat funkci [CDialog:: EndDialog](../../mfc/reference/cdialog-class.md#enddialog).

Chcete-li uživateli umožnit výběr více souborů, nastavte příznak OFN_ALLOWMULTISELECT před voláním `DoModal`. Aby bylo možné přizpůsobit vrácený seznam více názvů souborů, je nutné, abyste zadali vlastní vyrovnávací paměť pro název souboru. To uděláte tak, `m_ofn.lpstrFile` že nahradíte ukazatel na vyrovnávací paměť, kterou jste přidělili, `CFileDialog`po sestavení, ale před `DoModal`voláním.

Kromě toho je nutné nastavit `m_ofn.nMaxFile` pomocí počtu znaků ve vyrovnávací paměti, `m_ofn.lpstrFile`na které ukazuje. Pokud nastavíte maximální počet souborů, které mají být vybrány na `n`, je `n * (_MAX_PATH + 1) + 1`požadovaná velikost vyrovnávací paměti. První položka vrácená ve vyrovnávací paměti je cesta ke složce, ve které byly soubory vybrány. V dialogových oknech Windows Vista a vyšších stylech jsou řetězce adresářů a názvů souborů zakončené hodnotou null a za posledním názvem souboru má navíc znak null. Tento formát umožňuje, aby dialogová okna ve stylu Průzkumníka vracela dlouhé názvy souborů, které obsahují mezery. V případě dialogových oken ve starém stylu jsou řetězce adresářů a souborů odděleny mezerami a funkce používá krátké názvy souborů pro názvy souborů s mezerami.

Následující příklad ukazuje, jak použít vyrovnávací paměť pro načtení a výpis více názvů souborů.

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Chcete-li změnit velikost vyrovnávací paměti v reakci na uživatele, který vybírá více názvů souborů, musíte odvodit `CFileDialog` novou třídu z a přepsat metodu [CFileDialog:: OnFileNameChange](#onfilenamechange) .

Pokud odvodit novou třídu z `CFileDialog`, můžete použít mapu zpráv pro zpracování všech zpráv. Chcete-li zvětšit výchozí zpracování zprávy, odvodit třídu `CFileDialog`z, přidat do nové třídy mapu zprávy a poskytnout členské funkce pro nové zprávy. K přizpůsobení dialogového okna není nutné zadávat funkci zavěšení.

Chcete-li přizpůsobit dialogové okno, odvodit třídu `CFileDialog`z, poskytnout vlastní šablonu dialogového okna a přidat mapu zpráv pro zpracování zpráv s oznámením z rozšířených ovládacích prvků. Předejte všechny nezpracované zprávy do základní třídy. Funkci zavěšení není nutné přizpůsobovat.

Pokud používáte styl `CFileDialog`Windows Vista nebo novější, nemůžete použít šablony zpráv a dialogová okna. Místo toho je nutné použít rozhraní COM pro podobné funkce.

Další informace o tom, jak používat `CFileDialog`, najdete v tématu [společné třídy dialogových oken](../../mfc/common-dialog-classes.md).

## <a name="inheritance-hierarchy"></a>Hierarchie dědičnosti

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CDialog](../../mfc/reference/cdialog-class.md)

[CCommonDialog](../../mfc/reference/ccommondialog-class.md)

`CFileDialog`

## <a name="requirements"></a>Požadavky

**Záhlaví:** afxdlgs. h

##  <a name="addcheckbutton"></a>CFileDialog::AddCheckButton

Přidá k dialogovému oknu tlačítko pro kontrolu.

```
HRESULT AddCheckButton(
    DWORD dwIDCtl,
    const CString& strLabel,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID tlačítka pro kontrolu, které se má přidat

*strLabel*<br/>
Název tlačítka pro kontrolu.

*bChecked*<br/>
Logická hodnota označující aktuální stav tlačítka pro kontrolu. TRUE, pokud je zaškrtnuto; NEPRAVDA, jinak

### <a name="remarks"></a>Poznámky

##  <a name="addcombobox"></a>CFileDialog::AddComboBox

Přidá do dialogového okna pole se seznamem.

```
HRESULT AddComboBox(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole se seznamem, které se má přidat

### <a name="remarks"></a>Poznámky

##  <a name="addcontrolitem"></a>CFileDialog::AddControlItem

Přidá položku do ovládacího prvku kontejneru v dialogovém okně.

```
HRESULT AddControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru, do kterého se má přidat položka

*dwIDItem*<br/>
ID položky

*strLabel*<br/>
Text položky

### <a name="remarks"></a>Poznámky

##  <a name="addeditbox"></a>CFileDialog::AddEditBox

Přidá do dialogového okna textové pole.

```
HRESULT AddEditBox(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole pro úpravy, které se má přidat

*strText*<br/>
Název pole pro úpravy

### <a name="remarks"></a>Poznámky

##  <a name="addmenu"></a>CFileDialog:: PřidatNabídku

Přidá nabídku do dialogového okna.

```
HRESULT AddMenu(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID nabídky, která se má přidat

*strLabel*<br/>
Název nabídky

### <a name="remarks"></a>Poznámky

##  <a name="addplace"></a>CFileDialog::AddPlace

Přidá složku do seznamu míst, která jsou k dispozici pro uživatele k otevření nebo uložení položek.

```
void AddPlace(
    LPCWSTR lpszFolder,
    FDAP fdap = FDAP_TOP) throw();

void AddPlace(
    IShellItem* psi,
    FDAP fdap = FDAP_TOP) throw();
```

### <a name="parameters"></a>Parametry

*lpszFolder*<br/>
Cesta ke složce, která má být uživateli k dispozici. Může to být jenom složka.

*fdap*<br/>
Určuje, kde je složka umístěna v seznamu.

*psi*<br/>
Ukazatel na IShellItem, který představuje složku, která má být uživateli k dispozici. Může to být jenom složka.

### <a name="remarks"></a>Poznámky

##  <a name="addpushbutton"></a>CFileDialog::AddPushButton

Přidá do dialogu tlačítko.

```
HRESULT AddPushButton(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID tlačítka, které se má přidat

*strLabel*<br/>
Název tlačítka

### <a name="remarks"></a>Poznámky

##  <a name="addradiobuttonlist"></a>CFileDialog::AddRadioButtonList

Přidá do dialogového okna možnost (také označované jako přepínač).

```
HRESULT AddRadioButtonList(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID skupiny přepínačů, která se má přidat

### <a name="remarks"></a>Poznámky

##  <a name="addseparator"></a>CFileDialog::AddSeparator

Přidá oddělovač do dialogového okna.

```
HRESULT AddSeparator(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID oddělovače, který se má přidat

### <a name="remarks"></a>Poznámky

##  <a name="addtext"></a>CFileDialog::AddText

Přidá text do dialogového okna.

```
HRESULT AddText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID textu, který se má přidat

*strText*<br/>
Název textu

### <a name="remarks"></a>Poznámky

##  <a name="applyofntoshelldialog"></a>CFileDialog::ApplyOFNToShellDialog

Aktualizuje aktuální stav [CFileDialog](../../mfc/reference/cfiledialog-class.md) na základě hodnot uložených v `m_ofn` datové struktuře.

```
void ApplyOFNToShellDialog();
```

### <a name="remarks"></a>Poznámky

Ve verzích Windows před Windows Vista byla struktura dat členských [lpstrFile](/previous-versions/windows/embedded/ms911906\(v=msdn.10\)) průběžně synchronizovaná se stavem `CFileDialog`. Jakékoli změny členské proměnné [m_ofn](#m_ofn) byly okamžitě promítnuty do stavu dialogového okna. Také všechny změny stavu dialogového okna aktualizují `m_ofn` členskou proměnnou okamžitě.

V systému Windows Vista nebo novějších nejsou hodnoty v `m_ofn` členské proměnné a stavu `CFileDialog` pro synchronizaci zaručeny. Tato funkce vynutí aktualizaci stavu `CFileDialog` , aby `m_ofn` odpovídalo struktuře. Systém Windows volá tuto funkci automaticky během [CFileDialog::D omodal](#domodal).

Další informace o tom, jak použít `CFileDialog` třídu v systému Windows Vista nebo novější, naleznete v tématu [Třída CFileDialog](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog:: UpdateOFNFromShellDialog](#updateofnfromshelldialog).

##  <a name="cfiledialog"></a>CFileDialog::CFileDialog

Voláním této funkce vytvoříte standardní dialogové okno souboru systému Windows.

```
explicit CFileDialog(
    BOOL bOpenFileDialog,
    LPCTSTR lpszDefExt = NULL,
    LPCTSTR lpszFileName = NULL,
    DWORD dwFlags = OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT,
    LPCTSTR lpszFilter = NULL,
    CWnd* pParentWnd = NULL,
    DWORD dwSize = 0,
    BOOL bVistaStyle = TRUE);
```

### <a name="parameters"></a>Parametry

*bOpenFileDialog*<br/>
pro Parametr, který určuje typ dialogového okna, který se má vytvořit. Nastavte ji na TRUE pro vytvoření dialogového okna **otevřít soubor** . Nastavte na hodnotu FALSE, chcete-li vytvořit **soubor uložit jako** .

*lpszDefExt*<br/>
pro Výchozí přípona názvu souboru. Pokud uživatel neobsahuje známé rozšíření (které má v počítači uživatele přidružení), do pole název souboru se automaticky připojí přípona určená nástrojem *lpszDefExt* . Pokud má tento parametr hodnotu NULL, není připojena žádná přípona.

*lpszFileName*<br/>
pro Počáteční název souboru, který se zobrazí v poli název souboru. Pokud má hodnotu NULL, neobjeví se žádný počáteční název souboru.

*dwFlags*<br/>
pro Kombinace jednoho nebo více příznaků, které lze použít k přizpůsobení dialogového okna. Popis těchto příznaků naleznete v tématu struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) v Windows SDK. Pokud upravíte `m_ofn.Flags` člena struktury, použijte ve svých změnách bitový operátor OR, abyste zachovali výchozí chování beze změny.

*lpszFilter*<br/>
pro Řada dvojic řetězců, které určují filtry, které můžete použít na soubor. Pokud zadáte filtry souborů, v seznamu soubory se zobrazí pouze soubory, které odpovídají kritériím filtru. Další informace o tom, jak pracovat s filtry souborů, najdete v části s poznámkami.

*pParentWnd*<br/>
pro Ukazatel na nadřazené nebo vlastnický dialog v dialogovém okně soubor.

*nenulového dwSize funkci*<br/>
pro Velikost `OPENFILENAME` struktury Tato hodnota závisí na verzi operačního systému. Knihovna MFC použila tento parametr k určení vhodného druhu dialogového okna k vytvoření. Výchozí velikost 0 znamená, že kód knihovny MFC určí správnou velikost dialogového okna pro použití v závislosti na verzi operačního systému, ve které je program spuštěn.

*bVistaStyle*<br/>
pro **Poznámka:** Tento parametr je k dispozici v aplikaci Visual Studio 2008 a novější a způsobí, že se dialogové okno nového stylu používá pouze v případě, že používáte systém Windows Vista nebo novější.

Parametr, který určuje styl dialogového okna souboru. Nastavte na hodnotu TRUE, chcete-li použít nové dialogy pro soubory ve stylu Vista. V opačném případě budou použity staré styly dialogových oken. Další informace o běhu v systému Vista najdete v části s poznámkami.

### <a name="remarks"></a>Poznámky

Dialogové okno **otevřít soubor** nebo **soubor uložit jako** je konstruováno v závislosti na hodnotě *bOpenFileDialog*.

Zadání výchozího rozšíření pomocí *lpszDefExt* nemusí způsobit očekávané chování, protože je zřídka předvídatelné, jaká rozšíření mají přidružení souborů v počítači uživatele. Pokud potřebujete větší kontrolu nad připojením výchozího rozšíření, můžete odvodit svou vlastní třídu z `CFileDialog`a `CFileDialog::OnFileNameOK` přepsat metodu pro provádění vlastního zpracování rozšíření.

Chcete-li uživateli povolit výběr více souborů, nastavte příznak OFN_ALLOWMULTISELECT před voláním [DoModal](#domodal). Pro uložení vráceného seznamu více názvů souborů je nutné uvést vlastní vyrovnávací paměť pro název souboru. To uděláte tak, `m_ofn.lpstrFile` že nahradíte ukazatel na vyrovnávací paměť, kterou jste přidělili, po sestavení [CFileDialog](../../mfc/reference/cfiledialog-class.md), ale před `DoModal`voláním. Kromě toho je nutné nastavit `m_ofn.nMaxFile` s počtem znaků ve vyrovnávací paměti, `m_ofn.lpstrFile`na které ukazuje. Pokud nastavíte maximální počet souborů, které se mají vybrat na *n*, je `n`požadovaná velikost vyrovnávací paměti * (_MAX_PATH + 1) + 1. Příklad:

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Chcete-li uživateli povolit změnu velikosti dialogového okna ve stylu Průzkumníka pomocí myši nebo klávesnice, nastavte příznak OFN_ENABLESIZING. Nastavení tohoto příznaku je nezbytné jenom v případě, že zadáváte proceduru zavěšení nebo vlastní šablonu. Příznak funguje pouze v dialogovém okně se stylem Průzkumníka; Nepovedlo se změnit velikost dialogových oken ve starém stylu.

Parametr *lpszFilter* slouží k určení typu názvu souboru, který musí být v seznamu souborů zobrazen. První řetězec ve dvojici řetězců popisuje filtr. druhý řetězec označuje příponu názvu souboru, která se má použít. Více rozšíření lze zadat pomocí středníku (znak ";") jako oddělovače. Řetězec končí dvěma znaky&#124;' ', následované znakem null. Pro tento parametr můžete použít také objekt [CString](../../atl-mfc-shared/using-cstring.md) .

Například Microsoft Excel umožňuje uživatelům otevírat soubory s příponou. xlc (graf) nebo. xls (list), a to mimo jiné. Filtr pro Excel může být zapsaný jako:

[!code-cpp[NVC_MFCFiles#24](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_2.cpp)]

Pokud však plánujete použít tento řetězec k přímé aktualizaci `OPENFILENAME` struktury, měli byste své řetězce místo svislých pruhů ('&#124;') vyhodnotit pomocí znaku null, ' \ 0 '.

Parametr *bVistaStyle* se dá použít jenom v případě, že je spuštěný v systému Windows Vista nebo novějším. V dřívějších verzích Windows se tento parametr ignoruje. Pokud je *bVistaStyle* nastavené na hodnotu true, použije se při kompilování programu v sadě Visual Studio 2008 nebo novější **dialog nový soubor** ve stylu Vista. V opačném případě bude použit předchozí **dialog souboru** stylu MFC.

Šablony dialogových oken nejsou podporovány v dialogových oknech založených na *bVistaStyle* .

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog::D omodal](#domodal).

##  <a name="domodal"></a>CFileDialog::D oModal

Voláním této funkce zobrazíte dialogové okno běžný soubor systému Windows a povolíte uživateli procházet soubory a adresáře a zadat název souboru.

```
virtual INT_PTR DoModal();
```

### <a name="return-value"></a>Návratová hodnota

IDOK nebo IDCANCEL. Pokud se vrátí IDCANCEL, zavolejte funkci Windows [CommDlgExtendedError](/windows/win32/api/commdlg/nf-commdlg-commdlgextendederror) a určete, jestli došlo k chybě.

IDOK a IDCANCEL jsou konstanty, které označují, zda uživatel vybral tlačítko OK nebo Storno.

### <a name="remarks"></a>Poznámky

Chcete-li inicializovat různé možnosti dialogového okna souboru nastavením členů `m_ofn` struktury, měli byste to provést před voláním `DoModal`, ale po sestavení objektu dialogového okna.

Například pokud chcete, aby uživatel mohl vybrat více souborů, nastavte před voláním `DoModal`příznak OFN_ALLOWMULTISELECT, jak je znázorněno v příkladu kódu v tomto tématu.

Když uživatel klikne na tlačítko OK nebo Storno v dialogovém okně nebo vybere možnost Zavřít v nabídce ovládacího prvku dialogového okna, ovládací prvek se vrátí do vaší aplikace. Potom můžete zavolat jiné členské funkce a načíst nastavení nebo informace o vstupech uživatele do dialogového okna.

`DoModal`je virtuální funkce přepsaná z třídy `CDialog`.

### <a name="example"></a>Příklad

[!code-cpp[NVC_MFCFiles#25](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_3.cpp)]

##  <a name="enableopendropdown"></a>CFileDialog::EnableOpenDropDown

Povoluje rozevírací seznam v tlačítku otevřít nebo uložit v dialogovém okně.

```
HRESULT EnableOpenDropDown(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID rozevíracího seznamu

### <a name="remarks"></a>Poznámky

##  <a name="endvisualgroup"></a>CFileDialog::EndVisualGroup

Zastaví přidávání prvků do skupiny vizuálů v dialogovém okně.

```
HRESULT EndVisualGroup();
```

### <a name="return-value"></a>Návratová hodnota

Vrátí S_OK, pokud bylo úspěšné. v opačném případě se jedná o chybovou hodnotu.

### <a name="remarks"></a>Poznámky

##  <a name="getcheckbuttonstate"></a>CFileDialog::GetCheckButtonState

Načte aktuální stav tlačítka pro kontrolu (zaškrtávací políčko) v dialogovém okně.

```
HRESULT GetCheckButtonState(
    DWORD dwIDCtl,
    BOOL& bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávacího políčka

*bChecked*<br/>
Stav zaškrtávacího políčka. Hodnota TRUE označuje zaškrtnuto; Hodnota FALSE označuje nezaškrtnuté.

### <a name="remarks"></a>Poznámky

##  <a name="getcontrolitemstate"></a>CFileDialog::GetControlItemState

Načte aktuální stav položky v ovládacím prvku kontejneru, který se nachází v dialogovém okně.

```
HRESULT GetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru

*dwIDItem*<br/>
ID položky

*dwState*<br/>
Odkaz na proměnnou, která přijímá jednu z více hodnot z výčtu CDCONTROLSTATE, která označuje aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="getcontrolstate"></a>CFileDialog::GetControlState

Načte aktuální viditelnost a povolený stav daného ovládacího prvku.

```
HRESULT GetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku

*dwState*<br/>
Odkaz na proměnnou, která přijímá jednu nebo více hodnot z výčtu CDCONTROLSTATE, která označuje aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="geteditboxtext"></a>CFileDialog::GetEditBoxText

Načte aktuální text v ovládacím prvku textové pole.

```
HRESULT GetEditBoxText(
    DWORD dwIDCtl,
    CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole pro úpravy

*strText*<br/>
Textová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="getfileext"></a>CFileDialog::GetFileExt

Voláním této funkce načtete rozšíření názvu souboru zadaného do dialogového okna.

```
CString GetFileExt() const;
```

### <a name="return-value"></a>Návratová hodnota

Přípona názvu souboru.

### <a name="remarks"></a>Poznámky

Například pokud je zadaný název souboru DATA. `GetFileExt` Txt vrátí "txt".

Pokud `m_ofn.Flags` má nastavený příznak OFN_ALLOWMULTISELECT, obsahuje tento řetězec sekvenci řetězců zakončených hodnotou null a prvním řetězcem, který je cestou k adresáři vybrané skupiny souborů, a za ním názvy všech souborů vybraných uživatelem. K načtení cest k souborům použijte členské funkce [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) .

##  <a name="getfilename"></a>CFileDialog:: getsoubor

Voláním této funkce načtete název souboru zadaný v dialogovém okně.

```
CString GetFileName() const;
```

### <a name="return-value"></a>Návratová hodnota

Název souboru

### <a name="remarks"></a>Poznámky

Název souboru obsahuje předponu i příponu. Například `GetFileName` vrátí "text". DAT pro soubor C:\FILES\TEXT.DAT.

Pokud `m_ofn.Flags` [má nastavený](#getstartposition) příznak, měli byste zavolat GetStartPosition a GetNextPathName a načíst cestu k souboru. [](#getnextpathname) `OFN_ALLOWMULTISELECT`

##  <a name="getfiletitle"></a>CFileDialog::GetFileTitle

Voláním této funkce načtete název souboru zadaného v dialogovém okně.

```
CString GetFileTitle() const;
```

### <a name="return-value"></a>Návratová hodnota

Název souboru

### <a name="remarks"></a>Poznámky

Název souboru obsahuje pouze předponu bez cesty nebo rozšíření. Například `GetFileTitle` vrátí "text" pro soubor C:\FILES\TEXT.dat.

Pokud `m_ofn.Flags` má nastavený příznak OFN_ALLOWMULTISELECT, obsahuje tento řetězec sekvenci řetězců zakončených hodnotou null a prvním řetězcem, který je cestou k adresáři vybrané skupiny souborů, a za ním názvy všech souborů vybraných uživatelem. Z tohoto důvodu použijte členské funkce [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) k načtení dalšího názvu souboru v seznamu.

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog::D omodal](#domodal).

##  <a name="getfolderpath"></a>CFileDialog:: GetFolderPath

Zavolejte tuto členskou funkci, aby se načetla cesta aktuálně otevřené složky nebo adresáře pro otevření nebo uložení ve stylu prohlížeče nebo jako společné.

```
CString GetFolderPath() const;
```

### <a name="return-value"></a>Návratová hodnota

Objekt [CString](../../atl-mfc-shared/reference/cstringt-class.md) obsahující aktuálně otevřenou složku nebo adresář.

### <a name="remarks"></a>Poznámky

Dialogové okno se musí vytvořit se stylem OFN_EXPLORER. v opačném případě se metoda nezdařila s kontrolním výrazem.

Tuto metodu můžete zavolat pouze v případě, že se zobrazí dialogové okno. Po zavření dialogového okna nebude tato funkce nadále fungovat a metoda se nezdaří s kontrolním výrazem.

##  <a name="getifiledialogcustomize"></a>CFileDialog::GetIFileDialogCustomize

Načte ukazatel na vnitřní objekt modelu COM pro daný [CFileDialog](../../mfc/reference/cfiledialog-class.md).

```
IFileDialogCustomize* GetIFileDialogCustomize();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt modelu COM pro `CFileDialog`. Je vaše zodpovědnost za vhodné uvolnění tohoto ukazatele.

### <a name="remarks"></a>Poznámky

Tuto funkci použijte pouze v systému Windows Vista nebo novějším s objektem, který má *bVistaStyle* nastaven na hodnotu true. Použijete-li tuto funkci, pokud je *BVISTASTYLE* false, vrátí hodnotu null v režimu vydání a vyvolá kontrolní výraz v režimu ladění.

Další informace o `IFileDialogCustomize` rozhraní naleznete v tématu [IFileDialogCustomize](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt modelu COM. Chcete-li spustit tento příklad kódu, je nutné jej zkompilovat v systému Windows Vista nebo novějším.

[!code-cpp[NVC_MFC_CFileDialog#4](../../mfc/reference/codesnippet/cpp/cfiledialog-class_4.cpp)]

##  <a name="getifileopendialog"></a>CFileDialog::GetIFileOpenDialog

Načte ukazatel na vnitřní objekt modelu COM pro daný `CFileDialog`objekt.

```
IFileOpenDialog* GetIFileOpenDialog();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt modelu COM pro `CFileDialog`. Je vaše zodpovědnost za vhodné uvolnění tohoto ukazatele.

### <a name="remarks"></a>Poznámky

Tuto funkci použijte pouze v systému Windows Vista nebo novějším s objektem, který má *bVistaStyle* nastaven na hodnotu true. Tato funkce vrátí hodnotu null, `CFileDialog` Pokud se nejedná o **otevřené** dialogové okno, nebo pokud je *bVistaStyle* nastaveno na false. V tomto posledním případě funkce vrací hodnotu NULL pouze v režimu vydání – v režimu ladění vyvolá kontrolní výraz.

Další informace o `IFileOpenDialog` rozhraní naleznete v tématu [IFileOpenDialog](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifileopendialog).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt modelu COM. Chcete-li spustit tento kód, je nutné jej zkompilovat v systému Windows Vista nebo novějším.

[!code-cpp[NVC_MFC_CFileDialog#2](../../mfc/reference/codesnippet/cpp/cfiledialog-class_5.cpp)]

##  <a name="getifilesavedialog"></a>CFileDialog::GetIFileSaveDialog

Načte ukazatel na vnitřní objekt modelu COM pro daný `CFileDialog`objekt.

```
IFileSaveDialog* GetIFileSaveDialog();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt modelu COM pro `CFileDialog`. Je vaše zodpovědnost za vhodné uvolnění tohoto ukazatele.

### <a name="remarks"></a>Poznámky

Tuto funkci použijte pouze v systému Windows Vista nebo novějším s objektem, který má *bVistaStyle* nastaven na hodnotu true. Tato funkce vrátí hodnotu null, pokud `CFileDialog` není dialogové okno **Uložit** , nebo pokud je *bVistaStyle* nastaveno na false. V tomto posledním případě funkce vrací hodnotu NULL pouze v režimu vydání – v režimu ladění vyvolá kontrolní výraz.

Další informace o `IFileSaveDialog` rozhraní naleznete v tématu [IFileSaveDialog](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifilesavedialog).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt modelu COM. Chcete-li spustit tento příklad kódu, je nutné jej zkompilovat v systému Windows Vista nebo novějším.

[!code-cpp[NVC_MFC_CFileDialog#3](../../mfc/reference/codesnippet/cpp/cfiledialog-class_6.cpp)]

##  <a name="getnextpathname"></a>CFileDialog::GetNextPathName

Voláním této funkce načtete další název souboru ze skupiny vybrané v dialogovém okně.

```
CString GetNextPathName(POSITION& pos) const;
```

### <a name="parameters"></a>Parametry

*POS*<br/>
Odkaz na hodnotu pozice vrácenou předchozím `GetNextPathName` nebo `GetStartPosition` voláním funkce. Hodnota NULL, pokud bylo dosaženo konce seznamu.

### <a name="return-value"></a>Návratová hodnota

Úplná cesta k souboru.

### <a name="remarks"></a>Poznámky

Cesta k názvu souboru obsahuje název souboru a cestu k celému adresáři. `GetNextPathName` Bude například vracet "C:\FILES\TEXT. DAT pro soubor C:\FILES\TEXT.DAT. Můžete použít `GetNextPathName` ve smyčce dopředné iteraci, pokud vytvoříte počáteční pozici s `GetStartPosition`voláním.

Pokud se výběr skládá pouze z jednoho souboru, bude tento název souboru vrácen.

##  <a name="getofn"></a>CFileDialog::GetOFN

Načte přidruženou `OPENFILENAME` strukturu.

```
const OPENFILENAME& GetOFN() const;

OPENFILENAME& GetOFN();
```

### <a name="return-value"></a>Návratová hodnota

Struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew)

### <a name="remarks"></a>Poznámky

Pomocí druhé verze této funkce můžete inicializovat vzhled dialogového okna **otevřít soubor** nebo **soubor uložit jako** po jeho vytvoření, ale před jeho `DoModal` zobrazením s členskou funkcí. Můžete například nastavit `lpstrTitle` `m_ofn` člena na titulek, který má mít dialogové okno.

##  <a name="getpathname"></a>CFileDialog:: getcesta

Voláním této funkce načtete úplnou cestu k souboru zadanému v dialogovém okně.

```
CString GetPathName() const;
```

### <a name="return-value"></a>Návratová hodnota

Úplná cesta k souboru.

### <a name="remarks"></a>Poznámky

Cesta k názvu souboru obsahuje název souboru a cestu k celému adresáři. `GetPathName` Bude například vracet "C:\FILES\TEXT. DAT pro soubor C:\FILES\TEXT.DAT.

Pokud `m_ofn.Flags` má nastavený příznak OFN_ALLOWMULTISELECT, tento řetězec obsahuje sekvenci řetězců s hodnotou null-teminated a prvním řetězcem, který je cestou k adresáři vybrané skupiny souborů, a potom názvy všech souborů vybraných uživatelem. Z tohoto důvodu použijte členské funkce [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) k načtení dalšího názvu souboru v seznamu.

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog::D omodal](#domodal).

##  <a name="getreadonlypref"></a>CFileDialog::GetReadOnlyPref

Voláním této funkce zjistíte, zda bylo zaškrtnuto políčko jen pro čtení v dialogových oknech standardní soubor pro Windows otevřít a uložit jako soubor.

```
BOOL GetReadOnlyPref() const;
```

### <a name="return-value"></a>Návratová hodnota

Nenulová, pokud je zaškrtnuto políčko jen pro čtení v dialogovém okně; v opačném případě 0.

### <a name="remarks"></a>Poznámky

Zaškrtávací políčko jen pro čtení lze skrýt nastavením stylu OFN_HIDEREADONLY v `CFileDialog` konstruktoru.

> [!NOTE]
> Objekty stylu `CFileDialog` Windows Vista nebo novější tuto funkci nepodporují. Při pokusu o použití této funkce ve stylu `CFileDialog` Windows Vista nebo novějším se vyvolá [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

##  <a name="getresult"></a>CFileDialog:: GetResult

Načte volbu, kterou uživatel provedl v dialogovém okně.

```
IShellItem* GetResult() throw();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na IShellItem, který představuje volbu uživatele.

### <a name="remarks"></a>Poznámky

##  <a name="getresults"></a>CFileDialog:: GetResults

Načte volby uživatele v dialogovém okně, které umožňuje vícenásobný výběr.

```
IShellItemArray* GetResults() throw();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na IShellItemArray, pomocí kterého lze použít položky vybrané v dialogovém okně.

### <a name="remarks"></a>Poznámky

##  <a name="getselectedcontrolitem"></a>CFileDialog::GetSelectedControlItem

Načte konkrétní položku ze zadaného ovládacího prvku kontejneru v dialogovém okně.

```
HRESULT GetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD& dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru

*dwIDItem*<br/>
ID položky, kterou uživatel vybral v ovládacím prvku

### <a name="remarks"></a>Poznámky

##  <a name="getstartposition"></a>CFileDialog::GetStartPosition

Volejte tuto členskou funkci pro načtení pozice první cesty souboru v seznamu, pokud `m_ofn.Flags` má nastaven příznak OFN_ALLOWMULTISELECT.

```
POSITION GetStartPosition() const;
```

### <a name="return-value"></a>Návratová hodnota

Hodnota pozice, kterou lze použít pro iteraci. Hodnota NULL, pokud je seznam prázdný.

##  <a name="hidecontrol"></a>CFileDialog::HideControl

Zavolejte tuto členskou funkci pro skrytí zadaného ovládacího prvku v dialogovém okně Otevřít nebo Uložit jako běžné ve stylu prohlížeče.

```
void HideControl(int nID);
```

### <a name="parameters"></a>Parametry

*nID*<br/>
ID ovládacího prvku, který se má skrýt

### <a name="remarks"></a>Poznámky

Dialogové okno se musí vytvořit se stylem OFN_EXPLORER. v opačném případě se funkce nezdaří s kontrolním výrazem.

##  <a name="ispickfoldersmode"></a>  CFileDialog::IsPickFoldersMode

Určuje, zda je aktuální dialogové okno v režimu výběru složky.

```
BOOL IsPickFoldersMode() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud je dialogové okno v režimu výběru složky; v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

##  <a name="m_ofn"></a>CFileDialog::m_ofn

`m_ofn`je struktura typu `OPENFILENAME`. Data v této struktuře představují aktuální stav `CFileDialog`.

### <a name="remarks"></a>Poznámky

Tuto strukturu použijte k inicializaci vzhledu dialogového okna **otevřít soubor** nebo **soubor uložit jako** po jeho sestavení, ale před jeho zobrazením pomocí metody [DoModal](#domodal) . Například můžete nastavit člena `m_ofn` *lpstrTitle* na titulek, který má dialogové okno mít.

S Windows Vista nebo novějším stylem [CFileDialog](../../mfc/reference/cfiledialog-class.md)není `m_ofn` zaručeno, že vždy bude odpovídat stavu dialogového okna. Je synchronizován s dialogovým oknem v dřívějších verzích systému Windows. `CFileDialog` Další informace [](#updateofnfromshelldialog) `m_ofn` o synchronizaci struktury a stavu v systému Windows Vista nebo novějším naleznete v tématu [CFileDialog:: ApplyOFNToShellDialog](#applyofntoshelldialog) a CFileDialog:: UpdateOFNFromShellDialog.

Dialogová okna souboru s `CFileDialog`Windows Vista nebo novějším nepodporují určité členy a příznaky. V důsledku toho nebude mít žádný vliv.

Následuje seznam členů, kteří nejsou podporováni systémem Windows Vista nebo novějším:

- `lpstrCustomFilter`

- `lpstrInitialDir`

- `lCustData`

- `lpfnHook`

- `lpTemplateName`

Následující příznaky nejsou podporovány, a proto nemají žádný vliv, pokud používáte systém Windows Vista nebo novější styl `CFileDialog`:

- OFN_ENABLEHOOK

- OFN_ENABLEINCLUDENOTIFY

- OFN_ENABLETEMPLATE

- OFN_ENABLETEMPLATEHANDLE

- OFN_EXPLORER

- OFN_EXTENSIONDIFFERENT

- OFN_HIDEREADONLY

- OFN_LONGNAMES – účinně v systému Windows Vista nebo novějším

- OFN_NOLONGNAMES – efektivně vždy vypnuto v systému Windows Vista nebo novějším

- OFN_NONETWORKBUTTON – účinně v systému Windows Vista nebo novějším

- OFN_READONLY

- OFN_SHOWHELP

Další informace o této struktuře naleznete v tématu struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) v Windows SDK.

##  <a name="makeprominent"></a>CFileDialog::MakeProminent

Umístí ovládací prvek do dialogového okna tak, aby se v porovnání s jinými ovládacími prvky.

```
HRESULT MakeProminent(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku

### <a name="remarks"></a>Poznámky

##  <a name="onbuttonclicked"></a>CFileDialog::OnButtonClicked

Volá se při kliknutí na tlačítko.

```
virtual void OnButtonClicked(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID tlačítka

### <a name="remarks"></a>Poznámky

##  <a name="oncheckbuttontoggled"></a>CFileDialog::OnCheckButtonToggled

Volá se, když je zaškrtávací políčko zaškrtnuté nebo nezaškrtnuté.

```
virtual void OnCheckButtonToggled(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávacího políčka

*bChecked*<br/>
Zaškrtnuto nebo nezaškrtnuto.

### <a name="remarks"></a>Poznámky

##  <a name="oncontrolactivating"></a>CFileDialog::OnControlActivating

Volá se, když se aktivuje ovládací prvek.

```
virtual void OnControlActivating(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku

### <a name="remarks"></a>Poznámky

##  <a name="onfilenamechange"></a>CFileDialog::OnFileNameChange

Tuto metodu přepište, pokud chcete zpracovat zprávu WM_NOTIFY CDN_SELCHANGE.

```
virtual void OnFileNameChange();
```

### <a name="remarks"></a>Poznámky

Systém odesílá zprávu CDN_SELCHANGE, když uživatel vybere nový soubor nebo složku v seznamu souborů v dialogovém okně **otevřít** nebo **Uložit jako** . Tuto metodu přepište, pokud chcete provádět jakékoli akce v reakci na tuto zprávu.

Systém tuto zprávu pošle jenom v případě, že se dialogové okno vytvořilo se zapnutým příznakem OFN_EXPLORER. Další informace o tomto oznámení najdete v tématu [CDN_SELCHANGE](/windows/win32/dlgbox/cdn-selchange). Informace o příznaku OFN_EXPLORER najdete v dialogových oknech struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) a [otevřít a uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="onfilenameok"></a>CFileDialog::OnFileNameOK

Tuto funkci popište pouze v případě, že chcete zadat vlastní ověření názvů souborů, které jsou zadány do dialogového okna společný soubor.

```
virtual BOOL OnFileNameOK();
```

### <a name="return-value"></a>Návratová hodnota

1, pokud název souboru není platný název souboru; v opačném případě 0.

### <a name="remarks"></a>Poznámky

Tato funkce umožňuje odmítat název souboru pro jakýkoli důvod specifický pro aplikaci. Obvykle tuto funkci nemusíte používat, protože rozhraní poskytuje výchozí ověřování názvů souborů a při zadání neplatného názvu souboru se zobrazí okno se zprávou.

Pokud se vrátí 1, dialogové okno se zobrazí, aby uživatel mohl zadat jiný název souboru. Procedura dialogového okna zavře dialogové okno, pokud je návratová hodnota 0. Jiné nenulové hodnoty vrácení jsou aktuálně rezervované a neměly by se používat.

##  <a name="onfolderchange"></a>CFileDialog::OnFolderChange

Přepište tuto funkci, aby se zpracovala zpráva WM_NOTIFYCDN_FOLDERCHANGE.

```
virtual void OnFolderChange();
```

### <a name="remarks"></a>Poznámky

Zpráva oznámení se pošle, když se v dialogovém okně Otevřít nebo Uložit jako otevře nová složka.

Oznámení se odešle jenom v případě, že se dialogové okno vytvořilo se stylem OFN_EXPLORER. Další informace o tomto oznámení najdete v tématu [CDN_FOLDERCHANGE](/windows/win32/dlgbox/cdn-folderchange). Informace o stylu OFN_EXPLORER naleznete v dialogových oknech struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) a [otevřít a uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="oninitdone"></a>CFileDialog::OnInitDone

Tuto funkci potlačíte, aby se zpracovala zpráva WM_NOTIFY CDN_INITDONE.

```
virtual void OnInitDone();
```

### <a name="remarks"></a>Poznámky

Systém pošle tuto zprávu s oznámením, když systém dokončí uspořádání ovládacích prvků v dialogovém okně **otevřít** nebo **Uložit jako** , aby uvolnil prostor pro ovládací prvky podřízeného dialogového okna.

Systém ho pošle jenom v případě, že se dialogové okno vytvořilo se stylem OFN_EXPLORER. Další informace o tomto oznámení najdete v tématu [CDN_INITDONE](/windows/win32/dlgbox/cdn-initdone). Informace o stylu OFN_EXPLORER naleznete v dialogových oknech struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) a [otevřít a uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

> [!NOTE]
> Dialogová okna se systémem Windows Vista nebo novějším nepodporují tuto funkci. Při pokusu o použití této funkce v dialogu Windows Vista nebo novějším souboru stylu se vyvolá [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

##  <a name="onitemselected"></a>CFileDialog::OnItemSelected

Volá se, když je vybraná položka kontejneru.

```
virtual void OnItemSelected(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru

*dwIDItem*<br/>
ID položky

### <a name="remarks"></a>Poznámky

##  <a name="onlbselchangednotify"></a>CFileDialog::OnLBSelChangedNotify

Tato funkce se volá vždycky, když se změní aktuální výběr v seznamu.

```
virtual void OnLBSelChangedNotify(
    UINT nIDBox,
    UINT iCurSel,
    UINT nCode);
```

### <a name="parameters"></a>Parametry

*nIDBox*<br/>
ID pole seznamu nebo pole se seznamem, ve kterém došlo k výběru.

*iCurSel*<br/>
Index aktuálního výběru.

*nCode*<br/>
Kód oznámení ovládacího prvku Tento parametr musí mít jednu z následujících hodnot:

- CD_LBSELCHANGE určuje, že *iCurSel* je vybraná položka v seznamu s jedním výběrem.

- CD_LBSELSUB určuje, že *iCurSel* už není vybraný v seznamu pro více výběrů.

- CD_LBSELADD určuje, že v seznamu více výběrů je vybráno *iCurSel* .

- CD_LBSELNOITEMS určuje, že v rozevíracím seznamu vícenásobného výběru neexistuje žádný výběr.

### <a name="remarks"></a>Poznámky

Tuto funkci můžete přepsat tak, aby poskytovala vlastní zpracování změn výběru v poli se seznamem. Pomocí této funkce můžete například zobrazit přístupová práva nebo datum a čas poslední změny každého souboru, který uživatel vybere.

##  <a name="onshareviolation"></a>CFileDialog::OnShareViolation

Přepsáním této funkce zajistíte vlastní zpracování narušení sdílení.

```
virtual UINT OnShareViolation(LPCTSTR lpszPathName);
```

### <a name="parameters"></a>Parametry

*lpszPathName*<br/>
Cesta k souboru, na kterém došlo k narušení sdílení.

### <a name="return-value"></a>Návratová hodnota

Jedna z následujících hodnot:

- OFN_SHAREFALLTHROUGH název souboru se vrátí z dialogového okna.

- OFN_SHARENOWARN není nutné provádět žádné další akce.

- OFN_SHAREWARN uživatel obdrží standardní zprávu upozornění pro tuto chybu.

### <a name="remarks"></a>Poznámky

Obvykle tuto funkci nemusíte používat, protože rozhraní poskytuje výchozí kontrolu narušení sdílení a zobrazí okno se zprávou, pokud dojde k narušení sdílení.

Chcete-li zakázat kontrolu narušení sdílení, použijte operátor OR pro kombinování příznaku OFN_SHAREAWARE s `m_ofn.Flags`.

##  <a name="ontypechange"></a>CFileDialog::OnTypeChange

Přepište tuto funkci, aby se zpracovala zpráva WM_NOTIFYCDN_TYPECHANGE.

```
virtual void OnTypeChange();
```

### <a name="remarks"></a>Poznámky

Zpráva oznámení se odešle, když uživatel vybere nový typ souboru ze seznamu typů souborů v dialogovém okně Otevřít nebo Uložit jako.

Oznámení se odešle jenom v případě, že se dialogové okno vytvořilo se stylem OFN_EXPLORER. Další informace o tomto oznámení najdete v tématu [CDN_TYPECHANGE](/windows/win32/dlgbox/cdn-typechange). Informace o stylu OFN_EXPLORER naleznete v dialogových oknech struktura [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) a [otevřít a uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="removecontrolitem"></a>CFileDialog::RemoveControlItem

Odebere položku z ovládacího prvku kontejneru v dialogovém okně.

```
HRESULT RemoveControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru, ze kterého se má položka odebrat

*dwIDItem*<br/>
ID položky

### <a name="remarks"></a>Poznámky

##  <a name="setcheckbuttonstate"></a>CFileDialog::SetCheckButtonState

Nastaví aktuální stav tlačítka check (zaškrtávací políčko) v dialogovém okně.

```
HRESULT SetCheckButtonState(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávacího políčka

*bChecked*<br/>
Stav zaškrtávacího políčka. Hodnota TRUE označuje zaškrtnuto; Hodnota FALSE označuje nezaškrtnuté.

### <a name="remarks"></a>Poznámky

##  <a name="setcontrolitemstate"></a>CFileDialog::SetControlItemState

Nastaví aktuální stav položky v ovládacím prvku kontejneru, který se nachází v dialogovém okně.

```
HRESULT SetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru

*dwIDItem*<br/>
ID položky

*dwState*<br/>
Jedna nebo více hodnot z výčtu CDCONTROLSTATE, které označují nový stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="setcontrolitemtext"></a>CFileDialog::SetControlItemText

Nastaví text položky ovládacího prvku. Například text doprovázející přepínač nebo položku v nabídce.

```
HRESULT SetControlItemText(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru

*dwIDItem*<br/>
ID položky

*strLabel*<br/>
Text položky

### <a name="remarks"></a>Poznámky

##  <a name="setcontrollabel"></a>CFileDialog::SetControlLabel

Nastaví text přidružený k ovládacímu prvku, jako je například text tlačítka nebo popisek pro textové pole.

```
HRESULT SetControlLabel(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku

*strLabel*<br/>
Název ovládacího prvku

### <a name="remarks"></a>Poznámky

##  <a name="setcontrolstate"></a>CFileDialog::SetControlState

Nastaví aktuální viditelnost a povolený stav daného ovládacího prvku.

```
HRESULT SetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku

*dwState*<br/>
Jedna nebo více hodnot z výčtu CDCONTROLSTATE, které označují aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="setcontroltext"></a>CFileDialog::SetControlText

Voláním této metody nastavíte text pro určený ovládací prvek v dialogovém okně **otevřít** nebo **Uložit jako** ve stylu Průzkumníka.

```
void SetControlText(
    int nID,
    LPCSTR lpsz);

void SetControlText(
    int nID,
    const wchar_t *lpsz);
```

### <a name="parameters"></a>Parametry

*nID*<br/>
pro ID ovládacího prvku, pro který chcete nastavit text

*lpsz*<br/>
pro Ukazatel na řetězec obsahující text, který má být nastaven pro ovládací prvek.

### <a name="remarks"></a>Poznámky

Obě verze této funkce jsou platné pro aplikace, které používají Unicode. Jenom verze s typem LPCSTR je ale platná pro aplikace, které používají ANSI.

Chcete-li použít tuto metodu, je nutné vytvořit dialogové okno se stylem OFN_EXPLORER. V opačném případě se funkce nezdaří s kontrolním výrazem.

##  <a name="setdefext"></a>CFileDialog::SetDefExt

Voláním této funkce nastavíte výchozí příponu názvu souboru pro dialogové okno otevřít nebo Uložit jako společné ve stylu Průzkumníka.

```
void SetDefExt(LPCSTR lpsz);
```

### <a name="parameters"></a>Parametry

*lpsz*<br/>
Ukazatel na řetězec obsahující výchozí příponu, která má být použita pro objekt dialogového okna. Tento řetězec nesmí obsahovat tečku (.).

### <a name="remarks"></a>Poznámky

Dialogové okno se musí vytvořit se stylem OFN_EXPLORER. v opačném případě se funkce nezdaří s kontrolním výrazem.

##  <a name="seteditboxtext"></a>CFileDialog::SetEditBoxText

Nastaví aktuální text v ovládacím prvku textové pole.

```
HRESULT SetEditBoxText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole pro úpravy

*strText*<br/>
Textová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="setproperties"></a>CFileDialog:: SetProperties

Poskytuje úložiště vlastností, které definuje výchozí hodnoty, které se mají použít pro položku, která se ukládá.

```
BOOL SetProperties(LPCWSTR lpszPropList);
```

### <a name="parameters"></a>Parametry

*lpszPropList*<br/>
Seznam předdefinovaných vlastností oddělených znakem ";". Seznam příznaků naleznete v části **Flags** v [lpstrFile](/windows/win32/api/commdlg/ns-commdlg-openfilenamew).

### <a name="remarks"></a>Poznámky

##  <a name="setselectedcontrolitem"></a>CFileDialog::SetSelectedControlItem

Nastaví vybraný stav konkrétní položky ve skupině přepínačů nebo pole se seznamem, které najdete v dialogovém okně.

```
HRESULT SetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru

*dwIDItem*<br/>
ID položky, kterou uživatel vybral v ovládacím prvku

### <a name="remarks"></a>Poznámky

##  <a name="settemplate"></a>CFileDialog::SetTemplate

Nastaví šablonu dialogového okna pro objekt [CFileDialog](../../mfc/reference/cfiledialog-class.md) .

```
void SetTemplate(
    UINT nWin3ID,
    UINT nWin4ID);

void SetTemplate(
    LPCTSTR lpWin3ID,
    LPCTSTR lpWin4ID);
```

### <a name="parameters"></a>Parametry

*nWin3ID*<br/>
pro Obsahuje identifikační číslo prostředku šablony pro objekt, který není průzkumníkem `CFileDialog` . Tato šablona se používá pouze v systému Windows NT 3,51 nebo není k dispozici styl OFN_EXPLORER.

*nWin4ID*<br/>
pro Obsahuje identifikační číslo prostředku šablony pro objekt Explorer `CFileDialog` . Tato šablona se používá pouze v systému Windows NT 4,0 a novějších verzích, Windows 95 a novějších verzích nebo v případě, že je k dispozici styl OFN_EXPLORER.

*lpWin3ID*<br/>
pro Obsahuje název prostředku šablony pro objekt mimo Průzkumníka `CFileDialog` . Tato šablona se používá pouze v systému Windows NT 3,51 nebo není k dispozici styl OFN_EXPLORER.

*lpWin4ID*<br/>
pro Obsahuje název prostředku šablony objektu Explorer `CFileDialog` . Tato šablona se používá pouze v systému Windows NT 4,0 a novějších verzích, Windows 95 a novějších verzích nebo v případě, že je k dispozici styl OFN_EXPLORER.

### <a name="remarks"></a>Poznámky

Systém použije jenom jednu ze zadaných šablon. Systém Určuje, která šablona se má použít, na základě přítomnosti stylu OFN_EXPLORER a operačního systému, ve kterém je aplikace spuštěná. Když zadáte šablonu ve stylu non-Explorer a Průzkumník, je snadné podporovat Windows NT 3,51, Windows NT 4,0 a novější verze a Windows 95 a novější verze.

> [!NOTE]
> Dialogová okna souboru se systémem Windows Vista nebo novějším nepodporují tuto funkci. Při pokusu o použití této funkce v dialogovém okně souboru ve stylu Windows Vista nebo novějším se vyvolá [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md). Alternativou je použití přizpůsobeného dialogového okna. Další informace o použití vlastního `CFileDialog`naleznete v tématu [IFileDialogCustomize](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

##  <a name="startvisualgroup"></a>CFileDialog::StartVisualGroup

Deklaruje vizuální skupinu v dialogovém okně. Následná volání jakékoli metody "Add" přidají tyto prvky do této skupiny.

```
HRESULT StartVisualGroup(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID skupiny vizuálů

*strLabel*<br/>
Název skupiny

### <a name="remarks"></a>Poznámky

##  <a name="updateofnfromshelldialog"></a>CFileDialog::UpdateOFNFromShellDialog

Aktualizuje strukturu dat CFileDialog na základě aktuálního stavu interního objektu. [](../../mfc/reference/cfiledialog-class.md) `m_ofn`

```
void UpdateOFNFromShellDialog();
```

### <a name="remarks"></a>Poznámky

Ve verzích Windows před Windows Vista byla struktura dat členských [lpstrFile](/previous-versions/windows/embedded/ms911906\(v=msdn.10\)) průběžně synchronizovaná se stavem `CFileDialog`. Jakékoli změny členské proměnné [m_ofn](#m_ofn) byly přímo ovlivněny stavem dialogového okna. Všechny změny stavu dialogového okna také okamžitě aktualizují členskou proměnnou m_ofn.

V systému Windows Vista nebo novějších `m_ofn` se datová struktura neaktualizuje automaticky. Chcete-li zaručit přesnost dat v `m_ofn` proměnné členu, měli byste `UpdateOFNFromShellDialog` zavolat funkci před přístupem k datům. Systém Windows volá tuto funkci automaticky během zpracování [IFileDialog:: OnFileOK](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ifiledialogevents-onfileok).

Další informace o tom, jak použít `CFileDialog` třídu v systému Windows Vista nebo novější, naleznete v tématu [Třída CFileDialog](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Příklad

Tento příklad aktualizuje před `CFileDialog` tím, než se zobrazí. Před aktualizací `m_ofn` členské proměnné je potřeba ji synchronizovat s aktuálním stavem dialogového okna.

[!code-cpp[NVC_MFC_CFileDialog#1](../../mfc/reference/codesnippet/cpp/cfiledialog-class_7.cpp)]

## <a name="see-also"></a>Viz také:

[CCommonDialog – třída](../../mfc/reference/ccommondialog-class.md)<br/>
[Graf hierarchie](../../mfc/hierarchy-chart.md)
