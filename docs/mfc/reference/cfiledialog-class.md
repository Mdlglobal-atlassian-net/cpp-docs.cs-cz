---
title: Cfiledialog – třída
ms.date: 11/04/2016
f1_keywords:
- CFileDialog
- AFXDLGS/CFileDialog
- AFXDLGS/CFileDialog::CFileDialog
- AFXDLGS/CFileDialog::AddCheckButton
- AFXDLGS/CFileDialog::AddComboBox
- AFXDLGS/CFileDialog::AddControlItem
- AFXDLGS/CFileDialog::AddEditBox
- AFXDLGS/CFileDialog::AddMenu
- AFXDLGS/CFileDialog::AddPlace
- AFXDLGS/CFileDialog::AddPushButton
- AFXDLGS/CFileDialog::AddRadioButtonList
- AFXDLGS/CFileDialog::AddSeparator
- AFXDLGS/CFileDialog::AddText
- AFXDLGS/CFileDialog::ApplyOFNToShellDialog
- AFXDLGS/CFileDialog::DoModal
- AFXDLGS/CFileDialog::EnableOpenDropDown
- AFXDLGS/CFileDialog::EndVisualGroup
- AFXDLGS/CFileDialog::GetCheckButtonState
- AFXDLGS/CFileDialog::GetControlItemState
- AFXDLGS/CFileDialog::GetControlState
- AFXDLGS/CFileDialog::GetEditBoxText
- AFXDLGS/CFileDialog::GetFileExt
- AFXDLGS/CFileDialog::GetFileName
- AFXDLGS/CFileDialog::GetFileTitle
- AFXDLGS/CFileDialog::GetFolderPath
- AFXDLGS/CFileDialog::GetIFileDialogCustomize
- AFXDLGS/CFileDialog::GetIFileOpenDialog
- AFXDLGS/CFileDialog::GetIFileSaveDialog
- AFXDLGS/CFileDialog::GetNextPathName
- AFXDLGS/CFileDialog::GetOFN
- AFXDLGS/CFileDialog::GetPathName
- AFXDLGS/CFileDialog::GetReadOnlyPref
- AFXDLGS/CFileDialog::GetResult
- AFXDLGS/CFileDialog::GetResults
- AFXDLGS/CFileDialog::GetSelectedControlItem
- AFXDLGS/CFileDialog::GetStartPosition
- AFXDLGS/CFileDialog::HideControl
- AFXDLGS/CFileDialog::IsPickFoldersMode
- AFXDLGS/CFileDialog::MakeProminent
- AFXDLGS/CFileDialog::RemoveControlItem
- AFXDLGS/CFileDialog::SetCheckButtonState
- AFXDLGS/CFileDialog::SetControlItemState
- AFXDLGS/CFileDialog::SetControlItemText
- AFXDLGS/CFileDialog::SetControlLabel
- AFXDLGS/CFileDialog::SetControlState
- AFXDLGS/CFileDialog::SetControlText
- AFXDLGS/CFileDialog::SetDefExt
- AFXDLGS/CFileDialog::SetEditBoxText
- AFXDLGS/CFileDialog::SetProperties
- AFXDLGS/CFileDialog::SetSelectedControlItem
- AFXDLGS/CFileDialog::SetTemplate
- AFXDLGS/CFileDialog::StartVisualGroup
- AFXDLGS/CFileDialog::UpdateOFNFromShellDialog
- AFXDLGS/CFileDialog::OnButtonClicked
- AFXDLGS/CFileDialog::OnCheckButtonToggled
- AFXDLGS/CFileDialog::OnControlActivating
- AFXDLGS/CFileDialog::OnFileNameChange
- AFXDLGS/CFileDialog::OnFileNameOK
- AFXDLGS/CFileDialog::OnFolderChange
- AFXDLGS/CFileDialog::OnInitDone
- AFXDLGS/CFileDialog::OnItemSelected
- AFXDLGS/CFileDialog::OnLBSelChangedNotify
- AFXDLGS/CFileDialog::OnShareViolation
- AFXDLGS/CFileDialog::OnTypeChange
- AFXDLGS/CFileDialog::m_ofn
helpviewer_keywords:
- CFileDialog [MFC], CFileDialog
- CFileDialog [MFC], AddCheckButton
- CFileDialog [MFC], AddComboBox
- CFileDialog [MFC], AddControlItem
- CFileDialog [MFC], AddEditBox
- CFileDialog [MFC], AddMenu
- CFileDialog [MFC], AddPlace
- CFileDialog [MFC], AddPushButton
- CFileDialog [MFC], AddRadioButtonList
- CFileDialog [MFC], AddSeparator
- CFileDialog [MFC], AddText
- CFileDialog [MFC], ApplyOFNToShellDialog
- CFileDialog [MFC], DoModal
- CFileDialog [MFC], EnableOpenDropDown
- CFileDialog [MFC], EndVisualGroup
- CFileDialog [MFC], GetCheckButtonState
- CFileDialog [MFC], GetControlItemState
- CFileDialog [MFC], GetControlState
- CFileDialog [MFC], GetEditBoxText
- CFileDialog [MFC], GetFileExt
- CFileDialog [MFC], GetFileName
- CFileDialog [MFC], GetFileTitle
- CFileDialog [MFC], GetFolderPath
- CFileDialog [MFC], GetIFileDialogCustomize
- CFileDialog [MFC], GetIFileOpenDialog
- CFileDialog [MFC], GetIFileSaveDialog
- CFileDialog [MFC], GetNextPathName
- CFileDialog [MFC], GetOFN
- CFileDialog [MFC], GetPathName
- CFileDialog [MFC], GetReadOnlyPref
- CFileDialog [MFC], GetResult
- CFileDialog [MFC], GetResults
- CFileDialog [MFC], GetSelectedControlItem
- CFileDialog [MFC], GetStartPosition
- CFileDialog [MFC], HideControl
- CFileDialog [MFC], IsPickFoldersMode
- CFileDialog [MFC], MakeProminent
- CFileDialog [MFC], RemoveControlItem
- CFileDialog [MFC], SetCheckButtonState
- CFileDialog [MFC], SetControlItemState
- CFileDialog [MFC], SetControlItemText
- CFileDialog [MFC], SetControlLabel
- CFileDialog [MFC], SetControlState
- CFileDialog [MFC], SetControlText
- CFileDialog [MFC], SetDefExt
- CFileDialog [MFC], SetEditBoxText
- CFileDialog [MFC], SetProperties
- CFileDialog [MFC], SetSelectedControlItem
- CFileDialog [MFC], SetTemplate
- CFileDialog [MFC], StartVisualGroup
- CFileDialog [MFC], UpdateOFNFromShellDialog
- CFileDialog [MFC], OnButtonClicked
- CFileDialog [MFC], OnCheckButtonToggled
- CFileDialog [MFC], OnControlActivating
- CFileDialog [MFC], OnFileNameChange
- CFileDialog [MFC], OnFileNameOK
- CFileDialog [MFC], OnFolderChange
- CFileDialog [MFC], OnInitDone
- CFileDialog [MFC], OnItemSelected
- CFileDialog [MFC], OnLBSelChangedNotify
- CFileDialog [MFC], OnShareViolation
- CFileDialog [MFC], OnTypeChange
- CFileDialog [MFC], m_ofn
ms.assetid: fda4fd3c-08b8-4ce0-8e9d-7bab23f8c6c0
ms.openlocfilehash: 87f99b4f037c8cc881b33e1d07b4f07596ee9a1b
ms.sourcegitcommit: b032daf81cb5fdb1f5a988277ee30201441c4945
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/15/2018
ms.locfileid: "51694540"
---
# <a name="cfiledialog-class"></a>Cfiledialog – třída

Zapouzdřuje běžných dialogových oken, která slouží k otevření souboru nebo souboru operace ukládání.

## <a name="syntax"></a>Syntaxe

```
class CFileDialog : public CCommonDialog
```

## <a name="members"></a>Členové

### <a name="public-constructors"></a>Veřejné konstruktory

|Název|Popis|
|----------|-----------------|
|[CFileDialog::CFileDialog](#cfiledialog)|Vytvoří `CFileDialog` objektu.|

### <a name="public-methods"></a>Veřejné metody

|Název|Popis|
|----------|-----------------|
|[CFileDialog::AddCheckButton](#addcheckbutton)|Přidá tlačítko zaškrtnutí do dialogového okna.|
|[CFileDialog::AddComboBox](#addcombobox)|Přidá pole se seznamem do dialogového okna.|
|[CFileDialog::AddControlItem](#addcontrolitem)|Přidá položku do kontejneru ovládacího prvku v dialogovém okně.|
|[CFileDialog::AddEditBox](#addeditbox)|Přidá do textového pole do dialogového okna.|
|[CFileDialog::AddMenu](#addmenu)|Nabídka se přidá do dialogového okna.|
|[CFileDialog::AddPlace](#addplace)|Přetíženo. Přidá že složku do seznamu umístění k dispozici pro uživatele k otevření nebo uložení položky.|
|[CFileDialog::AddPushButton](#addpushbutton)|Přidá tlačítko do dialogového okna.|
|[CFileDialog::AddRadioButtonList](#addradiobuttonlist)|Přidá skupinu tlačítko (neboli přepínač) možnost do dialogového okna.|
|[CFileDialog::AddSeparator](#addseparator)|Přidá oddělovač do dialogového okna.|
|[CFileDialog::AddText](#addtext)|Přidá textový obsah do dialogového okna.|
|[CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog)|Aktualizuje stav `CFileDialog` tak, aby odpovídaly parametry a příznaky, které jsou uložené v `m_ofn` členské proměnné.|
|[CFileDialog::DoModal](#domodal)|Zobrazí dialogové okno a umožňuje uživatelům provést výběr.|
|[CFileDialog::EnableOpenDropDown](#enableopendropdown)|Umožňuje v rozevíracím seznamu **otevřít** nebo **Uložit** tlačítko v dialogovém okně.|
|[CFileDialog::EndVisualGroup](#endvisualgroup)|Zastaví přidávání prvků do visual skupiny v dialogovém okně.|
|[CFileDialog::GetCheckButtonState](#getcheckbuttonstate)|Získá aktuální stav zaškrtněte tlačítko (zaškrtávací políčko) v dialogovém okně.|
|[CFileDialog::GetControlItemState](#getcontrolitemstate)|Získá aktuální stav položky v ovládacím prvku kontejneru, v dialogovém okně.|
|[CFileDialog::GetControlState](#getcontrolstate)|Získá aktuální viditelnost a jejich stavů daný ovládací prvek.|
|[CFileDialog::GetEditBoxText](#geteditboxtext)|Získá aktuální text v ovládacím prvku upravovat.|
|[CFileDialog::GetFileExt](#getfileext)|Vrátí klapku vybraný soubor.|
|[CFileDialog::GetFileName](#getfilename)|Vrátí název souboru vybraného souboru.|
|[CFileDialog::GetFileTitle](#getfiletitle)|Vrátí název vybraného souboru.|
|[CFileDialog::GetFolderPath](#getfolderpath)|Načte cestu k aktuálně otevřenou složku nebo adresář pro styl Průzkumník **otevřete** nebo **uložit jako** běžným dialogovým oknem.|
|[CFileDialog::GetIFileDialogCustomize](#getifiledialogcustomize)|Získá vnitřní objekt modelu COM pro přizpůsobené `CFileDialog` objektu.|
|[CFileDialog::GetIFileOpenDialog](#getifileopendialog)|Získá vnitřní objekt modelu COM pro `CFileDialog` , který se používá jako **otevřít** dialogové okno souboru.|
|[CFileDialog::GetIFileSaveDialog](#getifilesavedialog)|Získá vnitřní objekt modelu COM pro `CFileDialog` , který se používá jako **Uložit** dialogové okno souboru.|
|[CFileDialog::GetNextPathName](#getnextpathname)|Vrátí úplnou cestu další vybraný soubor.|
|[CFileDialog::GetOFN](#getofn)|Načte `OPENFILENAME` struktury `CFileDialog` objektu.|
|[CFileDialog::GetPathName](#getpathname)|Vrátí úplnou cestu na vybraný soubor.|
|[CFileDialog::GetReadOnlyPref](#getreadonlypref)|Vrátí stav jen pro čtení na vybraný soubor.|
|[CFileDialog::GetResult](#getresult)|Získá možnost, který uživatel provedl v dialogovém okně.|
|[CFileDialog::GetResults](#getresults)|Získá uživatele možností v dialogovém okně, které umožňuje vícenásobný výběr.|
|[CFileDialog::GetSelectedControlItem](#getselectedcontrolitem)|Získá konkrétní položku ze zadaného kontejneru ovládacích prvků v dialogovém okně.|
|[CFileDialog::GetStartPosition](#getstartposition)|Vrátí pozici prvního prvku seznamu název souboru.|
|[CFileDialog::HideControl](#hidecontrol)|Skryje zadaný ovládací prvek ve stylu Průzkumníka **otevřít** nebo **uložit jako** běžným dialogovým oknem.|
|[CFileDialog::IsPickFoldersMode](#ispickfoldersmode)|Určuje, zda aktuální okno v režimu pro výběr složky.|
|[CFileDialog::MakeProminent](#makeprominent)|Umístění ovládacího prvku v dialogovém okně tak, aby ho odlišuje ve srovnání s další ovládací prvky přidané.|
|[CFileDialog::RemoveControlItem](#removecontrolitem)|Odebere položku z kontejneru ovládacího prvku v dialogovém okně.|
|[CFileDialog::SetCheckButtonState](#setcheckbuttonstate)|Nastaví aktuální stav zaškrtnutí tlačítka (zaškrtávací políčko) v dialogovém okně.|
|[CFileDialog::SetControlItemState](#setcontrolitemstate)|Nastaví aktuální stav položky v ovládacím prvku kontejneru, v dialogovém okně.|
|[CFileDialog::SetControlItemText](#setcontrolitemtext)|Nastaví text, který ovládací prvek položky. Například text, který doprovází přepínač nebo položku v nabídce.|
|[CFileDialog::SetControlLabel](#setcontrollabel)|Nastaví text přidružený k ovládacímu prvku, jako je text tlačítka nebo popisek upravit pole.|
|[CFileDialog::SetControlState](#setcontrolstate)|Nastaví aktuální viditelnost a jejich stavů daný ovládací prvek.|
|[CFileDialog::SetControlText](#setcontroltext)|Nastaví text, který pro zadaný ovládací prvek ve stylu Průzkumníka **otevřít** nebo **uložit jako** běžným dialogovým oknem.|
|[CFileDialog::SetDefExt](#setdefext)|Nastaví výchozí přípona názvu souboru pro styl Průzkumník **otevřít** nebo **uložit jako** běžným dialogovým oknem.|
|[CFileDialog::SetEditBoxText](#seteditboxtext)|Nastaví aktuální text v ovládacím prvku upravovat.|
|[CFileDialog::SetProperties](#setproperties)|Poskytuje vlastnosti úložiště, který definuje výchozí hodnoty pro položky se ukládá.|
|[CFileDialog::SetSelectedControlItem](#setselectedcontrolitem)|Nastaví vybraný stav konkrétní položku v skupiny přepínačů nebo pole se seznamem v dialogovém okně.|
|[CFileDialog::SetTemplate](#settemplate)|Nastaví šablony dialogového okna pro `CFileDialog` objektu.|
|[CFileDialog::StartVisualGroup](#startvisualgroup)|Deklaruje visual skupiny v dialogovém okně. Následná volání na jakoukoli metodu, "Přidání" přidat tyto prvky do této skupiny.|
|[CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog)|Aktualizuje data uložená v `m_ofn` členskou proměnnou tak, aby odpovídaly aktuálním stavu dialogového okna souboru.|

### <a name="protected-methods"></a>Chráněné metody

|Název|Popis|
|----------|-----------------|
|[CFileDialog::OnButtonClicked](#onbuttonclicked)|Volá se, když dojde ke kliknutí na tlačítko.|
|[CFileDialog::OnCheckButtonToggled](#oncheckbuttontoggled)|Volá se, když je toto políčko zaškrtnuto a nezaškrtnuto.|
|[CFileDialog::OnControlActivating](#oncontrolactivating)|Volá se, když ovládací prvek je právě aktivní.|
|[CFileDialog::OnFileNameChange](#onfilenamechange)|Zpracovává zpráva WM_NOTIFY CDN_SELCHANGE.|
|[CFileDialog::OnFileNameOK](#onfilenameok)|Ověří název souboru zadaný v dialogovém okně.|
|[CFileDialog::OnFolderChange](#onfolderchange)|Zpracovává zpráva WM_NOTIFY CDN_FOLDERCHANGE.|
|[CFileDialog::OnInitDone](#oninitdone)|Zpracovává zpráva WM_NOTIFY CDN_INITDONE.|
|[CFileDialog::OnItemSelected](#onitemselected)|Volá se při výběru položky kontejneru.|
|[CFileDialog::OnLBSelChangedNotify](#onlbselchangednotify)|Umožňuje provádět vlastní akce, když se změní výběr souboru.|
|[CFileDialog::OnShareViolation](#onshareviolation)|Obslužné rutiny sdílet porušení.|
|[CFileDialog::OnTypeChange](#ontypechange)|Zpracovává zpráva WM_NOTIFY CDN_TYPECHANGE.|

### <a name="public-data-members"></a>Veřejné datové členy

|Název|Popis|
|----------|-----------------|
|[CFileDialog::m_ofn](#m_ofn)|Windows `OPENFILENAME` struktury. Poskytuje přístup k základní soubor dialogové okno pole parametrů.|

## <a name="remarks"></a>Poznámky

Společná dialogová okna soubor umožňují implementovat výběr souboru dialogová okna, například **otevřít soubor** a **uložit jako**, způsobem, který je v souladu se standardy Windows.

Můžete použít `CFileDialog` tak, jak jsou pomocí konstruktoru určených nebo lze odvodit vlastní třídy dialogového okna z `CFileDialog` a zápis konstruktoru tak, aby odpovídala vašim potřebám. V obou případech se tyto dialogy se chovají jako standardní dialogová okna MFC vzhledem k tomu, že jsou odvozeny z [ccommondialog – třída](../../mfc/reference/ccommondialog-class.md). `CFileDialog` využívá COMMDLG. Soubor knihovny DLL, která je součástí Windows.

Vzhled a funkce `CFileDialog` s Windows Vista nebo novější se liší od předchozích verzích Windows. Výchozí hodnota `CFileDialog` automaticky použije nové Windows Vista nebo novější styl beze změny kódu, je-li program zkompilovaný a běžela pod daným Windows Vista nebo novější. Použití *bVistaStyle* parametr v konstruktoru ručně přepsat tato automatická aktualizace. Výjimkou z automatických aktualizací je přizpůsobené dialogových oknech. Nebude možné převést na nový styl. Další informace o konstruktoru, naleznete v tématu [CFileDialog::CFileDialog](#cfiledialog).

> [!NOTE]
>  ID systém správy, který se liší v systému Windows Vista nebo novější systém ze starších verzích Windows při použití `CFileDialog`. Je nutné aktualizovat všechny odkazy na `CFileDialog` ovládacích prvků v kódu před portujete projektu ze starší verze Windows.

Některé `CFileDialog` metody nejsou podporovány v rámci Windows Vista nebo novější. Zkontrolujte jednotlivé metody tématu informace o tom, zda metoda je podporována. Navíc následující zděděné funkce nejsou podporovány v rámci Windows Vista nebo novější:

- [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)

- [CDialog::OnSetFont](../../mfc/reference/cdialog-class.md#onsetfont)

Zprávy windows `CFileDialog` třídy se liší v závislosti na který operační systém používáte. Například Windows XP není podporováno [CDialog::OnCancel](../../mfc/reference/cdialog-class.md#oncancel) a [CDialog::OnOK](../../mfc/reference/cdialog-class.md#onok) pro `CFileDialog` třídy. Nicméně Windows Vista a novějších operačních systémech je podporují. Další informace o různých zpráv, které jsou generovány a pořadí, ve kterém jsou přijímány, naleznete v tématu [CFileDialog vzorku: protokolování pořadí událostí](../../visual-cpp-samples.md).

Použití `CFileDialog` objektu, nejprve vytvořte objekt s použitím `CFileDialog` konstruktoru. Poté, co byl vytvořen dialogových oken, můžete nastavit nebo změnit všechny hodnoty v [CFileDialog::m_ofn](#m_ofn) struktury k inicializaci hodnoty nebo stavy ovládací prvky dialogového okna. `m_ofn` Struktury je typu `OPENFILENAME`. Další informace najdete v tématu [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktura v sadě Windows SDK.

Po inicializaci ovládací prvky dialogového okna, zavolejte [CFileDialog::DoModal](#domodal) metodu pro zobrazení dialogového okna pole tak, aby může uživatel zadat název a cesta k souboru. `DoModal` Vrátí, zda uživatel kliknul na tlačítko Storno (IDCANCEL) nebo OK (IDOK). Pokud `DoModal` vrátí IDOK, můžete použít jednu z `CFileDialog` veřejné členské funkce načtete informace o umístit do uživatelem.

> [!NOTE]
> V části Windows Vista nebo novější, více volání [IFileDialog::SetFileTypes](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-ifiledialog-setfiletypes) způsobí chybu. Druhé volání `SetFileTypes` pro všechny instance `CFileDialog` vrátí e_unexpected, je-ve Windows Vista nebo novější. Některé `CFileDialog` metoda funkce volání `SetFileTypes`. Například dvě volání `CFileDialog::DoModal` pro stejnou instanci `CFileDialog` generuje [ASSERT](diagnostic-services.md#assert).

`CFileDialog` zahrnuje několik chráněné členy, které umožňují provádět vlastní zpracování sdílené složky porušení, ověření názvu souboru a oznámení o změně pole se seznamem. Tyto chráněné členy jsou funkce zpětného volání, které většina aplikací není nutné použít, protože výchozí zpracování probíhá automaticky. Položky mapy zpráv pro tyto funkce nejsou nutné, protože jde o standardní virtuální funkce.

Můžete použít Windows [CommDlgExtendedError](/windows/desktop/api/commdlg/nf-commdlg-commdlgextendederror) funkce k určení, zda došlo k chybě při inicializaci dialogového okna a další informace o této chybě.

Zničení `CFileDialog` objekty je automaticky zpracována. Není nutné volat [CDialog::EndDialog](../../mfc/reference/cdialog-class.md#enddialog).

Aby mohl uživatel vybrat více souborů, nastavte příznak OFN_ALLOWMULTISELECT před voláním `DoModal`. Je nutné zadat vlastní vyrovnávací paměť názvu souboru tak, aby vyhovovaly vráceném seznamu více názvů souborů. To udělat tak, že nahradíte `m_ofn.lpstrFile` s ukazatelem na vyrovnávací paměť je přidělena, poté, co vytvoříte `CFileDialog`, ale před voláním `DoModal`.

Kromě toho je nutné nastavit `m_ofn.nMaxFile` pomocí počet znaků ve vyrovnávací paměti, na které odkazuje `m_ofn.lpstrFile`. Pokud nastavíte maximální počet souborů určených k nejde ani zvolit `n`, je velikost požadované vyrovnávací paměti `n * (_MAX_PATH + 1) + 1`. První položky vrácené ve vyrovnávací paměti je cesta ke složce, ve kterém byly vybrané soubory. Pro Windows Vista nebo novější – vizuální styl dialogová okna jsou řetězce název adresáře a souboru zakončený hodnotou null s další znak null po poslední název souboru. Tento formát umožňuje dialogových oknech stylem podobným Průzkumníku vrátit dlouhé názvy souborů, které obsahují mezery. Pro starého typu dialogová okna řetězce název adresáře a souboru se oddělují mezerami a funkce používá krátkých názvů souborů pro názvy souborů s prostory.

Následující příklad ukazuje, jak používat vyrovnávací paměť k načtení a seznamu více názvů souborů.

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Chcete-li změnit velikost vyrovnávací paměti v reakci na uživatele, vyberete několik názvů souborů, musíte odvodit novou třídu z `CFileDialog` a přepsat [CFileDialog::OnFileNameChange](#onfilenamechange) metody.

Pokud odvodit novou třídu z `CFileDialog`, můžete v mapování zprávy zpracovávat všechny zprávy. Pokud chcete rozšířit výchozí zpracování zpráv, odvoďte třídu z `CFileDialog`, přidání mapy zpráv do nové třídy a poskytuje členské funkce pro nové zprávy. Není potřeba poskytovat funkci připojení k přizpůsobení dialogových oken.

Přizpůsobení dialogových oken, odvoďte třídu z `CFileDialog`, poskytují šablony dialogového okna vlastní pole a přidejte mapy zpráv pro zpracování zpráv s oznámením z rozšířené ovládací prvky. Předejte všechny nezpracované zprávy na základní třídu. Není nutné přizpůsobit funkce háku.

Pokud používáte Windows Vista nebo novější styl `CFileDialog`, nelze použít mapy zpráv a šablon dialogového okna. Místo toho musíte použít rozhraní modelu COM pro podobné funkce.

Další informace o tom, jak používat `CFileDialog`, naleznete v tématu [společné třídy dialogových oken](../../mfc/common-dialog-classes.md).

## <a name="inheritance-hierarchy"></a>Hierarchie dědičnosti

[Třídy CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CDialog](../../mfc/reference/cdialog-class.md)

[Ccommondialog –](../../mfc/reference/ccommondialog-class.md)

`CFileDialog`

## <a name="requirements"></a>Požadavky

**Záhlaví:** afxdlgs.h

##  <a name="addcheckbutton"></a>  CFileDialog::AddCheckButton

Přidá tlačítko zaškrtnutí do dialogového okna.

```
HRESULT AddCheckButton(
    DWORD dwIDCtl,
    const CString& strLabel,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtněte tlačítko Přidat.

*strLabel*<br/>
Zkontrolujte název tlačítka.

*bChecked*<br/>
Logická hodnota určující aktuální stav tlačítko se symbolem zaškrtnutí. Hodnota TRUE, pokud je zaškrtnuto; FALSE v opačném případě

### <a name="remarks"></a>Poznámky

##  <a name="addcombobox"></a>  CFileDialog::AddComboBox

Přidá pole se seznamem do dialogového okna.

```
HRESULT AddComboBox(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole se seznamem se má přidat.

### <a name="remarks"></a>Poznámky

##  <a name="addcontrolitem"></a>  CFileDialog::AddControlItem

Přidá položku do kontejneru ovládacího prvku v dialogovém okně.

```
HRESULT AddControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru přidat položku.

*dwIDItem*<br/>
ID položky.

*strLabel*<br/>
Text položky.

### <a name="remarks"></a>Poznámky

##  <a name="addeditbox"></a>  CFileDialog::AddEditBox

Přidá do textového pole do dialogového okna.

```
HRESULT AddEditBox(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole pro úpravy přidáte.

*strText*<br/>
Upravit pole název.

### <a name="remarks"></a>Poznámky

##  <a name="addmenu"></a>  CFileDialog::AddMenu

Nabídka se přidá do dialogového okna.

```
HRESULT AddMenu(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID nabídky přidat.

*strLabel*<br/>
Název nabídky.

### <a name="remarks"></a>Poznámky

##  <a name="addplace"></a>  CFileDialog::AddPlace

Přidá že složku do seznamu umístění k dispozici pro uživatele k otevření nebo uložení položky.

```
void AddPlace(
    LPCWSTR lpszFolder,
    FDAP fdap = FDAP_TOP) throw();

void AddPlace(
    IShellItem* psi,
    FDAP fdap = FDAP_TOP) throw();
```

### <a name="parameters"></a>Parametry

*lpszFolder*<br/>
Cesta ke složce, které budou dostupné pro uživatele. To může být pouze složky.

*fdap*<br/>
Určuje, kde je umístěn složku do seznamu.

*psi*<br/>
Ukazatel na IShellItem, který představuje složku, do které budou dostupné pro uživatele. To může být pouze složky.

### <a name="remarks"></a>Poznámky

##  <a name="addpushbutton"></a>  CFileDialog::AddPushButton

Přidá tlačítko do dialogového okna.

```
HRESULT AddPushButton(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID na tlačítko Přidat.

*strLabel*<br/>
Název tlačítka.

### <a name="remarks"></a>Poznámky

##  <a name="addradiobuttonlist"></a>  CFileDialog::AddRadioButtonList

Přidá skupinu tlačítko (neboli přepínač) možnost do dialogového okna.

```
HRESULT AddRadioButtonList(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID skupiny možnost tlačítko Přidat.

### <a name="remarks"></a>Poznámky

##  <a name="addseparator"></a>  CFileDialog::AddSeparator

Přidá oddělovač do dialogového okna.

```
HRESULT AddSeparator(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Přidat ID oddělovače.

### <a name="remarks"></a>Poznámky

##  <a name="addtext"></a>  CFileDialog::AddText

Přidá text do dialogového okna.

```
HRESULT AddText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID text pro přidání.

*strText*<br/>
Text názvu.

### <a name="remarks"></a>Poznámky

##  <a name="applyofntoshelldialog"></a>  CFileDialog::ApplyOFNToShellDialog

Aktualizuje aktuální stav [CFileDialog](../../mfc/reference/cfiledialog-class.md) založené na hodnotách uložených v `m_ofn` datové struktury.

```
void ApplyOFNToShellDialog();
```

### <a name="remarks"></a>Poznámky

Ve verzích Windows než Windows Vista, člen [LPSTRFILE](https://msdn.microsoft.com/library/ms911906.aspx) datová struktura byla průběžně synchronizována se stavem `CFileDialog`. Všechny změny [m_ofn](#m_ofn) členské proměnné se okamžitě projeví ve stavu dialogového okna. Také, okamžitě aktualizovat všechny změny stavu dialogových oken `m_ofn` členské proměnné.

V systému Windows Vista nebo novější hodnoty `m_ofn` členské proměnné a stav `CFileDialog` není zaručeno, že se dá provést synchronizace. Tato funkce vynutí stav `CFileDialog` aktualizovat tak, aby odpovídaly `m_ofn` struktury. Windows volá tuto funkci automaticky během [CFileDialog::DoModal](#domodal).

Další informace o tom, jak používat `CFileDialog` třídy v rámci Windows Vista nebo novější, najdete v článku [cfiledialog – třída](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog).

##  <a name="cfiledialog"></a>  CFileDialog::CFileDialog

Voláním této funkce pro sestavení standardního dialogového okna souboru Windows.

```
explicit CFileDialog(
    BOOL bOpenFileDialog,
    LPCTSTR lpszDefExt = NULL,
    LPCTSTR lpszFileName = NULL,
    DWORD dwFlags = OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT,
    LPCTSTR lpszFilter = NULL,
    CWnd* pParentWnd = NULL,
    DWORD dwSize = 0,
    BOOL bVistaStyle = TRUE);
```

### <a name="parameters"></a>Parametry

*bOpenFileDialog*<br/>
[in] Parametr, který určuje, jaký typ dialogové okno vytvořit. Nastavte na hodnotu TRUE, chcete-li vytvořit **otevřít soubor** dialogové okno. Nastavte na FALSE, pokud chcete vytvořit **uložit jako** dialogové okno.

*lpszDefExt*<br/>
[in] Výchozí přípona názvu souboru. Pokud uživatel do pole název souboru neobsahuje známé rozšíření (jeden, který má asociace na počítači uživatele), rozšíření určená *lpszDefExt* se automaticky připojí k názvu souboru. Pokud má parametr hodnotu NULL, je připojen bez přípony.

*lpszFileName*<br/>
[in] Je původní název souboru, který se zobrazí v poli Název souboru. Pokud má hodnotu NULL, zobrazí se žádné počáteční název souboru.

*dwFlags*<br/>
[in] Kombinace jeden nebo více příznaků, které vám umožní přizpůsobit dialogových oken. Popis těchto příznaků najdete v tématu [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktura v sadě Windows SDK. Pokud změníte `m_ofn.Flags` struktury člena, pomocí operátoru bitového operátoru OR své změny zachovat výchozí chování beze změny.

*lpszFilter*<br/>
[in] Řadu dvojice řetězců, které určují filtry můžete použít k souboru. Pokud chcete zadat filtry souborů, zobrazí se pouze soubory, které splňují kritéria filtru v seznamu souborů. Další informace o tom, jak pracovat s filtry souborů v části poznámky.

*pParentWnd*<br/>
[in] Ukazatel na okno nadřazené nebo vlastník dialogového okna souboru.

*dwSize*<br/>
[in] Velikost `OPENFILENAME` struktury. Tato hodnota závisí na verzi operačního systému. MFC tento parametr slouží k určení odpovídající typ dialogové okno vytvořit. Výchozí velikost 0 znamená, že kód knihovny MFC určí správné rozměry dialogového okna pro použití podle verze operačního systému, na kterém je spuštěn program.

*bVistaStyle*<br/>
[in] **Poznámka** tento parametr je k dispozici v sadě Visual Studio 2008 a novější a bude způsobit dialogového okna Nový styl a použít pouze v případě, že se systémem Windows Vista nebo novější.

Parametr, který určuje typ dialogového okna souboru. Ho nastavte na hodnotu PRAVDA, použijte nový styl Vista souboru dialogová okna. V opačném případě se použije starý styl dialogových oknech. V části poznámky pro další informace běžící pod Vista.

### <a name="remarks"></a>Poznámky

Buď **otevřít soubor** nebo **uložit jako** vytvořen dialogové okno, v závislosti na hodnotě z *bOpenFileDialog*.

Určení typu pomocí rozšíření výchozí *lpszDefExt* chování, které jste očekávali, nemusí vytvořit, protože obvykle není předvídatelné, jaká rozšíření mít přidružení souborů v počítači uživatele. Pokud potřebujete větší kontrolu nad připojením výchozí příponou, lze odvodit vlastní třídu z `CFileDialog`a přepsat `CFileDialog::OnFileNameOK` metodu za účelem zpracování vlastní rozšíření.

Pokud chcete povolit uživateli vybrat více souborů, nastavte příznak OFN_ALLOWMULTISELECT před voláním [DoModal](#domodal). Je nutné zadat vlastní název souboru vyrovnávací paměť pro ukládání vráceném seznamu více názvů souborů. To udělat tak, že nahradíte `m_ofn.lpstrFile` s ukazatelem na vyrovnávací paměť je přidělena, poté, co vytvoříte [CFileDialog](../../mfc/reference/cfiledialog-class.md), ale před voláním `DoModal`. Kromě toho je nutné nastavit `m_ofn.nMaxFile` s počtem znaků ve vyrovnávací paměti, na které odkazuje `m_ofn.lpstrFile`. Pokud nastavíte maximální počet souborů určených k nejde ani zvolit *n*, je nezbytné vyrovnávací paměť `n`*(_MAX_PATH + 1) + 1. Příklad:

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Chcete-li povolit uživatelům změnit velikost dialogové okno s stylem podobným Průzkumníku pomocí myši nebo klávesnice, nastavte příznak OFN_ENABLESIZING. Nastavení tohoto příznaku je nezbytné pouze v případě, že zadáte procedura zavěšení nebo vlastní šablony. Příznak funguje pouze s dialogové okno s stylem podobným Průzkumníku; nelze změnit velikost, dialogová okna starého typu.

*LpszFilter* parametr se používá k určení typu název souboru musí soubor mít, který se má zobrazit v seznamu souborů. První řetězec v páru řetězec popisuje filtr; druhý řetězec Určuje příponu názvu souboru použít. Několik rozšíření může být určeno pomocí středníku (znaku ";") jako oddělovač. Řetězec končí dvěma "&#124;" znaků, za nímž následuje znak NULL. Můžete také použít [CString](../../atl-mfc-shared/using-cstring.md) objekt pro tento parametr.

Například aplikace Microsoft Excel umožňuje uživatelům otevírat soubory, které mají rozšíření XLC (graf) nebo .xls (list), mimo jiné. Filtr pro aplikace Excel může být napsaná jako:

[!code-cpp[NVC_MFCFiles#24](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_2.cpp)]

Ale pokud budete chtít použít tento řetězec přímo aktualizovat `OPENFILENAME` strukturu, by měl vymezení řetězci znakem null '\0' místo svislé čáry ("&#124;").

*BVistaStyle* parametr platí pouze při spuštění v rámci Windows Vista nebo novější. Ve starších verzích Windows tento parametr je ignorován. Pokud *bVistaStyle* nastavena na hodnotu TRUE, při kompilaci programu Visual Studio 2008 nebo novější, nový styl Vista **dialogového okna souboru** se použije. V opačném případě v předchozím stylu MFC **dialogového okna souboru** se použije.

Dialogové okno šablony nejsou podporované v dialogových oknech na základě *bVistaStyle*

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog::DoModal](#domodal).

##  <a name="domodal"></a>  CFileDialog::DoModal

Voláním této funkce k zobrazení dialogového okna souboru Windows běžné a umožnit uživatelům procházet soubory a adresáře a zadejte název souboru.

```
virtual INT_PTR DoModal();
```

### <a name="return-value"></a>Návratová hodnota

IDOK nebo IDCANCEL. Pokud je vrácena IDCANCEL, zavolejte Windows [CommDlgExtendedError](/windows/desktop/api/commdlg/nf-commdlg-commdlgextendederror) funkce k určení, zda došlo k chybě.

IDOK a IDCANCEL jsou konstanty, které označují, zda uživatel vybral tlačítko OK nebo zrušit.

### <a name="remarks"></a>Poznámky

Pokud chcete inicializovat různé možnosti dialogového okna souboru tak, že nastavíte členy `m_ofn` strukturu, je potřeba to udělat před voláním `DoModal`, ale po vytvoření objektu dialogového okna.

Například pokud chcete umožnit uživateli vybrat více souborů, nastavte příznak OFN_ALLOWMULTISELECT před voláním `DoModal`, jak je znázorněno v příkladu kódu v tomto tématu.

Když uživatel klikne v dialogovém okně tlačítko OK nebo zrušení nebo vybere uzavření možnost z dialogových oken ovládací prvek nabídky, ovládací prvek se vrátí do vaší aplikace. Můžete pak volat jiné členské funkce se načíst informace o nastavení nebo uživatelské vstupy do dialogového okna.

`DoModal` je virtuální funkcí přepsání ze třídy `CDialog`.

### <a name="example"></a>Příklad

[!code-cpp[NVC_MFCFiles#25](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_3.cpp)]

##  <a name="enableopendropdown"></a>  CFileDialog::EnableOpenDropDown

Umožňuje rozevíracího seznamu na Otevřít nebo uložit tlačítkem v dialogovém okně.

```
HRESULT EnableOpenDropDown(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID seznamu, rozevíracího seznamu.

### <a name="remarks"></a>Poznámky

##  <a name="endvisualgroup"></a>  CFileDialog::EndVisualGroup

Zastaví přidávání prvků do visual skupiny v dialogovém okně.

```
HRESULT EndVisualGroup();
```

### <a name="return-value"></a>Návratová hodnota

Vrátí hodnotu S_OK v případě úspěchu; jinak chybovou hodnotu.

### <a name="remarks"></a>Poznámky

##  <a name="getcheckbuttonstate"></a>  CFileDialog::GetCheckButtonState

Načte aktuální stav zaškrtněte tlačítko (zaškrtávací políčko) v dialogovém okně.

```
HRESULT GetCheckButtonState(
    DWORD dwIDCtl,
    BOOL& bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávací políčko.

*bChecked*<br/>
Stav zaškrtávacího políčka. Hodnota TRUE označuje checked; Hodnota FALSE označuje nezaškrtnuté.

### <a name="remarks"></a>Poznámky

##  <a name="getcontrolitemstate"></a>  CFileDialog::GetControlItemState

Načte aktuální stav položky v ovládacím prvku kontejneru, v dialogovém okně.

```
HRESULT GetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDItem*<br/>
ID položky.

*dwState*<br/>
Odkaz na proměnnou, která přijímá mezi více hodnot z výčtu CDCONTROLSTATE určující aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="getcontrolstate"></a>  CFileDialog::GetControlState

Načte aktuální viditelnost a jejich stavů daný ovládací prvek.

```
HRESULT GetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

*dwState*<br/>
Odkaz na proměnnou, která přijímá jeden nebo více hodnot z výčtu CDCONTROLSTATE určující aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="geteditboxtext"></a>  CFileDialog::GetEditBoxText

Načte aktuální text v ovládacím prvku upravovat.

```
HRESULT GetEditBoxText(
    DWORD dwIDCtl,
    CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole pro úpravy.

*strText*<br/>
Textové hodnoty.

### <a name="remarks"></a>Poznámky

##  <a name="getfileext"></a>  CFileDialog::GetFileExt

Volání této funkce načtete rozšíření název souboru zadaný do dialogového okna.

```
CString GetFileExt() const;
```

### <a name="return-value"></a>Návratová hodnota

Přípona názvu souboru.

### <a name="remarks"></a>Poznámky

Například, pokud je název souboru zadaný DATA. TXT, `GetFileExt` vrátí "TXT".

Pokud `m_ofn.Flags` má OFN_ALLOWMULTISELECT příznak nastaven, tento řetězec obsahuje posloupnost zakončená hodnotou null řetězce s první řetězec, který se cesta k adresáři souboru skupiny vybrané, následovaný názvy všech souborů vybraných uživatelem. Pokud chcete načíst cest k souborům, použijte [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) členské funkce.

##  <a name="getfilename"></a>  CFileDialog::GetFileName

Voláním této funkce pro získání názvu název souboru zadaný v dialogovém okně.

```
CString GetFileName() const;
```

### <a name="return-value"></a>Návratová hodnota

Název souboru.

### <a name="remarks"></a>Poznámky

Název souboru obsahuje předponu a příponu. Například `GetFileName` vrátí "textu. Data o"pro soubor C:\FILES\TEXT.DAT.

Pokud `m_ofn.Flags` má `OFN_ALLOWMULTISELECT` příznak nastaven, měli byste zavolat [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) načíst cestu souboru.

##  <a name="getfiletitle"></a>  CFileDialog::GetFileTitle

Volání této funkce načtete název souboru zadaný v dialogovém okně.

```
CString GetFileTitle() const;
```

### <a name="return-value"></a>Návratová hodnota

Název souboru.

### <a name="remarks"></a>Poznámky

Název souboru obsahuje pouze jeho předponu, bez cestu nebo příponu. Například `GetFileTitle` pro soubor C:\FILES\TEXT.DAT vrátí "TEXT".

Pokud `m_ofn.Flags` má OFN_ALLOWMULTISELECT příznak nastaven, tento řetězec obsahuje posloupnost zakončená hodnotou null řetězce s první řetězec, který se cesta k adresáři souboru skupiny vybrané, následovaný názvy všech souborů vybraných uživatelem. Z tohoto důvodu použít [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) členské funkce k načtení dalšího názvu souboru v seznamu.

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog::DoModal](#domodal).

##  <a name="getfolderpath"></a>  CFileDialog::GetFolderPath

Voláním této členské funkce se načíst cestu k aktuálně otevřenou složku nebo adresář pro stylem podobným Průzkumníku otevřít nebo uložit jako běžné dialogové okno s.

```
CString GetFolderPath() const;
```

### <a name="return-value"></a>Návratová hodnota

A [CString](../../atl-mfc-shared/reference/cstringt-class.md) objekt obsahující aktuálně otevřenou složku nebo adresář.

### <a name="remarks"></a>Poznámky

Dialogové okno musí být vytvořen s OFN_EXPLORER styl; v opačném případě metoda se nezdaří s kontrolní výraz.

Tuto metodu lze volat pouze tehdy, když se zobrazí dialogové okno. Po zavření dialogových oken, tato funkce se už nebude fungovat a metoda se nezdaří s kontrolní výraz.

##  <a name="getifiledialogcustomize"></a>  CFileDialog::GetIFileDialogCustomize

Načte ukazatel na vnitřní objekt modelu COM pro danou [CFileDialog](../../mfc/reference/cfiledialog-class.md).

```
IFileDialogCustomize* GetIFileDialogCustomize();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt modelu COM pro `CFileDialog`. Je vaší odpovědností, abyste správně uvolnit tento ukazatel.

### <a name="remarks"></a>Poznámky

Pomocí této funkce pouze pod Windows Vista nebo novější s objektem, který má *bVistaStyle* nastavena na hodnotu TRUE. Pokud použijete tuto funkci při *bVistaStyle* má hodnotu FALSE, bude v režimu vydání vrátit hodnotu NULL a kontrolní výraz throw v režimu ladění.

Další informace o `IFileDialogCustomize` rozhraní najdete v tématu [IFileDialogCustomize](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt modelu COM. Chcete-li spustit tento příklad kódu, musíte zkompilovat ji v části Windows Vista nebo novější.

[!code-cpp[NVC_MFC_CFileDialog#4](../../mfc/reference/codesnippet/cpp/cfiledialog-class_4.cpp)]

##  <a name="getifileopendialog"></a>  CFileDialog::GetIFileOpenDialog

Načte ukazatel na vnitřní objekt modelu COM pro danou `CFileDialog`.

```
IFileOpenDialog* GetIFileOpenDialog();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt modelu COM pro `CFileDialog`. Je vaší odpovědností, abyste správně uvolnit tento ukazatel.

### <a name="remarks"></a>Poznámky

Pomocí této funkce pouze pod Windows Vista nebo novější s objektem, který má *bVistaStyle* nastavena na hodnotu TRUE. Tato funkce vrací hodnotu NULL, pokud `CFileDialog` není **otevřít** dialogové okno nebo, pokud *bVistaStyle* je nastavena na hodnotu FALSE. V tomto posledním případě, funkce pouze vrátí hodnotu NULL v režimu vydání – v režimu ladění se vyvolá kontrolní výraz.

Další informace o `IFileOpenDialog` rozhraní najdete v tématu [IFileOpenDialog](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifileopendialog).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt modelu COM. Tento kód spustit, musíte zkompilovat ji v části Windows Vista nebo novější.

[!code-cpp[NVC_MFC_CFileDialog#2](../../mfc/reference/codesnippet/cpp/cfiledialog-class_5.cpp)]

##  <a name="getifilesavedialog"></a>  CFileDialog::GetIFileSaveDialog

Načte ukazatel na vnitřní objekt modelu COM pro danou `CFileDialog`.

```
IFileSaveDialog* GetIFileSaveDialog();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt modelu COM pro `CFileDialog`. Je vaší odpovědností, abyste správně uvolnit tento ukazatel.

### <a name="remarks"></a>Poznámky

Pomocí této funkce pouze pod Windows Vista nebo novější s objektem, který má *bVistaStyle* nastavena na hodnotu TRUE. Tato funkce vrátí hodnotu NULL, pokud `CFileDialog` není **Uložit** dialogové okno nebo, pokud *bVistaStyle* je nastavena na hodnotu FALSE. V tomto posledním případě, funkce pouze vrátí hodnotu NULL v režimu vydání – v režimu ladění se vyvolá kontrolní výraz.

Další informace o `IFileSaveDialog` rozhraní najdete v tématu [IFileSaveDialog](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifilesavedialog).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt modelu COM. Chcete-li spustit tento příklad kódu, musíte zkompilovat ji v části Windows Vista nebo novější.

[!code-cpp[NVC_MFC_CFileDialog#3](../../mfc/reference/codesnippet/cpp/cfiledialog-class_6.cpp)]

##  <a name="getnextpathname"></a>  CFileDialog::GetNextPathName

Voláním této funkce načtete další název souboru ze skupiny pro vybrané v dialogovém okně.

```
CString GetNextPathName(POSITION& pos) const;
```

### <a name="parameters"></a>Parametry

*POS*<br/>
Odkaz na POZICI hodnotu vrácenou předchozím `GetNextPathName` nebo `GetStartPosition` volání funkce. Hodnota NULL, pokud bylo dosaženo konce seznamu.

### <a name="return-value"></a>Návratová hodnota

Úplná cesta souboru.

### <a name="remarks"></a>Poznámky

Cesta k souboru obsahuje název souboru a cestu celý adresář. Například `GetNextPathName` vrátí "C:\FILES\TEXT. Data o"pro soubor C:\FILES\TEXT.DAT. Můžete použít `GetNextPathName` v dopředné iteraci smyčky, Pokud zavedete počáteční pozici voláním `GetStartPosition`.

Pokud výběr obsahuje pouze jeden soubor, vrátí se tento název souboru.

##  <a name="getofn"></a>  CFileDialog::GetOFN

Načte přidružený `OPENFILENAME` struktury.

```
const OPENFILENAME& GetOFN() const;

OPENFILENAME& GetOFN();
```

### <a name="return-value"></a>Návratová hodnota

[LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury.

### <a name="remarks"></a>Poznámky

Druhá verze této funkce použít k inicializaci vzhled **otevřít soubor** nebo **uložit jako** dialogové okno po je vytvořena, ale než se zobrazí s `DoModal` členskou funkci. Například můžete nastavit `lpstrTitle` členem `m_ofn` na titulek chcete mít dialogových oken.

##  <a name="getpathname"></a>  CFileDialog::GetPathName

Voláním této funkce načtete úplnou cestu k souboru zadané v dialogovém okně.

```
CString GetPathName() const;
```

### <a name="return-value"></a>Návratová hodnota

Úplná cesta souboru.

### <a name="remarks"></a>Poznámky

Cesta k souboru obsahuje název souboru a cestu celý adresář. Například `GetPathName` vrátí "C:\FILES\TEXT. Data o"pro soubor C:\FILES\TEXT.DAT.

Pokud `m_ofn.Flags` má příznak OFN_ALLOWMULTISELECT nastavit, tento řetězec obsahuje sekvenci z null teminated řetězce s první řetězec, který se cesta k adresáři souboru skupiny vybrané, za nímž následuje názvy všech souborů vybraných uživatelem. Z tohoto důvodu použít [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) členské funkce k načtení dalšího názvu souboru v seznamu.

### <a name="example"></a>Příklad

  Podívejte se na příklad pro [CFileDialog::DoModal](#domodal).

##  <a name="getreadonlypref"></a>  CFileDialog::GetReadOnlyPref

Voláním této funkce k určení, zda je zaškrtnuto políčko jen pro čtení v dialogových Windows standardní otevřít a uložit jako.

```
BOOL GetReadOnlyPref() const;
```

### <a name="return-value"></a>Návratová hodnota

Non nula, pokud je zaškrtnuto políčko jen pro čtení v dialogovém okně. jinak 0.

### <a name="remarks"></a>Poznámky

Zaškrtávací políčko jen pro čtení můžete skrýt nastavením OFN_HIDEREADONLY styl `CFileDialog` konstruktoru.

> [!NOTE]
> Windows Vista nebo novější styl `CFileDialog` objekty nepodporují tuto funkci. Pokus o použití této funkce ve Windows Vista nebo novější styl `CFileDialog` vyvolá [cnotsupportedexception –](../../mfc/reference/cnotsupportedexception-class.md).

##  <a name="getresult"></a>  CFileDialog::GetResult

Zkopíruje výběr, který uživatel provedl v dialogovém okně.

```
IShellItem* GetResult() throw();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na IShellItem, představující podle volby uživatele.

### <a name="remarks"></a>Poznámky

##  <a name="getresults"></a>  CFileDialog::GetResults

Načte uživatele možností v dialogovém okně, které umožňuje vícenásobný výběr.

```
IShellItemArray* GetResults() throw();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel IShellItemArray, přes který je přístupný položky vybrané v dialogovém okně.

### <a name="remarks"></a>Poznámky

##  <a name="getselectedcontrolitem"></a>  CFileDialog::GetSelectedControlItem

Získá konkrétní položku ze zadaného kontejneru ovládacího prvku v dialogovém okně.

```
HRESULT GetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD& dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDItem*<br/>
ID položky, kterou uživatel vybral v ovládacím prvku.

### <a name="remarks"></a>Poznámky

##  <a name="getstartposition"></a>  CFileDialog::GetStartPosition

Voláním této členské funkce k načtení pozici prvního názvu cesty souboru v seznamu, pokud `m_ofn.Flags` má příznak OFN_ALLOWMULTISELECT nastavený.

```
POSITION GetStartPosition() const;
```

### <a name="return-value"></a>Návratová hodnota

POZICE hodnotu, která lze použít pro iteraci; Hodnota NULL, pokud je seznam prázdný.

##  <a name="hidecontrol"></a>  CFileDialog::HideControl

Voláním této členské funkce zadaný ovládací prvek ve stylu Průzkumníku otevřít nebo uložit jako běžné dialogové skryje.

```
void HideControl(int nID);
```

### <a name="parameters"></a>Parametry

*nID*<br/>
ID ovládacího prvku chcete skrýt.

### <a name="remarks"></a>Poznámky

Dialogové okno musí být vytvořen s OFN_EXPLORER styl; v opačném případě funkce se nezdaří s kontrolní výraz.

##  <a name="ispickfoldersmode"></a>  CFileDialog::IsPickFoldersMode

Určuje, zda aktuální dialogového okna je v režimu pro výběr složky.

```
BOOL IsPickFoldersMode() const;
```

### <a name="return-value"></a>Návratová hodnota

Hodnota TRUE v případě, je v režimu pro výběr složky; v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

##  <a name="m_ofn"></a>  CFileDialog::m_ofn

`m_ofn` Struktura typu `OPENFILENAME`. Data v této struktuře představuje aktuální stav `CFileDialog`.

### <a name="remarks"></a>Poznámky

Tuto strukturu použít pro inicializaci vzhled **otevřít soubor** nebo **uložit jako** dialogové okno po jeho vytvoření, ale před zobrazením jej [DoModal](#domodal) metoda. Například můžete nastavit *lpstrTitle* členem `m_ofn` na titulek chcete mít dialogových oken.

S Windows Vista nebo novější styl [CFileDialog](../../mfc/reference/cfiledialog-class.md), `m_ofn` není zaručeno, že vždy odpovídat stavu dialogového okna. Se synchronizuje s dialogovým oknem v dřívějších verzích Windows. Zobrazit [CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog) a [CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog) pro další informace o synchronizaci `m_ofn` strukturu a `CFileDialog` stavu ve Windows Vista nebo novější.

Windows Vista nebo novější styl soubor dialogová okna nepodporují některé členy a příznaky `CFileDialog`. V důsledku toho to nebude mít žádný efekt.

Následuje seznam členů, které nejsou podporované ve Windows Vista nebo novější:

- `lpstrCustomFilter`

- `lpstrInitialDir`

- `lCustData`

- `lpfnHook`

- `lpTemplateName`

Následující příznaky nejsou podporované a proto nemají žádný vliv při použití Windows Vista nebo novější styl `CFileDialog`:

- OFN_ENABLEHOOK

- OFN_ENABLEINCLUDENOTIFY

- OFN_ENABLETEMPLATE

- OFN_ENABLETEMPLATEHANDLE

- OFN_EXPLORER

- OFN_EXTENSIONDIFFERENT

- OFN_HIDEREADONLY

- OFN_LONGNAMES - efektivně vždy na Windows Vista nebo novější

- OFN_NOLONGNAMES - efektivně vždy vypnutí ve Windows Vista nebo novější

- OFN_NONETWORKBUTTON - efektivně vždy na Windows Vista nebo novější

- OFN_READONLY

- OFN_SHOWHELP

Další informace o této struktuře naleznete v tématu [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktura v sadě Windows SDK.

##  <a name="makeprominent"></a>  CFileDialog::MakeProminent

Umístění ovládacího prvku v dialogovém okně tak, aby ho odlišuje ve srovnání s další ovládací prvky.

```
HRESULT MakeProminent(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="onbuttonclicked"></a>  CFileDialog::OnButtonClicked

Volá se, když dojde ke kliknutí na tlačítko.

```
virtual void OnButtonClicked(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID tlačítka.

### <a name="remarks"></a>Poznámky

##  <a name="oncheckbuttontoggled"></a>  CFileDialog::OnCheckButtonToggled

Volá se, když je toto políčko zaškrtnuté nebo nezaškrtnuté.

```
virtual void OnCheckButtonToggled(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávací políčko.

*bChecked*<br/>
Zaškrtnuté nebo nezaškrtnuté.

### <a name="remarks"></a>Poznámky

##  <a name="oncontrolactivating"></a>  CFileDialog::OnControlActivating

Volá se, když je aktivován ovládací prvek.

```
virtual void OnControlActivating(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="onfilenamechange"></a>  CFileDialog::OnFileNameChange

Potlačí tuto metodu, pokud chcete, aby se zpracovala zpráva WM_NOTIFY CDN_SELCHANGE.

```
virtual void OnFileNameChange();
```

### <a name="remarks"></a>Poznámky

Systém odešle zprávu CDN_SELCHANGE. když uživatel vybere nový soubor nebo složku v seznamu souboru **otevřít** nebo **uložit jako** dialogové okno. Potlačí tuto metodu, pokud chcete provádět všechny akce v reakci na tuto zprávu.

Systém pošle tuto zprávu pouze v případě, že se zapnutým příznakem OFN_EXPLORER pochází dialogových oken. Další informace o oznámení najdete v tématu [CDN_SELCHANGE](/windows/desktop/dlgbox/cdn-selchange). Informace o příznak OFN_EXPLORER, najdete v článku [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) strukturu a [otevřít a uložit jako dialogová okna](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="onfilenameok"></a>  CFileDialog::OnFileNameOK

Potlačí tuto funkci pouze v případě, že chcete poskytnout vlastní ověřovací názvů souborů, které se zadávají do společného dialogového okna souboru.

```
virtual BOOL OnFileNameOK();
```

### <a name="return-value"></a>Návratová hodnota

1, pokud název souboru není platný název souboru. jinak 0.

### <a name="remarks"></a>Poznámky

Tato funkce umožňuje odmítnout název souboru z nějakého důvodu specifické pro aplikaci. Za normálních okolností není nutné tuto funkci použít, protože rozhraní poskytuje výchozí ověřování názvy souborů a zobrazí okno se zprávou, pokud je zadán neplatný název souboru.

Pokud vrátí hodnotu 1, dialogové okno zůstane zobrazený uživateli zadat jiný název souboru. Proceduru dialogového okna zavře dialogové okno, pokud je vrácená 0. Další nenulovou vrátit hodnoty aktuálně je rezervováno by se neměl používat.

##  <a name="onfolderchange"></a>  CFileDialog::OnFolderChange

Potlačí tuto funkci, aby se zpracovala zpráva WM_NOTIFYCDN_FOLDERCHANGE.

```
virtual void OnFolderChange();
```

### <a name="remarks"></a>Poznámky

Zpráva oznámení se pošle při otevření nové složky v dialogovém okně Otevřít nebo uložit jako.

Pouze v případě, že dialogové okno byl vytvořen styl OFN_EXPLORER, odešle se oznámení. Další informace o oznámení najdete v tématu [CDN_FOLDERCHANGE](/windows/desktop/dlgbox/cdn-folderchange). Informace o stylu OFN_EXPLORER najdete v tématu [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) strukturu a [otevřít a uložit jako dialogová okna](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="oninitdone"></a>  CFileDialog::OnInitDone

Potlačí tuto funkci, aby se zpracovala zpráva WM_NOTIFY CDN_INITDONE.

```
virtual void OnInitDone();
```

### <a name="remarks"></a>Poznámky

Systém pošle tuto zprávu oznámení po dokončení uspořádání ovládacích prvků v systému **otevřít** nebo **uložit jako** dialogové okno aby uvolnil prostor pro ovládací prvky dialogového okna podřízeného.

Systém odešle to jenom v případě, že dialogové okno byl vytvořen styl OFN_EXPLORER. Další informace o oznámení najdete v tématu [CDN_INITDONE](/windows/desktop/dlgbox/cdn-initdone). Informace o stylu OFN_EXPLORER najdete v tématu [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) strukturu a [otevřít a uložit jako dialogová okna](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

> [!NOTE]
> Windows Vista nebo novější styl soubor dialogová okna nepodporují tuto funkci. Pokus o použití této funkce ve Windows Vista nebo novější dialogového okna souboru styl vyvolá [cnotsupportedexception –](../../mfc/reference/cnotsupportedexception-class.md).

##  <a name="onitemselected"></a>  CFileDialog::OnItemSelected

Volá se při výběru položky kontejneru.

```
virtual void OnItemSelected(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDItem*<br/>
ID položky.

### <a name="remarks"></a>Poznámky

##  <a name="onlbselchangednotify"></a>  CFileDialog::OnLBSelChangedNotify

Tato funkce je volána pokaždé, když aktuální výběr v seznamu se má změnit.

```
virtual void OnLBSelChangedNotify(
    UINT nIDBox,
    UINT iCurSel,
    UINT nCode);
```

### <a name="parameters"></a>Parametry

*nIDBox*<br/>
ID seznamu nebo pole se seznamem, ve kterém došlo k výběru.

*iCurSel*<br/>
Index aktuálního výběru.

*nCode*<br/>
Kód upozornění ovládacího prvku. Tento parametr musí mít jeden z následujících hodnot:

- Určuje CD_LBSELCHANGE *iCurSel* pro vybranou položku v seznamu jedním výběrem.

- CD_LBSELSUB Určuje, že *iCurSel* multiselection seznamu vybraný nezůstane.

- CD_LBSELADD Určuje, že *iCurSel* je vybrané v multiselection seznamu.

- CD_LBSELNOITEMS Určuje, že v seznamu multiselection neexistuje žádný výběr.

### <a name="remarks"></a>Poznámky

Přepsání této funkce zadalo vlastní zpracování změny výběru v rozevíracím seznamu. Například tato funkce slouží k zobrazení přístupová práva nebo datum poslední změny každého souboru si uživatel vybere.

##  <a name="onshareviolation"></a>  CFileDialog::OnShareViolation

Přepsání této funkce zadalo vlastní zpracování narušení sdílení.

```
virtual UINT OnShareViolation(LPCTSTR lpszPathName);
```

### <a name="parameters"></a>Parametry

*lpszPathName*<br/>
Cestu k souboru, ve kterém došlo k narušení sdílení.

### <a name="return-value"></a>Návratová hodnota

Jeden z následujících hodnot:

- OFN_SHAREFALLTHROUGH název souboru je vrácena z dialogového okna.

- OFN_SHARENOWARN žádná další akce není nutné provádět.

- OFN_SHAREWARN uživatel obdrží standardní upozornění pro tuto chybu.

### <a name="remarks"></a>Poznámky

Za normálních okolností není nutné tuto funkci použít, protože rozhraní poskytuje výchozí kontrola porušení sdílené složky a zobrazí okno se zprávou, pokud dojde k narušení sdílení.

Pokud chcete zakázat kontrolu narušení sdílení, použít bitový operátor OR příznak OFN_SHAREAWARE zkombinovat s `m_ofn.Flags`.

##  <a name="ontypechange"></a>  CFileDialog::OnTypeChange

Potlačí tuto funkci, aby se zpracovala zpráva WM_NOTIFYCDN_TYPECHANGE.

```
virtual void OnTypeChange();
```

### <a name="remarks"></a>Poznámky

Zpráva oznámení se pošle, když uživatel vybere nový typ souboru v seznamu typů souborů v otevřeném nebo dialogové okno Uložit jako.

Pouze v případě, že dialogové okno byl vytvořen styl OFN_EXPLORER, odešle se oznámení. Další informace o oznámení najdete v tématu [CDN_TYPECHANGE](/windows/desktop/dlgbox/cdn-typechange). Informace o stylu OFN_EXPLORER najdete v tématu [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) strukturu a [otevřít a uložit jako dialogová okna](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="removecontrolitem"></a>  CFileDialog::RemoveControlItem

Odebere položku z kontejneru ovládacího prvku v dialogovém okně.

```
HRESULT RemoveControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru odeberte položku z.

*dwIDItem*<br/>
ID položky.

### <a name="remarks"></a>Poznámky

##  <a name="setcheckbuttonstate"></a>  CFileDialog::SetCheckButtonState

Nastaví aktuální stav zaškrtnutí tlačítka (zaškrtávací políčko) v dialogovém okně.

```
HRESULT SetCheckButtonState(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávací políčko.

*bChecked*<br/>
Stav zaškrtávacího políčka. Hodnota TRUE označuje checked; Hodnota FALSE označuje Nekontrolováno.

### <a name="remarks"></a>Poznámky

##  <a name="setcontrolitemstate"></a>  CFileDialog::SetControlItemState

Nastaví aktuální stav položky v ovládacím prvku kontejneru, v dialogovém okně.

```
HRESULT SetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDItem*<br/>
ID položky.

*dwState*<br/>
Jedna nebo více hodnot z výčtu CDCONTROLSTATE rozeznali nový stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="setcontrolitemtext"></a>  CFileDialog::SetControlItemText

Nastaví text, který ovládací prvek položky. Například text, který doprovází přepínač nebo položku v nabídce.

```
HRESULT SetControlItemText(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDItem*<br/>
ID položky.

*strLabel*<br/>
Text položky.

### <a name="remarks"></a>Poznámky

##  <a name="setcontrollabel"></a>  CFileDialog::SetControlLabel

Nastaví text přidružený k ovládacímu prvku, jako je text tlačítka nebo popisek upravit pole.

```
HRESULT SetControlLabel(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

*strLabel*<br/>
Název ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="setcontrolstate"></a>  CFileDialog::SetControlState

Nastaví aktuální viditelnost a jejich stavů daný ovládací prvek.

```
HRESULT SetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

*dwState*<br/>
Jedna nebo více hodnot z výčtu CDCONTROLSTATE, které označují aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

##  <a name="setcontroltext"></a>  CFileDialog::SetControlText

Voláním této metody lze nastavit text pro zadaný ovládací prvek ve stylu Průzkumníka **otevřít** nebo **uložit jako** dialogové okno.

```
void SetControlText(
    int nID,
    LPCSTR lpsz);

void SetControlText(
    int nID,
    const wchar_t *lpsz);
```

### <a name="parameters"></a>Parametry

*nID*<br/>
[in] ID ovládacího prvku, pro kterou chcete nastavit text.

*lpsz*<br/>
[in] Ukazatel na řetězec, který obsahuje text, který má nastavit pro ovládací prvek.

### <a name="remarks"></a>Poznámky

Obě verze této funkce jsou platné pro aplikace, které používají kódování Unicode. Pouze verze s typem LPCSTR však platí pro aplikace, které používají ANSI.

Pokud chcete použít tuto metodu, musíte vytvořit dialogové okno stylem OFN_EXPLORER. V opačném případě funkce se nezdaří s kontrolní výraz.

##  <a name="setdefext"></a>  CFileDialog::SetDefExt

Voláním této funkce nastavit výchozí přípona názvu souboru pro stylem podobným Průzkumníku otevřít nebo uložit jako běžné dialogové okno s.

```
void SetDefExt(LPCSTR lpsz);
```

### <a name="parameters"></a>Parametry

*lpsz*<br/>
Ukazatel na řetězec obsahující výchozí přípona pro pole objektu dialogového okna. Tento řetězec nesmí obsahovat tečku (.).

### <a name="remarks"></a>Poznámky

Dialogové okno musí být vytvořen s OFN_EXPLORER styl; v opačném případě funkce se nezdaří s kontrolní výraz.

##  <a name="seteditboxtext"></a>  CFileDialog::SetEditBoxText

Nastaví aktuální text v ovládacím prvku upravovat.

```
HRESULT SetEditBoxText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole pro úpravy.

*strText*<br/>
Textové hodnoty.

### <a name="remarks"></a>Poznámky

##  <a name="setproperties"></a>  CFileDialog::SetProperties

Poskytuje vlastnosti úložiště, který definuje výchozí hodnoty pro položky se ukládá.

```
BOOL SetProperties(LPCWSTR lpszPropList);
```

### <a name="parameters"></a>Parametry

*lpszPropList*<br/>
Seznam předdefinovaných vlastností, které jsou odděleny ";". Seznam všech příznaků, najdete v článku **příznaky** část [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna).

### <a name="remarks"></a>Poznámky

##  <a name="setselectedcontrolitem"></a>  CFileDialog::SetSelectedControlItem

Nastaví vybraný stav konkrétní položku v skupiny přepínačů nebo pole se seznamem v dialogovém okně.

```
HRESULT SetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDItem*<br/>
ID položky, kterou uživatel vybral v ovládacím prvku.

### <a name="remarks"></a>Poznámky

##  <a name="settemplate"></a>  CFileDialog::SetTemplate

Nastaví šablony dialogového okna pro [CFileDialog](../../mfc/reference/cfiledialog-class.md) objektu.

```
void SetTemplate(
    UINT nWin3ID,
    UINT nWin4ID);

void SetTemplate(
    LPCTSTR lpWin3ID,
    LPCTSTR lpWin4ID);
```

### <a name="parameters"></a>Parametry

*nWin3ID*<br/>
[in] Obsahuje identifikační číslo prostředku šablony pro jiné Průzkumníka `CFileDialog` objektu. Tato šablona se používá jenom v systému Windows NT 3.51, aktualizace nebo styl OFN_EXPLORER není k dispozici.

*nWin4ID*<br/>
[in] Obsahuje identifikační číslo prostředku šablony pro Průzkumníka `CFileDialog` objektu. Tato šablona se používá jenom ve Windows NT 4.0 a novější, Windows 95 a novějších verzích nebo styl OFN_EXPLORER je k dispozici.

*lpWin3ID*<br/>
[in] Obsahuje název prostředku šablony pro jiné Průzkumníka `CFileDialog` objektu. Tato šablona se používá jenom v systému Windows NT 3.51, aktualizace nebo styl OFN_EXPLORER není k dispozici.

*lpWin4ID*<br/>
[in] Obsahuje název prostředku šablony Průzkumníka `CFileDialog` objektu. Tato šablona se používá jenom ve Windows NT 4.0 a novější, Windows 95 a novějších verzích nebo styl OFN_EXPLORER je k dispozici.

### <a name="remarks"></a>Poznámky

Systém bude používat jenom jeden z určené šablony. Systém zjistí, která šablona se má použít na základě přítomnosti OFN_EXPLORER stylu a operační systém, na kterém aplikace běží na. Zadáním jiné Explorer i stylem podobným Průzkumníku šablony je jednoduché podporovat Windows NT 3.51, aktualizace, Windows NT 4.0 a novější verze a Windows 95 a novějších verzích.

> [!NOTE]
> Windows Vista nebo novější styl soubor dialogová okna nepodporují tuto funkci. Pokus o použití této funkce ve Windows Vista nebo novější soubor dialogové okno Styl vyvolá [cnotsupportedexception –](../../mfc/reference/cnotsupportedexception-class.md). Další možností je používat přizpůsobené dialogové okno. Další informace o používání vlastní `CFileDialog`, naleznete v tématu [IFileDialogCustomize](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

##  <a name="startvisualgroup"></a>  CFileDialog::StartVisualGroup

Deklaruje visual skupiny v dialogovém okně. Následná volání na jakoukoli metodu, "Přidání" přidat tyto prvky do této skupiny.

```
HRESULT StartVisualGroup(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID skupiny visual.

*strLabel*<br/>
Název skupiny.

### <a name="remarks"></a>Poznámky

##  <a name="updateofnfromshelldialog"></a>  CFileDialog::UpdateOFNFromShellDialog

Aktualizace `m_ofn` datová struktura [CFileDialog](../../mfc/reference/cfiledialog-class.md) na základě aktuálního stavu na vnitřní objekt.

```
void UpdateOFNFromShellDialog();
```

### <a name="remarks"></a>Poznámky

Ve verzích Windows než Windows Vista, člen [LPSTRFILE](https://msdn.microsoft.com/library/ms911906.aspx) datová struktura byla průběžně synchronizována se stavem `CFileDialog`. Všechny změny [m_ofn](#m_ofn) členské proměnné přímo vliv na stav dialogového okna. Navíc všechny změny stavu dialogového okna okamžitě aktualizován m_ofn členské proměnné.

V systému Windows Vista nebo novější `m_ofn` datová struktura se neaktualizuje automaticky. Chcete-li zaručit, že data v `m_ofn` členské proměnné, měli byste zavolat `UpdateOFNFromShellDialog` funkce před přístupu k datům. Windows volá tuto funkci automaticky během zpracování [IFileDialog::OnFileOK](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-ifiledialogevents-onfileok).

Další informace o tom, jak používat `CFileDialog` třídy v rámci Windows Vista nebo novější, najdete v článku [cfiledialog – třída](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Příklad

Tento příklad aktualizuje `CFileDialog` před zobrazením. Před aktualizací `m_ofn` členské proměnné, musíme synchronizovat ji do aktuálního stavu dialogového okna.

[!code-cpp[NVC_MFC_CFileDialog#1](../../mfc/reference/codesnippet/cpp/cfiledialog-class_7.cpp)]

## <a name="see-also"></a>Viz také

[CCommonDialog – třída](../../mfc/reference/ccommondialog-class.md)<br/>
[Graf hierarchie](../../mfc/hierarchy-chart.md)

