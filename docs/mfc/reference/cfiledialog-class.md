---
title: Třída CFileDialog
ms.date: 11/04/2016
f1_keywords:
- CFileDialog
- AFXDLGS/CFileDialog
- AFXDLGS/CFileDialog::CFileDialog
- AFXDLGS/CFileDialog::AddCheckButton
- AFXDLGS/CFileDialog::AddComboBox
- AFXDLGS/CFileDialog::AddControlItem
- AFXDLGS/CFileDialog::AddEditBox
- AFXDLGS/CFileDialog::AddMenu
- AFXDLGS/CFileDialog::AddPlace
- AFXDLGS/CFileDialog::AddPushButton
- AFXDLGS/CFileDialog::AddRadioButtonList
- AFXDLGS/CFileDialog::AddSeparator
- AFXDLGS/CFileDialog::AddText
- AFXDLGS/CFileDialog::ApplyOFNToShellDialog
- AFXDLGS/CFileDialog::DoModal
- AFXDLGS/CFileDialog::EnableOpenDropDown
- AFXDLGS/CFileDialog::EndVisualGroup
- AFXDLGS/CFileDialog::GetCheckButtonState
- AFXDLGS/CFileDialog::GetControlItemState
- AFXDLGS/CFileDialog::GetControlState
- AFXDLGS/CFileDialog::GetEditBoxText
- AFXDLGS/CFileDialog::GetFileExt
- AFXDLGS/CFileDialog::GetFileName
- AFXDLGS/CFileDialog::GetFileTitle
- AFXDLGS/CFileDialog::GetFolderPath
- AFXDLGS/CFileDialog::GetIFileDialogCustomize
- AFXDLGS/CFileDialog::GetIFileOpenDialog
- AFXDLGS/CFileDialog::GetIFileSaveDialog
- AFXDLGS/CFileDialog::GetNextPathName
- AFXDLGS/CFileDialog::GetOFN
- AFXDLGS/CFileDialog::GetPathName
- AFXDLGS/CFileDialog::GetReadOnlyPref
- AFXDLGS/CFileDialog::GetResult
- AFXDLGS/CFileDialog::GetResults
- AFXDLGS/CFileDialog::GetSelectedControlItem
- AFXDLGS/CFileDialog::GetStartPosition
- AFXDLGS/CFileDialog::HideControl
- AFXDLGS/CFileDialog::IsPickFoldersMode
- AFXDLGS/CFileDialog::MakeProminent
- AFXDLGS/CFileDialog::RemoveControlItem
- AFXDLGS/CFileDialog::SetCheckButtonState
- AFXDLGS/CFileDialog::SetControlItemState
- AFXDLGS/CFileDialog::SetControlItemText
- AFXDLGS/CFileDialog::SetControlLabel
- AFXDLGS/CFileDialog::SetControlState
- AFXDLGS/CFileDialog::SetControlText
- AFXDLGS/CFileDialog::SetDefExt
- AFXDLGS/CFileDialog::SetEditBoxText
- AFXDLGS/CFileDialog::SetProperties
- AFXDLGS/CFileDialog::SetSelectedControlItem
- AFXDLGS/CFileDialog::SetTemplate
- AFXDLGS/CFileDialog::StartVisualGroup
- AFXDLGS/CFileDialog::UpdateOFNFromShellDialog
- AFXDLGS/CFileDialog::OnButtonClicked
- AFXDLGS/CFileDialog::OnCheckButtonToggled
- AFXDLGS/CFileDialog::OnControlActivating
- AFXDLGS/CFileDialog::OnFileNameChange
- AFXDLGS/CFileDialog::OnFileNameOK
- AFXDLGS/CFileDialog::OnFolderChange
- AFXDLGS/CFileDialog::OnInitDone
- AFXDLGS/CFileDialog::OnItemSelected
- AFXDLGS/CFileDialog::OnLBSelChangedNotify
- AFXDLGS/CFileDialog::OnShareViolation
- AFXDLGS/CFileDialog::OnTypeChange
- AFXDLGS/CFileDialog::m_ofn
helpviewer_keywords:
- CFileDialog [MFC], CFileDialog
- CFileDialog [MFC], AddCheckButton
- CFileDialog [MFC], AddComboBox
- CFileDialog [MFC], AddControlItem
- CFileDialog [MFC], AddEditBox
- CFileDialog [MFC], AddMenu
- CFileDialog [MFC], AddPlace
- CFileDialog [MFC], AddPushButton
- CFileDialog [MFC], AddRadioButtonList
- CFileDialog [MFC], AddSeparator
- CFileDialog [MFC], AddText
- CFileDialog [MFC], ApplyOFNToShellDialog
- CFileDialog [MFC], DoModal
- CFileDialog [MFC], EnableOpenDropDown
- CFileDialog [MFC], EndVisualGroup
- CFileDialog [MFC], GetCheckButtonState
- CFileDialog [MFC], GetControlItemState
- CFileDialog [MFC], GetControlState
- CFileDialog [MFC], GetEditBoxText
- CFileDialog [MFC], GetFileExt
- CFileDialog [MFC], GetFileName
- CFileDialog [MFC], GetFileTitle
- CFileDialog [MFC], GetFolderPath
- CFileDialog [MFC], GetIFileDialogCustomize
- CFileDialog [MFC], GetIFileOpenDialog
- CFileDialog [MFC], GetIFileSaveDialog
- CFileDialog [MFC], GetNextPathName
- CFileDialog [MFC], GetOFN
- CFileDialog [MFC], GetPathName
- CFileDialog [MFC], GetReadOnlyPref
- CFileDialog [MFC], GetResult
- CFileDialog [MFC], GetResults
- CFileDialog [MFC], GetSelectedControlItem
- CFileDialog [MFC], GetStartPosition
- CFileDialog [MFC], HideControl
- CFileDialog [MFC], IsPickFoldersMode
- CFileDialog [MFC], MakeProminent
- CFileDialog [MFC], RemoveControlItem
- CFileDialog [MFC], SetCheckButtonState
- CFileDialog [MFC], SetControlItemState
- CFileDialog [MFC], SetControlItemText
- CFileDialog [MFC], SetControlLabel
- CFileDialog [MFC], SetControlState
- CFileDialog [MFC], SetControlText
- CFileDialog [MFC], SetDefExt
- CFileDialog [MFC], SetEditBoxText
- CFileDialog [MFC], SetProperties
- CFileDialog [MFC], SetSelectedControlItem
- CFileDialog [MFC], SetTemplate
- CFileDialog [MFC], StartVisualGroup
- CFileDialog [MFC], UpdateOFNFromShellDialog
- CFileDialog [MFC], OnButtonClicked
- CFileDialog [MFC], OnCheckButtonToggled
- CFileDialog [MFC], OnControlActivating
- CFileDialog [MFC], OnFileNameChange
- CFileDialog [MFC], OnFileNameOK
- CFileDialog [MFC], OnFolderChange
- CFileDialog [MFC], OnInitDone
- CFileDialog [MFC], OnItemSelected
- CFileDialog [MFC], OnLBSelChangedNotify
- CFileDialog [MFC], OnShareViolation
- CFileDialog [MFC], OnTypeChange
- CFileDialog [MFC], m_ofn
ms.assetid: fda4fd3c-08b8-4ce0-8e9d-7bab23f8c6c0
ms.openlocfilehash: 197dec23b4c715b0bca35976f9fa53a055cdd78f
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/14/2020
ms.locfileid: "81373907"
---
# <a name="cfiledialog-class"></a>Třída CFileDialog

Zapouzdřuje společné dialogové okno, které se používá pro operace otevření souboru nebo uložení souborů.

## <a name="syntax"></a>Syntaxe

```
class CFileDialog : public CCommonDialog
```

## <a name="members"></a>Členové

### <a name="public-constructors"></a>Veřejné konstruktory

|Name (Název)|Popis|
|----------|-----------------|
|[CFileDialog::CFileDialog](#cfiledialog)|Vytvoří `CFileDialog` objekt.|

### <a name="public-methods"></a>Veřejné metody

|Name (Název)|Popis|
|----------|-----------------|
|[CFileDialog::AddCheckButton](#addcheckbutton)|Přidá do dialogového okna tlačítko kontroly.|
|[CFileDialog::AddComboBox](#addcombobox)|Přidá do dialogového okna pole se seznamem.|
|[CFileDialog::AddControlItem](#addcontrolitem)|Přidá položku do ovládacího prvku kontejneru v dialogovém okně.|
|[CFileDialog::AddEditBox](#addeditbox)|Přidá do dialogového okna dialogové pole.|
|[CFileDialog::AddMenu](#addmenu)|Přidá nabídku do dialogového okna.|
|[CFileDialog::Přidat místo](#addplace)|Přetíženo. Přidá složku do seznamu míst, která má uživatel k dispozici k otevření nebo uložení položek.|
|[CFileDialog::AddPushButton](#addpushbutton)|Přidá do dialogu tlačítko.|
|[CFileDialog::AddRadioButtonList](#addradiobuttonlist)|Přidá do dialogu skupinu přepínačů (označované také jako přepínací tlačítko).|
|[CFileDialog::Oddělovač přidání](#addseparator)|Přidá do dialogu oddělovač.|
|[CFileDialog::AddText](#addtext)|Přidá do dialogu textový obsah.|
|[CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog)|Aktualizuje stav, `CFileDialog` aby odpovídal parametrům a příznakům uloženým v `m_ofn` členské proměnné.|
|[CFileDialog::DoModální](#domodal)|Zobrazí dialogové okno a umožní uživateli provést výběr.|
|[CFileDialog::Povolitopendropdown](#enableopendropdown)|Povolí rozevírací seznam na tlačítku **Otevřít** nebo **Uložit** v dialogovém okně.|
|[CFileDialog::EndVisualGroup](#endvisualgroup)|Zastaví přidávání prvků do vizuální skupiny v dialogovém okně.|
|[CFileDialog::GetCheckButtonState](#getcheckbuttonstate)|Získá aktuální stav zaškrtávacího tlačítka (zaškrtávací políčko) v dialogovém okně.|
|[CFileDialog::GetControlItemState](#getcontrolitemstate)|Získá aktuální stav položky v ovládacím prvku kontejneru nalezené v dialogovém okně.|
|[CFileDialog::GetControlState](#getcontrolstate)|Získá aktuální viditelnost a povolené stavy daného ovládacího prvku.|
|[CFileDialog::GetEditBoxText](#geteditboxtext)|Získá aktuální text v ovládacím prvku upravit pole.|
|[CFileDialog::GetFileExt](#getfileext)|Vrátí příponu vybraného souboru.|
|[CFileDialog::GetFileName](#getfilename)|Vrátí název vybraného souboru.|
|[CFileDialog::GetFileTitle](#getfiletitle)|Vrátí název vybraného souboru.|
|[CFileDialog::GetFolderPath](#getfolderpath)|Načte cestu k aktuálně otevřené složce nebo adresáři pro běžné dialogové okno **Otevřít** nebo **Uložit jako** v průzkumníku.|
|[cfiledialog::getifiledialogCustomize](#getifiledialogcustomize)|Načte interní objekt COM pro `CFileDialog` vlastní objekt.|
|[CFileDialog::getifileopendialog](#getifileopendialog)|Načte interní objekt COM `CFileDialog` pro objekt, který se používá jako dialogové okno **Otevřít** soubor.|
|[cfiledialog::getifilesavedialog](#getifilesavedialog)|Načte interní objekt COM `CFileDialog` pro který se používá jako dialogové okno **Uložit** soubor.|
|[CFileDialog::GetNextPathName](#getnextpathname)|Vrátí úplnou cestu k dalšímu vybranému souboru.|
|[CFileDialog::GetOFN](#getofn)|Načte `OPENFILENAME` strukturu objektu. `CFileDialog`|
|[CFileDialog::GetPathName](#getpathname)|Vrátí úplnou cestu k vybranému souboru.|
|[CFileDialog::GetReadOnlyPref](#getreadonlypref)|Vrátí stav vybraného souboru jen pro čtení.|
|[CFileDialog::GetResult](#getresult)|Získá volbu, kterou uživatel provedl v dialogovém okně.|
|[CFileDialog::Výsledky](#getresults)|Získá volby uživatele v dialogovém okně, který umožňuje více výběrů.|
|[CFileDialog::GetSelectedControlItem](#getselectedcontrolitem)|Získá určitou položku z zadaných ovládacích prvků kontejneru v dialogovém okně.|
|[CFileDialog::GetStartPosition](#getstartposition)|Vrátí pozici prvního prvku seznamu názvů souborů.|
|[CFileDialog::HideControl](#hidecontrol)|Skryje zadaný ovládací prvek v dialogovém okně **Otevřít** nebo **Uložit jako** běžný ve stylu Průzkumníka.|
|[CFileDialog::ispickFoldersMode](#ispickfoldersmode)|Určuje, zda je aktuální dialog v režimu výběru složek.|
|[CFileDialog::MakeProminent](#makeprominent)|Umístí ovládací prvek do dialogového okna tak, aby vyčnívá ve srovnání s jinými přidanými ovládacími prvky.|
|[CFileDialog::RemoveControlItem](#removecontrolitem)|Odebere položku z ovládacího prvku kontejneru v dialogovém okně.|
|[CFileDialog::SetCheckButtonState](#setcheckbuttonstate)|Nastaví aktuální stav zaškrtávacího tlačítka (zaškrtávacího políčka) v dialogovém okně.|
|[CFileDialog::SetControlItemState](#setcontrolitemstate)|Nastaví aktuální stav položky v ovládacím prvku kontejneru nalezeném v dialogovém okně.|
|[CFileDialog::SetControlItemText](#setcontrolitemtext)|Nastaví text ovládací položky. Například text, který doprovází přepínací tlačítko nebo položku v nabídce.|
|[CFileDialog::SetControlLabel](#setcontrollabel)|Nastaví text přidružený k ovládacímu prvku, například text tlačítka nebo popisek textového pole.|
|[CFileDialog::SetControlState](#setcontrolstate)|Nastaví aktuální viditelnost a povolené stavy daného ovládacího prvku.|
|[CFileDialog::SetControlText](#setcontroltext)|Nastaví text pro zadaný ovládací prvek v dialogovém okně **Otevřít** nebo **Uložit jako** běžný ve stylu Průzkumníka.|
|[CFileDialog::SetDefExt](#setdefext)|Nastaví výchozí příponu názvu souboru pro běžné dialogové okno **Otevřít** nebo **Uložit jako** v průzkumníku.|
|[CFileDialog::SetEditBoxText](#seteditboxtext)|Nastaví aktuální text v ovládacím prvku textového pole.|
|[CFileDialog::SetProperties](#setproperties)|Poskytuje úložiště vlastností, které definuje výchozí hodnoty, které mají být použity pro uloženou položku.|
|[CFileDialog::SetSelectedControlItem](#setselectedcontrolitem)|Nastaví vybraný stav určité položky ve skupině přepínačů nebo v poli se seznamem, které se nachází v dialogovém okně.|
|[CFileDialog::SetTemplate](#settemplate)|Nastaví šablonu dialogového `CFileDialog` okna pro objekt.|
|[CFileDialog::StartVisualGroup](#startvisualgroup)|Deklaruje vizuální skupinu v dialogovém okně. Následná volání jakékoli metody "add" přidávají tyto prvky do této skupiny.|
|[CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog)|Aktualizuje data uložená `m_ofn` v členské proměnné tak, aby odpovídala aktuálnímu stavu dialogového okna souboru.|

### <a name="protected-methods"></a>Chráněné metody

|Name (Název)|Popis|
|----------|-----------------|
|[CFileDialog::OnButtonClicked](#onbuttonclicked)|Volána po klepnutí na tlačítko.|
|[CFileDialog::OnCheckButtonToggled](#oncheckbuttontoggled)|Volána, když je zaškrtnuto nebo nezaškrtnuto políčko.|
|[CFileDialog::OnControlAktivace](#oncontrolactivating)|Volána, když je ovládací prvek aktivní.|
|[cfiledialog::OnFileNameChange](#onfilenamechange)|Zpracovává zprávu CDN_SELCHANGE WM_NOTIFY.|
|[CFileDialog::OnFileNameOK](#onfilenameok)|Ověří název souboru zadaný v dialogovém okně.|
|[cfiledialog::onFolderChange](#onfolderchange)|Zpracovává zprávu WM_NOTIFY CDN_FOLDERCHANGE.|
|[CFileDialog::OnInitDone](#oninitdone)|Zpracovává zprávu CDN_INITDONE WM_NOTIFY.|
|[CFileDialog::OnItemSelected](#onitemselected)|Volána při výběru položky kontejneru.|
|[CFileDialog::OnLBSelChangedNotify](#onlbselchangednotify)|Umožňuje provádět vlastní akce při změně výběru souboru.|
|[cfiledialog::onshareviolation](#onshareviolation)|Zpracovává porušení sdílení.|
|[cfiledialog::ontypechange](#ontypechange)|Zpracovává zprávu WM_NOTIFY CDN_TYPECHANGE.|

### <a name="public-data-members"></a>Veřejné datové členy

|Name (Název)|Popis|
|----------|-----------------|
|[CFileDialog::m_ofn](#m_ofn)|Struktura `OPENFILENAME` systému Windows. Poskytuje přístup k základním parametrům dialogového okna souboru.|

## <a name="remarks"></a>Poznámky

Běžná dialogová okna souborů umožňují implementovat dialogová okna pro výběr souborů, například **Otevřít soubor** a **Uložit jako**, a to způsobem, který je konzistentní se standardy systému Windows.

Můžete použít, `CFileDialog` jak je s konstruktorem k dispozici, nebo `CFileDialog` můžete odvodit vlastní dialogové okno třídy z a napsat konstruktor, aby vyhovoval vašim potřebám. V obou případech se tato dialogová okna budou chovat jako standardní dialogová okna knihovny MFC, protože jsou odvozena z [třídy CCommonDialog](../../mfc/reference/ccommondialog-class.md). `CFileDialog`spoléhá na COMMDLG. Soubor DLL, který je součástí systému Windows.

Vzhled i funkčnost systému `CFileDialog` Windows Vista nebo novější se liší od předchozích verzí systému Windows. Výchozí `CFileDialog` nastavení automaticky použije nový styl systému Windows Vista nebo novější ho bez změn kódu, pokud je program zkompilován a spuštěn v systému Windows Vista nebo novějším. Pomocí parametru *bVistaStyle* v konstruktoru ručně přepište tuto automatickou aktualizaci. Výjimkou z automatické aktualizace jsou přizpůsobená dialogová okna. Nebudou převedeny na nový styl. Další informace o konstruktoru naleznete v tématu [CFileDialog::CFileDialog](#cfiledialog).

> [!NOTE]
> Systém ID ovládacího prvku se v systému Windows Vista nebo `CFileDialog`novějším liší od dřívějších verzí systému Windows při použití aplikace . Před přenosem projektu `CFileDialog` ze starší verze systému Windows je nutné aktualizovat všechny odkazy na ovládací prvky v kódu.

Některé `CFileDialog` metody nejsou v systému Windows Vista nebo novějším podporovány. Informace o tom, zda je metoda podporována, naleznete v tématu jednotlivých metod. Kromě toho nejsou v systému Windows Vista nebo novějších podporovány následující zděděné funkce:

- [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)

- [CDialog::OnSetFont](../../mfc/reference/cdialog-class.md#onsetfont)

Zprávy systému `CFileDialog` Windows pro třídu se liší v závislosti na operačním systému, který používáte. Systém Windows XP například nepodporuje [cDialog::OnCancel](../../mfc/reference/cdialog-class.md#oncancel) a [CDialog::OnOK](../../mfc/reference/cdialog-class.md#onok) pro třídu. `CFileDialog` Systém Windows Vista a novější operační systémy je však podporují. Další informace o různých zprávách, které jsou generovány, a pořadí, ve kterém jsou přijímány, naleznete v [tématu CFileDialog Sample: Logging Event Order](../../overview/visual-cpp-samples.md).

Chcete-li `CFileDialog` použít objekt, nejprve `CFileDialog` vytvořte objekt pomocí konstruktoru. Po vytvoření dialogového okna můžete nastavit nebo upravit libovolné hodnoty ve struktuře [CFileDialog::m_ofn](#m_ofn) pro inicializaci hodnot nebo stavů ovládacích prvků dialogového okna. Struktura `m_ofn` je typu `OPENFILENAME`. Další informace naleznete [openfilename](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) struktury v sadě Windows SDK.

Po inicializaci ovládacích prvků dialogového okna zavolejte metodu [CFileDialog::DoModal,](#domodal) která zobrazí dialogové okno tak, aby uživatel mohl zadat cestu a název souboru. `DoModal`vrátí, zda uživatel klepnul na tlačítko OK (IDOK) nebo Cancel (IDCANCEL). Pokud `DoModal` vrátí IDOK, můžete použít `CFileDialog` jednu z veřejných členských funkcí k načtení informací vložkou uživatelem.

> [!NOTE]
> V systému Windows Vista nebo novějším způsobí chybu více volání [iFileDialog::SetFileTypes.](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ifiledialog-setfiletypes) Druhá výzva `SetFileTypes` pro všechny instance `CFileDialog` vrátí E_UNEXPECTED v systému Windows Vista nebo novější. Některé `CFileDialog` funkce `SetFileTypes`metody volání . Například dvě volání `CFileDialog::DoModal` pro stejnou instanci `CFileDialog` generuje [ASSERT](diagnostic-services.md#assert).

`CFileDialog`obsahuje několik chráněných členů, které umožňují vlastní zpracování narušení sdílení, ověření názvu souboru a oznámení o změně seznamu. Tyto chráněné členy jsou funkce zpětného volání, které většina aplikací není třeba používat, protože výchozí zpracování se provádí automaticky. Položky mapy zpráv pro tyto funkce nejsou vyžadovány, protože se jedná o standardní virtuální funkce.

Pomocí funkce Windows [CommDlgExtendedError](/windows/win32/api/commdlg/nf-commdlg-commdlgextendederror) můžete určit, zda došlo k chybě během inicializace dialogového okna a získat další informace o chybě.

Zničení `CFileDialog` objektů je zpracováno automaticky. Není třeba volat [CDialog::EndDialog](../../mfc/reference/cdialog-class.md#enddialog).

Chcete-li uživateli ponechat vybrat více souborů, nastavte příznak OFN_ALLOWMULTISELECT před voláním `DoModal`. Je nutné zadat vlastní vyrovnávací paměť názvu souboru, aby se přizpůsobily vrácený seznam více názvů souborů. To provést nahrazením `m_ofn.lpstrFile` ukazatelem vyrovnávací paměti, které jste přidělili, po vytvoření `CFileDialog`, ale před voláním `DoModal`.

Kromě toho je `m_ofn.nMaxFile` nutné nastavit pomocí počtu znaků ve `m_ofn.lpstrFile`vyrovnávací paměti, na které je odkazováno . Pokud nastavíte maximální počet souborů, `n`které mají být `n * (_MAX_PATH + 1) + 1`vybrány , bude požadovaná velikost vyrovnávací paměti . První položka vrácená do vyrovnávací paměti je cesta ke složce, kde byly vybrány soubory. V dialogových oknech systému Windows Vista nebo novějším stylu jsou řetězce názvů adresářů a souborů ukončeny hodnotou null s extra nulovým znakem za názvem posledního souboru. Tento formát umožňuje dialogovým oknům ve stylu průzkumníka vrátit dlouhé názvy souborů, které obsahují mezery. U starých dialogových oken jsou řetězce adresářů a názvů souborů odděleny mezerami a funkce používá krátké názvy souborů pro názvy souborů s mezerami.

Následující příklad ukazuje, jak pomocí vyrovnávací paměti načíst a seznam více názvů souborů.

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Chcete-li změnit velikost vyrovnávací paměti v odpovědi na to, že `CFileDialog` uživatel vybere více názvů souborů, musíte odvodit novou třídu z metody [CFileDialog::OnFileNameChange](#onfilenamechange) a přepsat ji.

Pokud odvodíte `CFileDialog`novou třídu z aplikace , můžete ke zpracování všech zpráv použít mapu zpráv. Chcete-li rozšířit výchozí zpracování zpráv, odvodit třídu z `CFileDialog`, přidat mapu zpráv do nové třídy a poskytnout členské funkce pro nové zprávy. Není třeba zadat funkci zavěšení k přizpůsobení dialogového okna.

Chcete-li dialogové okno přizpůsobit, `CFileDialog`odvoděte třídu z aplikace , zadejte vlastní šablonu dialogového okna a přidejte mapu zpráv pro zpracování zpráv s oznámením z rozšířených ovládacích prvků. Předají všechny nezpracované zprávy do základní třídy. Není třeba přizpůsobit funkci háku.

Používáte-li systém Windows Vista nebo `CFileDialog`novější styl aplikace , nelze použít mapy zpráv a šablony dialogových oken. Místo toho je nutné použít rozhraní COM pro podobné funkce.

Další informace o použití `CFileDialog`naleznete v [tématu Common Dialog Classes](../../mfc/common-dialog-classes.md).

## <a name="inheritance-hierarchy"></a>Hierarchie dědičnosti

[CObjekt](../../mfc/reference/cobject-class.md)

[CCmdCíl](../../mfc/reference/ccmdtarget-class.md)

[Cwnd](../../mfc/reference/cwnd-class.md)

[Cdialog](../../mfc/reference/cdialog-class.md)

[CCommonDialog](../../mfc/reference/ccommondialog-class.md)

`CFileDialog`

## <a name="requirements"></a>Požadavky

**Záhlaví:** afxdlgs.h

## <a name="cfiledialogaddcheckbutton"></a><a name="addcheckbutton"></a>CFileDialog::AddCheckButton

Přidá do dialogového okna tlačítko kontroly.

```
HRESULT AddCheckButton(
    DWORD dwIDCtl,
    const CString& strLabel,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID tlačítka zaškrtnutí, které chcete přidat.

*strLabel*<br/>
Název kontrolního tlačítka.

*bZaškrtnuto*<br/>
Logická hodnota označující aktuální stav tlačítka kontroly. PRAVDA, pokud je zaškrtnuto; FALSE jinak

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddcombobox"></a><a name="addcombobox"></a>CFileDialog::AddComboBox

Přidá do dialogového okna pole se seznamem.

```
HRESULT AddComboBox(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID pole se seznamem přidat.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddcontrolitem"></a><a name="addcontrolitem"></a>CFileDialog::AddControlItem

Přidá položku do ovládacího prvku kontejneru v dialogovém okně.

```
HRESULT AddControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru přidat položku.

*dwIDPoložka*<br/>
ID položky.

*strLabel*<br/>
Text položky.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddeditbox"></a><a name="addeditbox"></a>CFileDialog::AddEditBox

Přidá do dialogového okna dialogové pole.

```
HRESULT AddEditBox(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID textového pole, které chcete přidat.

*strText*<br/>
Název pole pro úpravy.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddmenu"></a><a name="addmenu"></a>CFileDialog::AddMenu

Přidá nabídku do dialogového okna.

```
HRESULT AddMenu(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID nabídky, kterou chcete přidat.

*strLabel*<br/>
Název nabídky.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddplace"></a><a name="addplace"></a>CFileDialog::Přidat místo

Přidá složku do seznamu míst, která má uživatel k dispozici k otevření nebo uložení položek.

```
void AddPlace(
    LPCWSTR lpszFolder,
    FDAP fdap = FDAP_TOP) throw();

void AddPlace(
    IShellItem* psi,
    FDAP fdap = FDAP_TOP) throw();
```

### <a name="parameters"></a>Parametry

*lpszSložka*<br/>
Cesta ke složce, která má být zpřístupněna uživateli. Může se jedná pouze o složku.

*fdap*<br/>
Určuje, kam je složka umístěna v seznamu.

*psi*<br/>
Ukazatel na položku IShellItem, která představuje složku, která má být zpřístupněna uživateli. Může se jedná pouze o složku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddpushbutton"></a><a name="addpushbutton"></a>CFileDialog::AddPushButton

Přidá do dialogu tlačítko.

```
HRESULT AddPushButton(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID tlačítka, které chcete přidat.

*strLabel*<br/>
Název tlačítka.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddradiobuttonlist"></a><a name="addradiobuttonlist"></a>CFileDialog::AddRadioButtonList

Přidá do dialogu skupinu přepínačů (označované také jako přepínací tlačítko).

```
HRESULT AddRadioButtonList(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID skupiny přepínačů, které chcete přidat.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddseparator"></a><a name="addseparator"></a>CFileDialog::Oddělovač přidání

Přidá do dialogu oddělovač.

```
HRESULT AddSeparator(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID oddělovače přidat.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogaddtext"></a><a name="addtext"></a>CFileDialog::AddText

Přidá do dialogu text.

```
HRESULT AddText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID textu, který chcete přidat.

*strText*<br/>
Textový název.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogapplyofntoshelldialog"></a><a name="applyofntoshelldialog"></a>CFileDialog::ApplyOFNToShellDialog

Aktualizuje aktuální stav [CFileDialog](../../mfc/reference/cfiledialog-class.md) na základě hodnot `m_ofn` uložených v datové struktuře.

```
void ApplyOFNToShellDialog();
```

### <a name="remarks"></a>Poznámky

Ve verzích systému Windows před systémem Windows Vista byla datová struktura `CFileDialog`člena [OPENFILENAME](/previous-versions/windows/embedded/ms911906\(v=msdn.10\)) průběžně synchronizována se stavem . Všechny změny proměnné [m_ofn](#m_ofn) člen se okamžitě projevily ve stavu dialogového okna. Všechny změny stavu dialogového okna také okamžitě `m_ofn` aktualizují proměnnou člena.

V systému Windows Vista nebo `m_ofn` novějším není `CFileDialog` zaručeno, že hodnoty v členské proměnné a stavu členské proměnné budou synchronizovány. Tato funkce vynutí `CFileDialog` stav aktualizovat tak, aby odpovídaly `m_ofn` struktury. Systém Windows volá tuto funkci automaticky během [CFileDialog::DoModal](#domodal).

Další informace o použití `CFileDialog` třídy v systému Windows Vista nebo novějším naleznete v [tématu CFileDialog Class](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Příklad

  Viz příklad [cfiledialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog).

## <a name="cfiledialogcfiledialog"></a><a name="cfiledialog"></a>CFileDialog::CFileDialog

Volánítéto funkce k vytvoření standardního dialogového okna soubor systému Windows.

```
explicit CFileDialog(
    BOOL bOpenFileDialog,
    LPCTSTR lpszDefExt = NULL,
    LPCTSTR lpszFileName = NULL,
    DWORD dwFlags = OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT,
    LPCTSTR lpszFilter = NULL,
    CWnd* pParentWnd = NULL,
    DWORD dwSize = 0,
    BOOL bVistaStyle = TRUE);
```

### <a name="parameters"></a>Parametry

*bOtevřítdialog*<br/>
[v] Parametr, který určuje, jaký typ dialogového okna chcete vytvořit. Nastavte ji na HODNOTU TRUE, aby se vytvořilo dialogové okno **Otevřít soubor.** Nastavte ji na HODNOTU NEPRAVDA, chcete-li vytvořit dialogové okno **Uložit jako soubor.**

*lpszDefExt*<br/>
[v] Výchozí přípona názvu souboru. Pokud uživatel nezahrne známou příponu (tu, která má přidružení v počítači uživatele) do pole Název souboru, bude k názvu souboru automaticky připojena přípona určená *lpszDefExt.* Pokud je tento parametr NULL, není připojeno žádné rozšíření.

*název souboru lpsz*<br/>
[v] Počáteční název souboru, který se zobrazí v poli Název souboru. Pokud null, nezobrazí se žádný název počátečního souboru.

*dwFlags*<br/>
[v] Kombinace jednoho nebo více příznaků, které můžete použít k přizpůsobení dialogového okna. Popis těchto příznaků naleznete v části [OpenFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) ve struktuře Windows SDK. Pokud změníte `m_ofn.Flags` člen struktury, použijte bitový operátor OR ve změnách, aby výchozí chování zůstalo beze změny.

*lpszFiltr*<br/>
[v] Řada párů řetězců, které určují filtry, které můžete použít na soubor. Pokud zadáte filtry souborů, zobrazí se v seznamu Soubory pouze soubory, které odpovídají kritériím filtru. Další informace o práci s filtry souborů naleznete v části Poznámky.

*pParentWnd*<br/>
[v] Ukazatel na nadřazené nebo vlastníjméno okna dialogového okna souboru.

*dwVelikost*<br/>
[v] Velikost `OPENFILENAME` struktury. Tato hodnota závisí na verzi operačního systému. Knihovna MFC použila tento parametr k určení vhodného druhu dialogového okna, které chcete vytvořit. Výchozí velikost 0 znamená, že kód knihovny MFC určí správnou velikost dialogového okna, která se má použít na základě verze operačního systému, na které je program spuštěn.

*bVistaStyle*<br/>
[v] **Poznámka:** Tento parametr je k dispozici v sadě Visual Studio 2008 a novější a způsobí, že dialogové okno nového stylu lze použít pouze v případě, že používáte systém Windows Vista nebo novější.

Parametr, který určuje styl dialogového okna souboru. Nastavte hodnotu TRUE, aby se používala nová dialogová okna souboru stylu Vista. V opačném případě bude použit starý styl dialogových oken. Další informace o spuštění v části Vista naleznete v části Poznámky.

### <a name="remarks"></a>Poznámky

V závislosti na hodnotě *bOpenFileDialog*je vytvořen dialogové okno **Otevřít soubor** nebo **Uložit jako** soubor.

Zadání výchozí přípony pomocí *lpszDefExt* nemusí způsobit chování, které očekáváte, protože je zřídka předvídatelné, jaké přípony mají přidružení souborů v počítači uživatele. Pokud potřebujete větší kontrolu nad připojením výchozí rozšíření, můžete odvodit vlastní třídy z `CFileDialog`aplikace a přepsat metodu `CFileDialog::OnFileNameOK` k provedení vlastní zpracování rozšíření.

Chcete-li uživateli povolit výběr více souborů, nastavte příznak OFN_ALLOWMULTISELECT před [voláním domodální](#domodal). Chcete-li uložit vrácený seznam více názvů souborů, je nutné zadat vlastní vyrovnávací paměť názvu souboru. To provést nahrazením `m_ofn.lpstrFile` ukazatelem vyrovnávací paměti, které jste přidělili, po vytvoření [CFileDialog](../../mfc/reference/cfiledialog-class.md), ale před voláním `DoModal`. Kromě toho je `m_ofn.nMaxFile` nutné nastavit s počtem znaků ve `m_ofn.lpstrFile`vyrovnávací paměti, na které je odkazováno . Pokud nastavíte maximální počet souborů, *n*které mají být `n`vybrány na n , potřebná velikost vyrovnávací paměti je *(_MAX_PATH + 1) + 1. Příklad:

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Chcete-li uživateli povolit změnit velikost dialogového okna ve stylu průzkumníka pomocí myši nebo klávesnice, nastavte příznak OFN_ENABLESIZING. Nastavení tohoto příznaku je nutné pouze v případě, že zadáte proceduru zavěšení nebo vlastní šablonu. Příznak funguje pouze s dialogovým oknem ve stylu průzkumníka; velikost dialogového okna starého stylu nelze změnit.

Parametr *lpszFilter* se používá k určení typu názvu souboru, který musí být soubor zobrazen v seznamu souborů. První řetězec v páru řetězců popisuje filtr; druhý řetězec označuje příponu názvu souboru, která má být použita. Více rozšíření může být zadáno pomocí středníku (znak ';' jako oddělovač. Řetězec končí dvěma znaky &#124;, následovaným znakem NULL. Pro tento parametr můžete také použít objekt [CString.](../../atl-mfc-shared/using-cstring.md)

Aplikace Microsoft Excel například umožňuje uživatelům mimo jiné otevírat soubory s příponami .xlc (graf) nebo XLS (list). Filtr pro aplikaci Excel může být napsán takto:

[!code-cpp[NVC_MFCFiles#24](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_2.cpp)]

Pokud však chcete použít tento řetězec `OPENFILENAME` k přímé aktualizaci struktury, měli byste vymezit řetězce nulovým znakem \0 namísto svislých pruhů (&#124;).

Parametr *bVistaStyle* je použitelný pouze v případě, že je spuštěn v systému Windows Vista nebo novějším. V dřívějších verzích systému Windows je tento parametr ignorován. Pokud je *hodnota bVistaStyle* nastavena na hodnotu TRUE, bude při kompilaci programu pomocí sady Visual Studio 2008 nebo novější použit nový dialog souborů ve stylu **systému** Vista. V opačném případě bude použit předchozí **dialog souborů** ve stylu knihovny MFC.

Šablony dialogů nejsou podporovány v dialogových oknech založených na *stylu bVistaStyle*

### <a name="example"></a>Příklad

  Viz příklad [cfiledialog::DoModal](#domodal).

## <a name="cfiledialogdomodal"></a><a name="domodal"></a>CFileDialog::DoModální

Voláním této funkce zobrazíte dialogové okno Společný soubor systému Windows a umožníte uživateli procházet soubory a adresáře a zadávat název souboru.

```
virtual INT_PTR DoModal();
```

### <a name="return-value"></a>Návratová hodnota

IDOK nebo IDCANCEL. Pokud je vrácena funkce IDCANCEL, zavolejte funkci Windows [CommDlgExtendedError](/windows/win32/api/commdlg/nf-commdlg-commdlgextendederror) a zjistěte, zda došlo k chybě.

IDOK a IDCANCEL jsou konstanty, které označují, zda uživatel zvolil tlačítko OK nebo Cancel.

### <a name="remarks"></a>Poznámky

Chcete-li inicializovat různé možnosti dialogového okna `m_ofn` souboru nastavením členů `DoModal`struktury, měli byste to provést před voláním , ale po vytvoření objektu dialogového okna.

Chcete-li například povolit uživateli vybrat více souborů, nastavte `DoModal`příznak OFN_ALLOWMULTISELECT před voláním , jak je znázorněno v příkladu kódu v tomto tématu.

Když uživatel klepne na tlačítko OK nebo Zrušit dialogové okno nebo vybere možnost Zavřít z ovládací nabídky dialogového okna, ovládací prvek se vrátí do vaší aplikace. Potom můžete volat další členské funkce a načíst nastavení nebo informace, které uživatel zadá do dialogového okna.

`DoModal`je virtuální funkce přepsána z třídy `CDialog`.

### <a name="example"></a>Příklad

[!code-cpp[NVC_MFCFiles#25](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_3.cpp)]

## <a name="cfiledialogenableopendropdown"></a><a name="enableopendropdown"></a>CFileDialog::Povolitopendropdown

Povolí rozevírací seznam na tlačítku Otevřít nebo Uložit v dialogovém okně.

```
HRESULT EnableOpenDropDown(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID rozevíracího seznamu.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogendvisualgroup"></a><a name="endvisualgroup"></a>CFileDialog::EndVisualGroup

Zastaví přidávání prvků do vizuální skupiny v dialogovém okně.

```
HRESULT EndVisualGroup();
```

### <a name="return-value"></a>Návratová hodnota

Vrátí S_OK v případě úspěchu. chybová hodnota jinak.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggetcheckbuttonstate"></a><a name="getcheckbuttonstate"></a>CFileDialog::GetCheckButtonState

Načte aktuální stav zaškrtávacího tlačítka (zaškrtávacího políčka) v dialogovém okně.

```
HRESULT GetCheckButtonState(
    DWORD dwIDCtl,
    BOOL& bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávacího políčka.

*bZaškrtnuto*<br/>
Stav zaškrtávacího políčka. TRUE označuje zaškrtnuto; FALSE označuje nezaškrtnuté.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggetcontrolitemstate"></a><a name="getcontrolitemstate"></a>CFileDialog::GetControlItemState

Načte aktuální stav položky v ovládacím prvku kontejneru nalezeném v dialogovém okně.

```
HRESULT GetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDPoložka*<br/>
ID položky.

*dwState*<br/>
Odkaz na proměnnou, která přijímá jednu z více hodnot z výčtu CDCONTROLSTATE, který označuje aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggetcontrolstate"></a><a name="getcontrolstate"></a>CFileDialog::GetControlState

Načte aktuální viditelnost a povolené stavy daného ovládacího prvku.

```
HRESULT GetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

*dwState*<br/>
Odkaz na proměnnou, která přijímá jednu nebo více hodnot z výčtu CDCONTROLSTATE, který označuje aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggeteditboxtext"></a><a name="geteditboxtext"></a>CFileDialog::GetEditBoxText

Načte aktuální text v ovládacím prvku textového pole.

```
HRESULT GetEditBoxText(
    DWORD dwIDCtl,
    CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID editačního pole.

*strText*<br/>
Hodnota textu.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggetfileext"></a><a name="getfileext"></a>CFileDialog::GetFileExt

Voláním této funkce načtěte příponu názvu souboru zadaného do dialogového okna.

```
CString GetFileExt() const;
```

### <a name="return-value"></a>Návratová hodnota

Přípona názvu souboru.

### <a name="remarks"></a>Poznámky

Pokud je například název zadaného souboru DATA. TXT, `GetFileExt` vrátí "TXT".

Pokud `m_ofn.Flags` má OFN_ALLOWMULTISELECT příznak nastaven, tento řetězec obsahuje posloupnost řetězců ukončených nulou, přičemž prvním řetězcem je vybraná cesta k adresáři skupiny souborů následovaná názvy všech souborů vybraných uživatelem. Chcete-li načíst názvy cest souborů, použijte členské funkce [GetStartPosition](#getstartposition) a [GetNextPathName.](#getnextpathname)

## <a name="cfiledialoggetfilename"></a><a name="getfilename"></a>CFileDialog::GetFileName

Voláním této funkce načtěte název názvu souboru zadaný v dialogovém okně.

```
CString GetFileName() const;
```

### <a name="return-value"></a>Návratová hodnota

Název souboru.

### <a name="remarks"></a>Poznámky

Název souboru obsahuje předponu i příponu. Například `GetFileName` vrátí "TEXT. DAT" pro soubor C:\FILES\TEXT.DAT.

Pokud `m_ofn.Flags` má `OFN_ALLOWMULTISELECT` příznak nastaven, měli byste zavolat [GetStartPosition](#getstartposition) a [GetNextPathName](#getnextpathname) k načtení cesty k souboru.

## <a name="cfiledialoggetfiletitle"></a><a name="getfiletitle"></a>CFileDialog::GetFileTitle

Voláním této funkce načtěte název souboru zadaný v dialogovém okně.

```
CString GetFileTitle() const;
```

### <a name="return-value"></a>Návratová hodnota

Název souboru.

### <a name="remarks"></a>Poznámky

Název souboru obsahuje pouze jeho předponu bez cesty nebo přípony. Například `GetFileTitle` vrátí "TEXT" pro soubor C:\FILES\TEXT.DAT.

Pokud `m_ofn.Flags` má OFN_ALLOWMULTISELECT příznak nastaven, tento řetězec obsahuje posloupnost řetězců ukončených nulou, přičemž prvním řetězcem je vybraná cesta k adresáři skupiny souborů následovaná názvy všech souborů vybraných uživatelem. Z tohoto důvodu použijte [getstartposition](#getstartposition) a [GetNextPathName](#getnextpathname) členské funkce načíst další název souboru v seznamu.

### <a name="example"></a>Příklad

  Viz příklad [cfiledialog::DoModal](#domodal).

## <a name="cfiledialoggetfolderpath"></a><a name="getfolderpath"></a>CFileDialog::GetFolderPath

Voláním této členské funkce načtěte cestu k aktuálně otevřené složce nebo adresáři pro společné dialogové okno Otevřít nebo Uložit jako v průzkumníku.

```
CString GetFolderPath() const;
```

### <a name="return-value"></a>Návratová hodnota

[CString](../../atl-mfc-shared/reference/cstringt-class.md) objekt obsahující aktuálně otevřenou složku nebo adresář.

### <a name="remarks"></a>Poznámky

Dialogové okno musí být vytvořeno se stylem OFN_EXPLORER; v opačném případě se metoda nezdaří s kontrolním výrazem.

Tuto metodu můžete volat pouze v případě, že se zobrazí dialogové okno. Po zavření dialogového okna tato funkce již nebude fungovat a metoda se nezdaří s kontrolním výrazem.

## <a name="cfiledialoggetifiledialogcustomize"></a><a name="getifiledialogcustomize"></a>cfiledialog::getifiledialogCustomize

Načte ukazatel na interní objekt COM pro daný [cfiledialog](../../mfc/reference/cfiledialog-class.md).

```
IFileDialogCustomize* GetIFileDialogCustomize();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt COM `CFileDialog`pro . Je vaší odpovědností uvolnit tento ukazatel odpovídajícím způsobem.

### <a name="remarks"></a>Poznámky

Tuto funkci používejte pouze v systému Windows Vista nebo novějším s objektem, který má *hodnotu bVistaStyle* nastavenou na hodnotu TRUE. Pokud použijete tuto funkci, když *je bVistaStyle* FALSE, vrátí hodnotu NULL v režimu vydání a vyvolá kontrolní výraz v režimu ladění.

Další informace o `IFileDialogCustomize` rozhraní naleznete v tématu [IFileDialogCustomize](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt COM. Chcete-li spustit tento příklad kódu, je nutné jej zkompilovat v systému Windows Vista nebo novějším.

[!code-cpp[NVC_MFC_CFileDialog#4](../../mfc/reference/codesnippet/cpp/cfiledialog-class_4.cpp)]

## <a name="cfiledialoggetifileopendialog"></a><a name="getifileopendialog"></a>CFileDialog::getifileopendialog

Načte ukazatel na vnitřní objekt COM `CFileDialog`pro daný .

```
IFileOpenDialog* GetIFileOpenDialog();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt COM `CFileDialog`pro . Je vaší odpovědností uvolnit tento ukazatel odpovídajícím způsobem.

### <a name="remarks"></a>Poznámky

Tuto funkci používejte pouze v systému Windows Vista nebo novějším s objektem, který má *hodnotu bVistaStyle* nastavenou na hodnotu TRUE. Tato funkce vrátí `CFileDialog` hodnotu NULL, pokud se nejedná o dialogové okno **Otevřít** nebo pokud je *hodnota bVistaStyle* nastavena na hodnotu NEPRAVDA. V tomto posledním případě funkce vrátí pouze NULL v režimu vydání - v režimu ladění vyvolá kontrolní výraz.

Další informace o `IFileOpenDialog` rozhraní naleznete v tématu [IFileOpenDialog](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifileopendialog).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt COM. Chcete-li spustit tento kód, je nutné jej zkompilovat v systému Windows Vista nebo novějším.

[!code-cpp[NVC_MFC_CFileDialog#2](../../mfc/reference/codesnippet/cpp/cfiledialog-class_5.cpp)]

## <a name="cfiledialoggetifilesavedialog"></a><a name="getifilesavedialog"></a>cfiledialog::getifilesavedialog

Načte ukazatel na vnitřní objekt COM `CFileDialog`pro daný .

```
IFileSaveDialog* GetIFileSaveDialog();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na vnitřní objekt COM `CFileDialog`pro . Je vaší odpovědností uvolnit tento ukazatel odpovídajícím způsobem.

### <a name="remarks"></a>Poznámky

Tuto funkci používejte pouze v systému Windows Vista nebo novějším s objektem, který má *hodnotu bVistaStyle* nastavenou na hodnotu TRUE. Tato funkce vrátí hodnotu NULL, `CFileDialog` pokud se nejedná o dialogové okno **Uložit** nebo pokud je hodnota *bVistaStyle* nastavena na hodnotu NEPRAVDA. V tomto posledním případě funkce vrátí pouze NULL v režimu vydání - v režimu ladění vyvolá kontrolní výraz.

Další informace o `IFileSaveDialog` rozhraní naleznete v tématu [IFileSaveDialog](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifilesavedialog).

### <a name="example"></a>Příklad

Tento příklad načte vnitřní objekt COM. Chcete-li spustit tento příklad kódu, je nutné jej zkompilovat v systému Windows Vista nebo novějším.

[!code-cpp[NVC_MFC_CFileDialog#3](../../mfc/reference/codesnippet/cpp/cfiledialog-class_6.cpp)]

## <a name="cfiledialoggetnextpathname"></a><a name="getnextpathname"></a>CFileDialog::GetNextPathName

Voláním této funkce načtěte další název souboru ze skupiny vybrané v dialogovém okně.

```
CString GetNextPathName(POSITION& pos) const;
```

### <a name="parameters"></a>Parametry

*Pos*<br/>
Odkaz na hodnotu POSITION vrácenou předchozím `GetNextPathName` voláním nebo `GetStartPosition` voláním funkce. Null, pokud bylo dosaženo konce seznamu.

### <a name="return-value"></a>Návratová hodnota

Úplná cesta k souboru.

### <a name="remarks"></a>Poznámky

Cesta názvu souboru obsahuje název souboru plus celou cestu k adresáři. Například `GetNextPathName` vrátí "C:\FILES\TEXT. DAT" pro soubor C:\FILES\TEXT.DAT. Můžete použít `GetNextPathName` ve smyčce iterace vpřed, pokud `GetStartPosition`navážete počáteční pozici s voláním .

Pokud se výběr skládá pouze z jednoho souboru, bude tento název souboru vrácen.

## <a name="cfiledialoggetofn"></a><a name="getofn"></a>CFileDialog::GetOFN

Načte přidružené `OPENFILENAME` struktury.

```
const OPENFILENAME& GetOFN() const;

OPENFILENAME& GetOFN();
```

### <a name="return-value"></a>Návratová hodnota

[OpenFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) struktury.

### <a name="remarks"></a>Poznámky

Druhou verzí této funkce můžete inicializovat vzhled dialogového okna **Otevřít soubor** nebo **Uložit jako** soubor po `DoModal` jeho vytvoření, ale před jeho zobrazením pomocí členské funkce. Můžete například nastavit `lpstrTitle` člen `m_ofn` na titulek, který má dialogové okno mít.

## <a name="cfiledialoggetpathname"></a><a name="getpathname"></a>CFileDialog::GetPathName

Voláním této funkce načtěte úplnou cestu k souboru zadanému v dialogovém okně.

```
CString GetPathName() const;
```

### <a name="return-value"></a>Návratová hodnota

Úplná cesta k souboru.

### <a name="remarks"></a>Poznámky

Cesta názvu souboru obsahuje název souboru plus celou cestu k adresáři. Například `GetPathName` vrátí "C:\FILES\TEXT. DAT" pro soubor C:\FILES\TEXT.DAT.

Pokud `m_ofn.Flags` má OFN_ALLOWMULTISELECT příznak nastavit, tento řetězec obsahuje posloupnost řetězce null-teminated, přičemž první řetězec je cesta k adresáři skupiny souborů vybrané, následovaný názvy všech souborů vybraných uživatelem. Z tohoto důvodu použijte [getstartposition](#getstartposition) a [GetNextPathName](#getnextpathname) členské funkce načíst další název souboru v seznamu.

### <a name="example"></a>Příklad

  Viz příklad [cfiledialog::DoModal](#domodal).

## <a name="cfiledialoggetreadonlypref"></a><a name="getreadonlypref"></a>CFileDialog::GetReadOnlyPref

Voláním této funkce určete, zda bylo zaškrtnuto políčko Jen pro čtení v dialogových oknech Standardní soubor otevřený soubor systému Windows a Uložit jako soubor.

```
BOOL GetReadOnlyPref() const;
```

### <a name="return-value"></a>Návratová hodnota

Nenulová, pokud je v dialogovém okně zaškrtnuto políčko Jen pro čtení; jinak 0.

### <a name="remarks"></a>Poznámky

Zaškrtávací políčko Jen pro čtení `CFileDialog` můžete skrýt nastavením OFN_HIDEREADONLY stylu v konstruktoru.

> [!NOTE]
> Objekty stylu `CFileDialog` systému Windows Vista nebo novějšího stylu tuto funkci nepodporují. Při pokusu o použití této funkce `CFileDialog` v systému Windows Vista nebo novějším stylu dojde k vyvolání [výjimky CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

## <a name="cfiledialoggetresult"></a><a name="getresult"></a>CFileDialog::GetResult

Načte volbu, kterou uživatel provedl v dialogovém okně.

```
IShellItem* GetResult() throw();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na položku IShellItem, která představuje volbu uživatele.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggetresults"></a><a name="getresults"></a>CFileDialog::Výsledky

Načte volby uživatele v dialogovém okně, které umožňuje více výběrů.

```
IShellItemArray* GetResults() throw();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na pole IShellItemArray, jehož prostřednictvím lze přistupovat k položkám vybraným v dialogovém okně.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggetselectedcontrolitem"></a><a name="getselectedcontrolitem"></a>CFileDialog::GetSelectedControlItem

Načte určitou položku ze zadaného ovládacího prvku kontejneru v dialogovém okně.

```
HRESULT GetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD& dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDPoložka*<br/>
ID položky, kterou uživatel vybral v ovládacím prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialoggetstartposition"></a><a name="getstartposition"></a>CFileDialog::GetStartPosition

Volání této členské funkce načíst pozici prvního názvu cesty `m_ofn.Flags` souboru v seznamu, pokud má nastaven příznak OFN_ALLOWMULTISELECT.

```
POSITION GetStartPosition() const;
```

### <a name="return-value"></a>Návratová hodnota

Hodnota POSITION, kterou lze použít pro iteraci; Null, pokud je seznam prázdný.

## <a name="cfiledialoghidecontrol"></a><a name="hidecontrol"></a>CFileDialog::HideControl

Voláním této členské funkce skryjte zadaný ovládací prvek v dialogovém okně Otevřít nebo Uložit jako běžné.

```
void HideControl(int nID);
```

### <a name="parameters"></a>Parametry

*Nid*<br/>
ID ovládacího prvku skrýt.

### <a name="remarks"></a>Poznámky

Dialogové okno musí být vytvořeno se stylem OFN_EXPLORER; v opačném případě funkce se nezdaří s kontrolním výrazem.

## <a name="cfiledialogispickfoldersmode"></a><a name="ispickfoldersmode"></a>CFileDialog::ispickFoldersMode

Určuje, zda je aktuální dialog v režimu výběru složek.

```
BOOL IsPickFoldersMode() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud je dialogové okno v režimu výběru složek; jinak FALSE.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogm_ofn"></a><a name="m_ofn"></a>CFileDialog::m_ofn

`m_ofn`je struktura typu `OPENFILENAME`. Data v této struktuře představuje `CFileDialog`aktuální stav .

### <a name="remarks"></a>Poznámky

Pomocí této struktury můžete inicializovat vzhled dialogového okna **Otevřít soubor** nebo **Uložit jako** soubor po jeho vytvoření, ale před jeho zobrazením metodou [DoModal.](#domodal) Můžete například nastavit člena *lpstrTitle* `m_ofn` na titulek, který chcete mít v dialogovém okně.

U systému Windows Vista nebo novějšího stylu [CFileDialog](../../mfc/reference/cfiledialog-class.md)není zaručeno, `m_ofn` že vždy odpovídá stavu dialogového okna. Je synchronizován s dialogovým oknem v dřívějších verzích systému Windows. Další informace o synchronizaci `m_ofn` struktury a `CFileDialog` stavu v systému Windows Vista nebo novějším naleznete v tématu [CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog) and [CFileDialog::UpdateOFNFromShellDialog.](#updateofnfromshelldialog)

Dialogová okna souborů se systémem Windows Vista nebo `CFileDialog`novějším stylem nepodporují určité členy a příznaky souboru . V důsledku toho nebudou mít žádný účinek.

Následuje seznam členů, které nejsou podporovány systémem Windows Vista nebo novějším:

- `lpstrCustomFilter`

- `lpstrInitialDir`

- `lCustData`

- `lpfnHook`

- `lpTemplateName`

Následující příznaky nejsou podporovány, a proto nemají žádný vliv při `CFileDialog`použití systému Windows Vista nebo novější styl :

- OFN_ENABLEHOOK

- OFN_ENABLEINCLUDENOTIFY

- OFN_ENABLETEMPLATE

- OFN_ENABLETEMPLATEHANDLE

- OFN_EXPLORER

- OFN_EXTENSIONDIFFERENT

- OFN_HIDEREADONLY

- OFN_LONGNAMES – v systému Windows Vista nebo novějším vždy zapnuto

- OFN_NOLONGNAMES – v systému Windows Vista nebo novějším vždy vypnuto

- OFN_NONETWORKBUTTON – v systému Windows Vista nebo novějším vždy zapnuto

- OFN_READONLY

- OFN_SHOWHELP

Další informace o této struktuře naleznete [openfilename](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) struktury v sadě Windows SDK.

## <a name="cfiledialogmakeprominent"></a><a name="makeprominent"></a>CFileDialog::MakeProminent

Umístí ovládací prvek do dialogového okna tak, aby vyčnívá ve srovnání s jinými ovládacími prvky.

```
HRESULT MakeProminent(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogonbuttonclicked"></a><a name="onbuttonclicked"></a>CFileDialog::OnButtonClicked

Volána po klepnutí na tlačítko.

```
virtual void OnButtonClicked(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID tlačítka.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogoncheckbuttontoggled"></a><a name="oncheckbuttontoggled"></a>CFileDialog::OnCheckButtonToggled

Volána, když je zaškrtnuto nebo nezaškrtnuto políčko.

```
virtual void OnCheckButtonToggled(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávacího políčka.

*bZaškrtnuto*<br/>
Zaškrtnuto nebo nezaškrtnuto.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogoncontrolactivating"></a><a name="oncontrolactivating"></a>CFileDialog::OnControlAktivace

Volána při aktivaci ovládacího prvku.

```
virtual void OnControlActivating(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogonfilenamechange"></a><a name="onfilenamechange"></a>cfiledialog::OnFileNameChange

Přepsat tuto metodu, pokud chcete zpracovat zprávu CDN_SELCHANGE WM_NOTIFY.

```
virtual void OnFileNameChange();
```

### <a name="remarks"></a>Poznámky

Systém odešle zprávu CDN_SELCHANGE, když uživatel vybere nový soubor nebo složku v seznamu souborů dialogového okna **Otevřít** nebo **Uložit jako.** Přepište tuto metodu, pokud chcete provést všechny akce v reakci na tuto zprávu.

Systém odešle tuto zprávu pouze v případě, že dialogové okno bylo vytvořeno se zapnutým příznakem OFN_EXPLORER. Další informace o oznámení naleznete v [tématu CDN_SELCHANGE](/windows/win32/dlgbox/cdn-selchange). Informace o příznaku OFN_EXPLORER naleznete v tématech Struktura [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) [a Dialogová okna Otevřít a Uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

## <a name="cfiledialogonfilenameok"></a><a name="onfilenameok"></a>CFileDialog::OnFileNameOK

Tuto funkci přepište pouze v případě, že chcete zadat vlastní ověření názvů souborů, které jsou zadány do společného dialogového okna souboru.

```
virtual BOOL OnFileNameOK();
```

### <a name="return-value"></a>Návratová hodnota

1 pokud název souboru není platný název souboru; jinak 0.

### <a name="remarks"></a>Poznámky

Tato funkce umožňuje odmítnout název souboru z jakéhokoli důvodu specifického pro aplikaci. Za normálních okolností není nutné používat tuto funkci, protože rozhraní framework poskytuje výchozí ověření názvů souborů a zobrazí okno se zprávou, pokud je zadán neplatný název souboru.

Pokud je vrácena 1, dialogové okno zůstane zobrazeno pro uživatele zadat jiný název souboru. Dialogový postup zavře dialogové okno, pokud je návrat 0. Jiné nenulové vrácené hodnoty jsou aktuálně rezervovány a neměly by být používány.

## <a name="cfiledialogonfolderchange"></a><a name="onfolderchange"></a>cfiledialog::onFolderChange

Přepsat tuto funkci pro zpracování WM_NOTIFYCDN_FOLDERCHANGE zprávy.

```
virtual void OnFolderChange();
```

### <a name="remarks"></a>Poznámky

Zpráva s oznámením je odeslána při otevření nové složky v dialogovém okně Otevřít nebo Uložit jako.

Oznámení je odesláno pouze v případě, že dialogové okno bylo vytvořeno s OFN_EXPLORER stylu. Další informace o oznámení naleznete v [tématu CDN_FOLDERCHANGE](/windows/win32/dlgbox/cdn-folderchange). Informace o stylu OFN_EXPLORER naleznete v tématech Struktura [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) a [Dialogová okna Otevřít a Uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

## <a name="cfiledialogoninitdone"></a><a name="oninitdone"></a>CFileDialog::OnInitDone

Přepsat tuto funkci pro zpracování zprávy WM_NOTIFY CDN_INITDONE.

```
virtual void OnInitDone();
```

### <a name="remarks"></a>Poznámky

Systém odešle tuto zprávu s oznámením po dokončení uspořádání ovládacích prvků v dialogovém okně **Otevřít** nebo **Uložit jako,** aby se uvolnilo místo pro ovládací prvky podřízeného dialogového okna.

Systém to odešle pouze v případě, že dialogové okno bylo vytvořeno s OFN_EXPLORER stylem. Další informace o oznámení naleznete v [tématu CDN_INITDONE](/windows/win32/dlgbox/cdn-initdone). Informace o stylu OFN_EXPLORER naleznete v tématech Struktura [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) a [Dialogová okna Otevřít a Uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

> [!NOTE]
> Dialogová okna souborů se systémem Windows Vista nebo novějším stylem tuto funkci nepodporují. Při pokusu o použití této funkce v dialogovém okně souboru se systémem Windows Vista nebo novějším stylem vyvoláte [výjimku CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

## <a name="cfiledialogonitemselected"></a><a name="onitemselected"></a>CFileDialog::OnItemSelected

Volána při výběru položky kontejneru.

```
virtual void OnItemSelected(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDPoložka*<br/>
ID položky.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogonlbselchangednotify"></a><a name="onlbselchangednotify"></a>CFileDialog::OnLBSelChangedNotify

Tato funkce je volána vždy, když se aktuální výběr v seznamu chystá změnit.

```
virtual void OnLBSelChangedNotify(
    UINT nIDBox,
    UINT iCurSel,
    UINT nCode);
```

### <a name="parameters"></a>Parametry

*nIDBox*<br/>
ID seznamu nebo pole se seznamem, ve kterém došlo k výběru.

*iCurSel*<br/>
Index aktuálního výběru.

*nKód*<br/>
Kód oznámení ovládacího prvku. Tento parametr musí mít jednu z následujících hodnot:

- CD_LBSELCHANGE *Určuje, že iCurSel* je vybraná položka v seznamu s jedním výběrem.

- CD_LBSELSUB Určuje, že *iCurSel* již není vybrán v seznamu s více násobným výběrem.

- CD_LBSELADD Určuje, že *iCurSel* je vybrán v seznamu s více násobným výběrem.

- CD_LBSELNOITEMS Určuje, že v seznamu s více násobným výběrem neexistuje žádný výběr.

### <a name="remarks"></a>Poznámky

Přepište tuto funkci a poskytněte vlastní zpracování změn výběru v seznamu. Pomocí této funkce můžete například zobrazit přístupová práva nebo datum poslední změny každého souboru, který uživatel vybere.

## <a name="cfiledialogonshareviolation"></a><a name="onshareviolation"></a>cfiledialog::onshareviolation

Přepsat tuto funkci poskytnout vlastní zpracování narušení sdílení.

```
virtual UINT OnShareViolation(LPCTSTR lpszPathName);
```

### <a name="parameters"></a>Parametry

*lpszPathName*<br/>
Cesta k souboru, na kterém došlo k narušení sdílené složky.

### <a name="return-value"></a>Návratová hodnota

Jedna z následujících hodnot:

- OFN_SHAREFALLTHROUGH Název souboru je vrácen z dialogového okna.

- OFN_SHARENOWARN Není třeba podnikat žádné další kroky.

- OFN_SHAREWARN Uživatel obdrží standardní varovnou zprávu pro tuto chybu.

### <a name="remarks"></a>Poznámky

Za normálních okolností není nutné používat tuto funkci, protože rozhraní framework poskytuje výchozí kontrolu narušení sdílení a zobrazí okno se zprávou, pokud dojde k narušení sdílení.

Chcete-li zakázat kontrolu narušení sdílení, použijte bitový operátor OR `m_ofn.Flags`ke zkombinování příznaku OFN_SHAREAWARE s .

## <a name="cfiledialogontypechange"></a><a name="ontypechange"></a>cfiledialog::ontypechange

Přepsat tuto funkci pro zpracování zprávy WM_NOTIFYCDN_TYPECHANGE.

```
virtual void OnTypeChange();
```

### <a name="remarks"></a>Poznámky

Zpráva s oznámením je odeslána, když uživatel vybere nový typ souboru ze seznamu typů souborů v dialogovém okně Otevřít nebo Uložit jako.

Oznámení je odesláno pouze v případě, že dialogové okno bylo vytvořeno s OFN_EXPLORER stylu. Další informace o oznámení naleznete v [tématu CDN_TYPECHANGE](/windows/win32/dlgbox/cdn-typechange). Informace o stylu OFN_EXPLORER naleznete v tématech Struktura [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) a [Dialogová okna Otevřít a Uložit jako](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

## <a name="cfiledialogremovecontrolitem"></a><a name="removecontrolitem"></a>CFileDialog::RemoveControlItem

Odebere položku z ovládacího prvku kontejneru v dialogovém okně.

```
HRESULT RemoveControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru odebrat položku z.

*dwIDPoložka*<br/>
ID položky.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetcheckbuttonstate"></a><a name="setcheckbuttonstate"></a>CFileDialog::SetCheckButtonState

Nastaví aktuální stav zaškrtávacího tlačítka (zaškrtávacího políčka) v dialogovém okně.

```
HRESULT SetCheckButtonState(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID zaškrtávacího políčka.

*bZaškrtnuto*<br/>
Stav zaškrtávacího políčka. TRUE označuje zaškrtnuto; NEPRAVDA označuje Nezaškrtnuté.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetcontrolitemstate"></a><a name="setcontrolitemstate"></a>CFileDialog::SetControlItemState

Nastaví aktuální stav položky v ovládacím prvku kontejneru nalezeném v dialogovém okně.

```
HRESULT SetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDPoložka*<br/>
ID položky.

*dwState*<br/>
Jedna nebo více hodnot z výčtu CDCONTROLSTATE, které označují nový stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetcontrolitemtext"></a><a name="setcontrolitemtext"></a>CFileDialog::SetControlItemText

Nastaví text ovládací položky. Například text, který doprovází přepínací tlačítko nebo položku v nabídce.

```
HRESULT SetControlItemText(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDPoložka*<br/>
ID položky.

*strLabel*<br/>
Text položky.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetcontrollabel"></a><a name="setcontrollabel"></a>CFileDialog::SetControlLabel

Nastaví text přidružený k ovládacímu prvku, například text tlačítka nebo popisek textového pole.

```
HRESULT SetControlLabel(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

*strLabel*<br/>
Název ovládacího prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetcontrolstate"></a><a name="setcontrolstate"></a>CFileDialog::SetControlState

Nastaví aktuální viditelnost a povolené stavy daného ovládacího prvku.

```
HRESULT SetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku.

*dwState*<br/>
Jedna nebo více hodnot z výčtu CDCONTROLSTATE, které označují aktuální stav ovládacího prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetcontroltext"></a><a name="setcontroltext"></a>CFileDialog::SetControlText

Voláním této metody nastavte text pro zadaný ovládací prvek v dialogovém okně **Otevřít** nebo **Uložit jako** ve stylu průzkumníka.

```
void SetControlText(
    int nID,
    LPCSTR lpsz);

void SetControlText(
    int nID,
    const wchar_t *lpsz);
```

### <a name="parameters"></a>Parametry

*Nid*<br/>
[v] ID ovládacího prvku, pro který chcete nastavit text.

*lpsz*<br/>
[v] Ukazatel na řetězec, který obsahuje text, který má být nastaven pro ovládací prvek.

### <a name="remarks"></a>Poznámky

Obě verze této funkce jsou platné pro aplikace, které používají Unicode. Pouze verze s typem LPCSTR je však platná pro aplikace, které používají ANSI.

Chcete-li použít tuto metodu, musíte vytvořit dialogové okno s OFN_EXPLORER stylem. V opačném případě funkce se nezdaří s kontrolním výrazem.

## <a name="cfiledialogsetdefext"></a><a name="setdefext"></a>CFileDialog::SetDefExt

Voláním této funkce nastavte výchozí příponu názvu souboru pro společné dialogové okno Otevřít nebo Uložit jako v průzkumníku.

```
void SetDefExt(LPCSTR lpsz);
```

### <a name="parameters"></a>Parametry

*lpsz*<br/>
Ukazatel na řetězec obsahující výchozí příponu, který se má použít pro objekt dialogového okna. Tento řetězec nesmí obsahovat tečku (.).

### <a name="remarks"></a>Poznámky

Dialogové okno musí být vytvořeno se stylem OFN_EXPLORER; v opačném případě funkce se nezdaří s kontrolním výrazem.

## <a name="cfiledialogseteditboxtext"></a><a name="seteditboxtext"></a>CFileDialog::SetEditBoxText

Nastaví aktuální text v ovládacím prvku textového pole.

```
HRESULT SetEditBoxText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID editačního pole.

*strText*<br/>
Hodnota textu.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetproperties"></a><a name="setproperties"></a>CFileDialog::SetProperties

Poskytuje úložiště vlastností, které definuje výchozí hodnoty, které mají být použity pro uloženou položku.

```
BOOL SetProperties(LPCWSTR lpszPropList);
```

### <a name="parameters"></a>Parametry

*lpszPropList*<br/>
Seznam předdefinovaných vlastností oddělených ";". Seznam příznaků naleznete v části **Příznaky** [openfilename](/windows/win32/api/commdlg/ns-commdlg-openfilenamew).

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsetselectedcontrolitem"></a><a name="setselectedcontrolitem"></a>CFileDialog::SetSelectedControlItem

Nastaví vybraný stav určité položky ve skupině přepínačů nebo v poli se seznamem, které se nachází v dialogovém okně.

```
HRESULT SetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID ovládacího prvku kontejneru.

*dwIDPoložka*<br/>
ID položky, kterou uživatel vybral v ovládacím prvku.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogsettemplate"></a><a name="settemplate"></a>CFileDialog::SetTemplate

Nastaví šablonu dialogového okna pro objekt [CFileDialog.](../../mfc/reference/cfiledialog-class.md)

```
void SetTemplate(
    UINT nWin3ID,
    UINT nWin4ID);

void SetTemplate(
    LPCTSTR lpWin3ID,
    LPCTSTR lpWin4ID);
```

### <a name="parameters"></a>Parametry

*nWin3ID*<br/>
[v] Obsahuje id prostředku šablony pro objekt bez `CFileDialog` průzkumníka. Tato šablona se používá pouze v systému Windows NT 3.51 nebo v případě, že OFN_EXPLORER styl není k dispozici.

*nWin4ID*<br/>
[v] Obsahuje id prostředku šablony pro objekt `CFileDialog` Průzkumníka. Tato šablona se používá pouze v systému Windows NT 4.0 a novějších verzích, Windows 95 a novějších verzích nebo v případě, že je k dispozici OFN_EXPLORER styl.

*lpWin3ID*<br/>
[v] Obsahuje název prostředku šablony pro objekt `CFileDialog` bez průzkumníka. Tato šablona se používá pouze v systému Windows NT 3.51 nebo v případě, že OFN_EXPLORER styl není k dispozici.

*lpWin4ID*<br/>
[v] Obsahuje název prostředku šablony objektu `CFileDialog` Explorer. Tato šablona se používá pouze v systému Windows NT 4.0 a novějších verzích, Windows 95 a novějších verzích nebo v případě, že je k dispozici OFN_EXPLORER styl.

### <a name="remarks"></a>Poznámky

Systém bude používat pouze jednu ze zadaných šablon. Systém určuje, která šablona se má použít na základě přítomnosti stylu OFN_EXPLORER a operačního systému, ve kterém je aplikace spuštěna. Zadáním šablony bez průzkumníka a šablony ve stylu průzkumníka je snadné podporovat verze systému Windows NT 3.51, Windows NT 4.0 a novější ch od Windows NT 4.0 a Windows 95 a novějších verzí.

> [!NOTE]
> Dialogová okna souborů se systémem Windows Vista nebo novějším stylem tuto funkci nepodporují. Při pokusu o použití této funkce v dialogovém okně souboru se systémem Windows Vista nebo novějším stylem vyvoláte [výjimku CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md). Alternativou je použití přizpůsobeného dialogového okna. Další informace o použití `CFileDialog`vlastního objektu naleznete v tématu [IFileDialogCustomize](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

## <a name="cfiledialogstartvisualgroup"></a><a name="startvisualgroup"></a>CFileDialog::StartVisualGroup

Deklaruje vizuální skupinu v dialogovém okně. Následná volání jakékoli metody "add" přidávají tyto prvky do této skupiny.

```
HRESULT StartVisualGroup(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
ID vizuální skupiny.

*strLabel*<br/>
Název skupiny.

### <a name="remarks"></a>Poznámky

## <a name="cfiledialogupdateofnfromshelldialog"></a><a name="updateofnfromshelldialog"></a>CFileDialog::UpdateOFNFromShellDialog

Aktualizuje `m_ofn` datovou strukturu [CFileDialog](../../mfc/reference/cfiledialog-class.md) na základě aktuálního stavu vnitřního objektu.

```
void UpdateOFNFromShellDialog();
```

### <a name="remarks"></a>Poznámky

Ve verzích systému Windows před systémem Windows Vista byla datová struktura `CFileDialog`člena [OPENFILENAME](/previous-versions/windows/embedded/ms911906\(v=msdn.10\)) průběžně synchronizována se stavem . Všechny změny [proměnné m_ofn](#m_ofn) členy přímo ovlivnily stav dialogového okna. Všechny změny stavu dialogového okna také okamžitě aktualizovaly proměnnou m_ofn člena.

V systému Windows `m_ofn` Vista nebo novějším není datová struktura automaticky aktualizována. Chcete-li zaručit přesnost dat `m_ofn` v členské proměnné, `UpdateOFNFromShellDialog` měli byste volat funkci před přístupem k datům. Systém Windows volá tuto funkci automaticky během zpracování [iFileDialog::OnFileOK](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ifiledialogevents-onfileok).

Další informace o použití `CFileDialog` třídy v systému Windows Vista nebo novějším naleznete v [tématu CFileDialog Class](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Příklad

Tento příklad `CFileDialog` aktualizuje před jeho zobrazením. Před aktualizací `m_ofn` členské proměnné ji musíme synchronizovat s aktuálním stavem dialogového okna.

[!code-cpp[NVC_MFC_CFileDialog#1](../../mfc/reference/codesnippet/cpp/cfiledialog-class_7.cpp)]

## <a name="see-also"></a>Viz také

[CCommonDialog – třída](../../mfc/reference/ccommondialog-class.md)<br/>
[Graf hierarchie](../../mfc/hierarchy-chart.md)
