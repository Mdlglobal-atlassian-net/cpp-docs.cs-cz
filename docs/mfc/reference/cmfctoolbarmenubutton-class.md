---
title: CMFCToolBarMenuButton Class
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CompareWith
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CopyFrom
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateFromMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::EnableQuickCustomize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetCommands
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetImageRect
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPaletteRows
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HasButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HaveHotBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsClickedOnMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsDroppedDown
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsEmptyMenuAllowed
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsExclusive
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsQuickMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsTearOffMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnAfterCreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnBeforeDrag
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCalculateSize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCancelMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnChangeParentWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClick
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClickMenuItem
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnContextHelp
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDraw
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDrawOnCustomizeList
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OpenPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::ResetImageToDefault
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SaveBarState
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::Serialize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetACCData
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuOnly
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMessageWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetRadio
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetTearOff
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::DrawDocumentIcon
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw
helpviewer_keywords:
- CMFCToolBarMenuButton [MFC], CMFCToolBarMenuButton
- CMFCToolBarMenuButton [MFC], CompareWith
- CMFCToolBarMenuButton [MFC], CopyFrom
- CMFCToolBarMenuButton [MFC], CreateFromMenu
- CMFCToolBarMenuButton [MFC], CreateMenu
- CMFCToolBarMenuButton [MFC], CreatePopupMenu
- CMFCToolBarMenuButton [MFC], EnableQuickCustomize
- CMFCToolBarMenuButton [MFC], GetCommands
- CMFCToolBarMenuButton [MFC], GetImageRect
- CMFCToolBarMenuButton [MFC], GetPaletteRows
- CMFCToolBarMenuButton [MFC], GetPopupMenu
- CMFCToolBarMenuButton [MFC], HasButton
- CMFCToolBarMenuButton [MFC], HaveHotBorder
- CMFCToolBarMenuButton [MFC], IsBorder
- CMFCToolBarMenuButton [MFC], IsClickedOnMenu
- CMFCToolBarMenuButton [MFC], IsDroppedDown
- CMFCToolBarMenuButton [MFC], IsEmptyMenuAllowed
- CMFCToolBarMenuButton [MFC], IsExclusive
- CMFCToolBarMenuButton [MFC], IsMenuPaletteMode
- CMFCToolBarMenuButton [MFC], IsQuickMode
- CMFCToolBarMenuButton [MFC], IsTearOffMenu
- CMFCToolBarMenuButton [MFC], OnAfterCreatePopupMenu
- CMFCToolBarMenuButton [MFC], OnBeforeDrag
- CMFCToolBarMenuButton [MFC], OnCalculateSize
- CMFCToolBarMenuButton [MFC], OnCancelMode
- CMFCToolBarMenuButton [MFC], OnChangeParentWnd
- CMFCToolBarMenuButton [MFC], OnClick
- CMFCToolBarMenuButton [MFC], OnClickMenuItem
- CMFCToolBarMenuButton [MFC], OnContextHelp
- CMFCToolBarMenuButton [MFC], OnDraw
- CMFCToolBarMenuButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarMenuButton [MFC], OpenPopupMenu
- CMFCToolBarMenuButton [MFC], ResetImageToDefault
- CMFCToolBarMenuButton [MFC], SaveBarState
- CMFCToolBarMenuButton [MFC], Serialize
- CMFCToolBarMenuButton [MFC], SetACCData
- CMFCToolBarMenuButton [MFC], SetMenuOnly
- CMFCToolBarMenuButton [MFC], SetMenuPaletteMode
- CMFCToolBarMenuButton [MFC], SetMessageWnd
- CMFCToolBarMenuButton [MFC], SetRadio
- CMFCToolBarMenuButton [MFC], SetTearOff
- CMFCToolBarMenuButton [MFC], DrawDocumentIcon
- CMFCToolBarMenuButton [MFC], m_bAlwaysCallOwnerDraw
ms.assetid: cfa50176-7e4b-4527-9904-86a1b48fc1bc
ms.openlocfilehash: 7733969a0218dacf481ac82c764911c61ecabbbf
ms.sourcegitcommit: 5cecccba0a96c1b4ccea1f7a1cfd91f259cc5bde
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/01/2019
ms.locfileid: "58769144"
---
# <a name="cmfctoolbarmenubutton-class"></a>CMFCToolBarMenuButton Class

Tlačítka panelu nástrojů, který obsahuje místní nabídku.
Další podrobnosti najdete ve zdrojovém kódu v **VC\\atlmfc\\src\\mfc** složce instalace sady Visual Studio.

## <a name="syntax"></a>Syntaxe

```
class CMFCToolBarMenuButton : public CMFCToolBarButton
```

## <a name="members"></a>Členové

### <a name="public-constructors"></a>Veřejné konstruktory

|Název|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton::CMFCToolBarMenuButton](#cmfctoolbarmenubutton)|Vytvoří `CMFCToolBarMenuButton` objektu.|

### <a name="public-methods"></a>Veřejné metody

|Name|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton::CompareWith](#comparewith)|Porovná tuto instanci za poskytnutý `CMFCToolBarButton` objektu. (Přepíše [CMFCToolBarButton::CompareWith](../../mfc/reference/cmfctoolbarbutton-class.md#comparewith).)|
|[CMFCToolBarMenuButton::CopyFrom](#copyfrom)|Zkopíruje aktuální tlačítko Vlastnosti jiné tlačítko panelu nástrojů. (Přepíše [CMFCToolBarButton::CopyFrom](../../mfc/reference/cmfctoolbarbutton-class.md#copyfrom).)|
|[CMFCToolBarMenuButton::CreateFromMenu](#createfrommenu)|Inicializuje nabídce nástrojů z popisovače nabídku Windows.|
|[CMFCToolBarMenuButton::CreateMenu](#createmenu)|Vytvoří nabídku Windows, který se skládá z příkazů v nabídce nástrojů. Vrátí popisovač do nabídky Windows.|
|[CMFCToolBarMenuButton::CreatePopupMenu](#createpopupmenu)|Vytvoří objekt místní nabídky ( [cmfcpopupmenu – třída](../../mfc/reference/cmfcpopupmenu-class.md)) k zobrazení nabídky panelu nástrojů.|
|[CMFCToolBarMenuButton::EnableQuickCustomize](#enablequickcustomize)||
|[CMFCToolBarMenuButton::GetCommands](#getcommands)|Poskytuje přístup jen pro čtení k seznamu příkazů v nabídce nástrojů.|
|[CMFCToolBarMenuButton::GetImageRect](#getimagerect)|Načte ohraničující rámeček pro obrázek tlačítka.|
|[CMFCToolBarMenuButton::GetPaletteRows](#getpaletterows)|Vrací počet řádků v rozbalovací nabídce, když v nabídce je v režimu palety.|
|[CMFCToolBarMenuButton::GetPopupMenu](#getpopupmenu)|Vrací ukazatel na místní nabídky objektu, který je přidružený k tlačítku.|
|[CMFCToolBarMenuButton::HasButton](#hasbutton)||
|[CMFCToolBarMenuButton::HaveHotBorder](#havehotborder)|Určuje, zda se zobrazí ohraničení tlačítka, když uživatel vybere tlačítko. (Přepíše [CMFCToolBarButton::HaveHotBorder](../../mfc/reference/cmfctoolbarbutton-class.md#havehotborder).)|
|[CMFCToolBarMenuButton::IsBorder](#isborder)||
|[CMFCToolBarMenuButton::IsClickedOnMenu](#isclickedonmenu)||
|[CMFCToolBarMenuButton::IsDroppedDown](#isdroppeddown)|Určuje, zda se zobrazí místní nabídka.|
|[CMFCToolBarMenuButton::IsEmptyMenuAllowed](#isemptymenuallowed)|Volá se rozhraním, chcete-li zjistit, jestli může uživatel otevřít podnabídky z vybranou položku nabídky.|
|[CMFCToolBarMenuButton::IsExclusive](#isexclusive)|Určuje, zda tlačítko je ve výhradním režimu, to znamená, zda zůstává v rozbalovací nabídce otevřít i v případě, že uživatel přesune ukazatel myši nad jiného panelu nástrojů nebo tlačítko.|
|[CMFCToolBarMenuButton::IsMenuPaletteMode](#ismenupalettemode)|Určuje, zda v rozbalovací nabídce je v režimu palety.|
|[CMFCToolBarMenuButton::IsQuickMode](#isquickmode)||
|[CMFCToolBarMenuButton::IsTearOffMenu](#istearoffmenu)|Určuje, zda má v rozbalovací nabídce přemístitelný panel.|
|[CMFCToolBarMenuButton::OnAfterCreatePopupMenu](#onaftercreatepopupmenu)||
|[CMFCToolBarMenuButton::OnBeforeDrag](#onbeforedrag)|Určuje, zda můžete přetáhnout tlačítka. (Přepíše [CMFCToolBarButton::OnBeforeDrag](../../mfc/reference/cmfctoolbarbutton-class.md#onbeforedrag).)|
|[CMFCToolBarMenuButton::OnCalculateSize](#oncalculatesize)|Volá se rozhraním pro výpočet velikosti tlačítko pro zadané zařízení kontext a stav dokování. (Přepíše [CMFCToolBarButton::OnCalculateSize](../../mfc/reference/cmfctoolbarbutton-class.md#oncalculatesize).)|
|[CMFCToolBarMenuButton::OnCancelMode](#oncancelmode)|Volá se rozhraním pro zpracování [WM_CANCELMODE](/windows/desktop/winmsg/wm-cancelmode) zprávy. (Přepíše [CMFCToolBarButton::OnCancelMode](../../mfc/reference/cmfctoolbarbutton-class.md#oncancelmode).)|
|[CMFCToolBarMenuButton::OnChangeParentWnd](#onchangeparentwnd)|Volá se rozhraním při vložení do nového panelu nástrojů na tlačítko. (Přepíše [CMFCToolBarButton::OnChangeParentWnd](cmfctoolbarbutton-class.md#onchangeparentwnd).)|
|[CMFCToolBarMenuButton::OnClick](#onclick)|Volá se rozhraním, když uživatel klikne na tlačítko myši. (Přepíše [CMFCToolBarButton::OnClick](../../mfc/reference/cmfctoolbarbutton-class.md#onclick).)|
|[CMFCToolBarMenuButton::OnClickMenuItem](#onclickmenuitem)|Volá se rozhraním, když uživatel vybere položku v místní nabídce.|
|[CMFCToolBarMenuButton::OnContextHelp](#oncontexthelp)|Volá se rozhraním, když zpracovává zprávu WM_HELPHITTEST nadřazeného panelu nástrojů. (Přepíše [CMFCToolBarButton::OnContextHelp](../../mfc/reference/cmfctoolbarbutton-class.md#oncontexthelp).)|
|[CMFCToolBarMenuButton::OnDraw](#ondraw)|Volá se rozhraním, chcete-li nakreslit tlačítko s použitím zadaného styly a možnosti. (Přepíše [CMFCToolBarButton::OnDraw](../../mfc/reference/cmfctoolbarbutton-class.md#ondraw).)|
|[CMFCToolBarMenuButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Volá se rozhraním, chcete-li nakreslit tlačítko **příkazy** podokně **vlastní** dialogové okno. (Přepíše [CMFCToolBarButton::OnDrawOnCustomizeList](../../mfc/reference/cmfctoolbarbutton-class.md#ondrawoncustomizelist).)|
|[CMFCToolBarMenuButton::OpenPopupMenu](#openpopupmenu)|Volá se rozhraním, když uživatel otevře místní nabídky.|
|[CMFCToolBarMenuButton::ResetImageToDefault](#resetimagetodefault)|Nastaví na výchozí hodnotu obrázku, který je přidružený k tlačítku. (Přepíše [CMFCToolBarButton::ResetImageToDefault](../../mfc/reference/cmfctoolbarbutton-class.md#resetimagetodefault).)|
|[CMFCToolBarMenuButton::SaveBarState](#savebarstate)|Uloží stav tlačítka panelu nástrojů. (Přepíše [CMFCToolBarButton::SaveBarState](../../mfc/reference/cmfctoolbarbutton-class.md#savebarstate).)|
|[CMFCToolBarMenuButton::Serialize](#serialize)|Čte tento objekt z archivu nebo zapíše do archivu. (Přepíše [CMFCToolBarButton::Serialize](../../mfc/reference/cmfctoolbarbutton-class.md#serialize).)|
|[CMFCToolBarMenuButton::SetACCData](#setaccdata)|Naplní zadaných `CAccessibilityData` objekt usnadnění daty z panelu nástrojů. (Přepíše [CMFCToolBarButton::SetACCData](../../mfc/reference/cmfctoolbarbutton-class.md#setaccdata).)|
|[CMFCToolBarMenuButton::SetMenuOnly](#setmenuonly)|Určuje, zda lze přidat na tlačítko na panelu nástrojů.|
|[CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode)|Určuje, zda v rozbalovací nabídce je v režimu palety.|
|[CMFCToolBarMenuButton::SetMessageWnd](#setmessagewnd)||
|[CMFCToolBarMenuButton::SetRadio](#setradio)|Vynutí nabídky panelu nástrojů k zobrazení ikony označující, že je vybraný.|
|[CMFCToolBarMenuButton::SetTearOff](#settearoff)|Určuje přemístitelný panel ID pro rozbalovací nabídky.|

### <a name="protected-methods"></a>Chráněné metody

|Name|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton::DrawDocumentIcon](#drawdocumenticon)|Nakreslí ikonu na tlačítko nabídky.|

### <a name="data-members"></a>Datové členy

|Name|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw](#m_balwayscallownerdraw)|Při hodnotě TRUE se vždy volá framework [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) při vykreslované tlačítko.|

## <a name="remarks"></a>Poznámky

A `CMFCToolBarMenuButton` se může zobrazit jako nabídky, položku nabídky, která má dílčí nabídky, tlačítka, který provede příkaz nebo zobrazí nabídku nebo tlačítko, které se zobrazí pouze nabídku. Určení chování a vzhled na tlačítko nabídky tak, že zadáte parametry, jako je například obrázek, text, popisovač nabídky a Apple ID, které je přidružený k tlačítku v konstruktoru `CMFCToolbarMenuButton::CMFCToolbarMenuButton`.

Vlastní třída odvozená z `CMFCToolbarMenuButton` třída musí použít [DECLARE_SERIAL](run-time-object-model-services.md#declare_serial) – makro. [DECLARE_DYNCREATE](run-time-object-model-services.md#declare_dyncreate) – makro dojde k chybě, když se aplikace ukončí.

## <a name="example"></a>Příklad

Následující příklad ukazuje, jak nakonfigurovat `CMFCToolBarMenuButton` objektu. Kód ukazuje, jak určit, že v rozevírací nabídce je v režimu palety a určete ID pro přemístitelný panel, který je vytvořen, když uživatel přetáhne tlačítko nabídky z řádku nabídek. Tento fragment kódu je součástí [slovo panel vzorku](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#10](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Hierarchie dědičnosti

[Třídy CObject](cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

[CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md)

## <a name="requirements"></a>Požadavky

**Záhlaví:** afxtoolbarmenubutton.h

##  <a name="cmfctoolbarmenubutton"></a>  CMFCToolBarMenuButton::CMFCToolBarMenuButton

Vytvoří `CMFCToolBarMenuButton` objektu.

```
CMFCToolBarMenuButton();
CMFCToolBarMenuButton(const CMFCToolBarMenuButton& src);

CMFCToolBarMenuButton(
    UINT uiID,
    HMENU hMenu,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE);
```

### <a name="parameters"></a>Parametry

*src*<br/>
[in] Existující `CMFCToolBarMenuButton` objektu, které se mají zkopírovat do tohoto `CMFCToolBarMenuButton` objektu.

*uiID*<br/>
[in] ID příkazu ke spuštění, když uživatel klikne na tlačítko; nebo (UINT) -1 pro tlačítko nabídky, které nejsou přímo provedení příkazu.

*hMenu*<br/>
[in] Popisovač nabídky; nebo hodnota NULL, není-li na tlačítko nabídky.

*iImage*<br/>
[in] Index obrázku pro tlačítko; nebo -1, pokud toto tlačítko nemá ikonu nebo používá ikonu pro příkaz určený *uiID*. Index je stejný pro všechny `CMFCToolBarImages` objektu v aplikaci.

*lpszText*<br/>
[in] Text tlačítka nabídky.

*bUserButton*<br/>
[in] Hodnota TRUE, pokud na tomto tlačítku zobrazí uživatelské image; FALSE, pokud na tomto tlačítku zobrazí předdefinovaného obrázku přidružený k příkazu určené *uiID*.

### <a name="remarks"></a>Poznámky

Pokud *uiID* je platné ID příkazu, na tlačítko provádí příkaz, když na něj uživatel klikne. Pokud *hMenu* je popisovač platné nabídky tlačítko obsahuje rozevírací nabídka, když se objeví v panelu nástrojů nebo podnabídky, když se objeví v nabídce. Pokud mají oba *uiID* a *hMenu* jsou platné, tlačítko je tlačítko rozdělení s část, která provede příkaz, když uživatel klikne na ni a část s šipku dolů, která se rozevírací nabídka při uživatele kliknutí na ni. Nicméně pokud *hMenu* je platný, uživatel nebude možné kliknout na tlačítko provést příkaz při vložení do nabídky tlačítka.

### <a name="example"></a>Příklad

Následující příklad ukazuje, jak vytvořit objekt `CMFCToolBarMenuButton` třídy. Tento fragment kódu je součástí [slovo panel vzorku](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#9](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_2.cpp)]

##  <a name="comparewith"></a>  CMFCToolBarMenuButton::CompareWith

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parametry

[in] *další*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="copyfrom"></a>  CMFCToolBarMenuButton::CopyFrom

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parametry

[in] *src*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="createfrommenu"></a>  CMFCToolBarMenuButton::CreateFromMenu

Inicializuje nabídce nástrojů z popisovače nabídku Windows.

```
virtual void CreateFromMenu(HMENU hMenu);
```

### <a name="parameters"></a>Parametry

*hMenu*<br/>
[in] Popisovač nabídky.

### <a name="remarks"></a>Poznámky

Tlačítko nabídky panelu nástrojů můžete zobrazit podnabídky rozevíracího seznamu.

Rozhraní volá tuto metodu za účelem inicializace příkazy v podnabídce z nabídky.

##  <a name="createmenu"></a>  CMFCToolBarMenuButton::CreateMenu

Vytvoří nabídka, která se skládá z příkazů v nabídce nástrojů. Vrátí popisovač do nabídky.

```
virtual HMENU CreateMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

A zpracování do nabídky úspěch. Hodnota NULL, pokud je prázdný seznam příkazů, které jsou přidružené k nabídce tlačítko panelu nástrojů.

### <a name="remarks"></a>Poznámky

Mohou přepsat tuto metodu v odvozené třídě přizpůsobit způsob, jakým se generuje v nabídce.

##  <a name="createpopupmenu"></a>  CMFCToolBarMenuButton::CreatePopupMenu

Vytvoří `CMFCPopupMenu` objekt zobrazení nabídky panelu nástrojů.

```
virtual CMFCPopupMenu* CreatePopupMenu();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel `CMFCPopupMenu` objekt, který se zobrazí rozevírací nabídku přidružené k nabídce tlačítko panelu nástrojů.

### <a name="remarks"></a>Poznámky

Tato metoda je volána rozhraním, aby příprava zobrazení v rozevírací nabídce přidružený k tlačítku.

Výchozí implementace stačí vytvoří a vrátí nový `CMFCPopupMenu` objektu. Potlačí tuto metodu, pokud chcete použít odvozeným typem [cmfcpopupmenu – třída](cmfcpopupmenu-class.md) nebo provést další inicializaci.

##  <a name="drawdocumenticon"></a>  CMFCToolBarMenuButton::DrawDocumentIcon

Nakreslí na tlačítko nabídky ikonu dokumentu.

```
void DrawDocumentIcon(
    CDC* pDC,
    const CRect& rectImage,
    HICON hIcon);
```

### <a name="parameters"></a>Parametry

*pDC*<br/>
[in] Ukazatel na kontext zařízení.

*rectImage*<br/>
[in] Souřadnice image ohraničující obdélník.

*hIcon*<br/>
[in] Popisovač na ikonu.

### <a name="remarks"></a>Poznámky

Tato metoda používá ikony dokumentu a vykreslí na tlačítko nabídky, zarovnání na střed v oblasti určené *rectImage*.

##  <a name="enablequickcustomize"></a>  CMFCToolBarMenuButton::EnableQuickCustomize

```
void EnableQuickCustomize();
```

### <a name="remarks"></a>Poznámky

##  <a name="hasbutton"></a>  CMFCToolBarMenuButton::HasButton

```
virtual BOOL HasButton() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="havehotborder"></a>  CMFCToolBarMenuButton::HaveHotBorder

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="isborder"></a>  CMFCToolBarMenuButton::IsBorder

```
virtual BOOL IsBorder() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="isclickedonmenu"></a>  CMFCToolBarMenuButton::IsClickedOnMenu

```
BOOL IsClickedOnMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="isquickmode"></a>  CMFCToolBarMenuButton::IsQuickMode

```
BOOL IsQuickMode();
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="getcommands"></a>  CMFCToolBarMenuButton::GetCommands

Poskytuje přístup jen pro čtení k seznamu příkazů v nabídce nástrojů.

```
const CObList& GetCommands() const;
```

### <a name="return-value"></a>Návratová hodnota

Konstantní odkaz [coblist – třída](../../mfc/reference/coblist-class.md) objektu, který obsahuje kolekci [cmfctoolbarbutton – třída](../../mfc/reference/cmfctoolbarbutton-class.md) objekty.

### <a name="remarks"></a>Poznámky

Tlačítko nabídky panelu nástrojů můžete zobrazit podnabídky. Můžete zadat seznam příkazů v podnabídce v konstruktoru nebo v [CMFCToolBarMenuButton::CreateFromMenu](#createfrommenu) jako popisovač do nabídky (HMENU). V nabídce je převedeno na seznam objektů, které jsou odvozeny z [cmfctoolbarbutton – třída](../../mfc/reference/cmfctoolbarbutton-class.md) a uloženy v interní `CObList` objektu. Tento seznam můžete přistupovat voláním této metody.

##  <a name="getimagerect"></a>  CMFCToolBarMenuButton::GetImageRect

Načte ohraničující rámeček pro obrázek tlačítka.

```
void GetImageRect(CRect& rectImage);
```

### <a name="parameters"></a>Parametry

*rectImage*<br/>
[out] Odkaz na `CRect` objekt, který přijme souřadnice image ohraničující obdélník.

##  <a name="getpaletterows"></a>  CMFCToolBarMenuButton::GetPaletteRows

Vrátí počet řádků v rozevírací nabídce, když v nabídce je v režimu palety.

```
int GetPaletteRows() const;
```

### <a name="return-value"></a>Návratová hodnota

Počet řádků na paletě.

### <a name="remarks"></a>Poznámky

Když na tlačítko nabídky nastavená na režim palety, položky nabídky zobrazí ve více sloupcích s pouze omezený počet řádků. Volejte tuto metodu za účelem získání počet řádků. Můžete povolit nebo zakázat režim palety a určit počet řádků pomocí [CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode).

##  <a name="getpopupmenu"></a>  CMFCToolBarMenuButton::GetPopupMenu

Vrací ukazatel [cmfcpopupmenu – třída](../../mfc/reference/cmfcpopupmenu-class.md) objekt, který reprezentuje rozevírací nabídky tlačítka.

```
CMFCPopupMenu* GetPopupMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel [cmfcpopupmenu – třída](../../mfc/reference/cmfcpopupmenu-class.md) objekt, který byl vytvořen při rozhraní nakreslili podnabídky nabídky panelu nástrojů; Hodnota NULL, pokud se žádná podnabídka zobrazí.

### <a name="remarks"></a>Poznámky

Když nabídky tlačítka panelu nástrojů zobrazí rozevírací nabídku, na tlačítko vytvoří [cmfcpopupmenu – třída](../../mfc/reference/cmfcpopupmenu-class.md) objekt reprezentující v nabídce. Volejte tuto metodu za účelem získání ukazatele na `CMFCPopupMenu` objektu. Vrácenému ukazateli by neměla uložit, protože je dočasný a stává neplatným, když uživatel zavře rozevírací nabídky.

##  <a name="isdroppeddown"></a>  CMFCToolBarMenuButton::IsDroppedDown

Označuje, zda se nyní zobrazí místní nabídka.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Návratová hodnota

Hodnota TRUE v případě na tlačítko nabídky panelu nástrojů zobrazí její podnabídku; v opačném případě FALSE.

##  <a name="isemptymenuallowed"></a>  CMFCToolBarMenuButton::IsEmptyMenuAllowed

Určuje, zda položky nabídky zobrazí prázdný dílčích nabídek.

```
virtual BOOL IsEmptyMenuAllowed() const;
```

### <a name="return-value"></a>Návratová hodnota

Hodnota TRUE, pokud rozhraní framework, otevře se podnabídka z aktuálně vybranou položku nabídky i v případě, že příkaz je prázdná. v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Rozhraní volá tuto metodu, když se uživatel pokusí otevřít podnabídky z aktuálně vybranou položku nabídky. Pokud v podnabídce je prázdný a `IsEmptyMenuAllowed` vrací hodnotu FALSE, nebude otevřete podnabídku.

Výchozí implementace vrací hodnotu FALSE. Potlačí tuto metodu za účelem přizpůsobení toto chování.

##  <a name="isexclusive"></a>  CMFCToolBarMenuButton::IsExclusive

Označuje, zda tlačítko je ve výhradním režimu.

```
virtual BOOL IsExclusive() const;
```

### <a name="return-value"></a>Návratová hodnota

Hodnota TRUE, pokud je ve výhradním režimu; práce na tlačítko v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Když uživatel otevře místní nabídku pro tlačítko a pak přesune ukazatel myši přes jiné tlačítko panelu nástrojů nebo nabídky, v místní nabídce zavře, pokud není tlačítko ve výhradním režimu.

Výchozí implementace vždy vrátí hodnotu FALSE. Potlačí tuto metodu v odvozené třídě, pokud chcete zapnout výhradním režimu.

##  <a name="ismenupalettemode"></a>  CMFCToolBarMenuButton::IsMenuPaletteMode

Určuje, zda je v rozevírací nabídce v režimu palety.

```
BOOL IsMenuPaletteMode() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud režim palety je povoleno, jinak hodnota FALSE.

### <a name="remarks"></a>Poznámky

Když na tlačítko nabídky nastavená na režim palety, položky nabídky zobrazí ve více sloupcích s pouze omezený počet řádků. Volejte tuto metodu za účelem získání počet řádků. Můžete povolit nebo zakázat režim palety voláním [CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode).

##  <a name="istearoffmenu"></a>  CMFCToolBarMenuButton::IsTearOffMenu

Označuje, jestli se v rozevírací nabídce přemístitelný panel.

```
virtual BOOL IsTearOffMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

Hodnota TRUE, pokud má tlačítko nabídky panelu nástrojů přemístitelný panel; v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Povolit funkci odnímatelnými nabídkami a nastavit přemístitelný panel ID, volání [CMFCToolBarMenuButton::SetTearOff](#settearoff).

##  <a name="m_balwayscallownerdraw"></a>  CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw

Určuje, zda vždy volá framework [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) při vykreslované tlačítko.

```
static BOOL m_bAlwaysCallOwnerDraw;
```

### <a name="remarks"></a>Poznámky

Když tato členská proměnná je nastavena na hodnotu TRUE, tlačítko vždy volá [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) metodu a zobrazte obrázek na tlačítku. Když `m_bAlwaysCallOwnerDraw` má hodnotu FALSE, na tlačítku nakreslí obrázek, pokud je předdefinovaná bitovou kopii. V opačném případě volá `OnDrawMenuImage`.

##  <a name="onaftercreatepopupmenu"></a>  CMFCToolBarMenuButton::OnAfterCreatePopupMenu

```
virtual void OnAfterCreatePopupMenu();
```

### <a name="remarks"></a>Poznámky

##  <a name="onbeforedrag"></a>  CMFCToolBarMenuButton::OnBeforeDrag

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="oncalculatesize"></a>  CMFCToolBarMenuButton::OnCalculateSize

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parametry

[in] *pDC*<br/>
[in] *sizeDefault*<br/>
[in] *bHorz*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="oncancelmode"></a>  CMFCToolBarMenuButton::OnCancelMode

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Poznámky

##  <a name="onchangeparentwnd"></a>  CMFCToolBarMenuButton::OnChangeParentWnd

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parametry

[in] *pWndParent*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="onclick"></a>  CMFCToolBarMenuButton::OnClick

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay = TRUE);
```

### <a name="parameters"></a>Parametry

[in] *pWnd*<br/>
[in] *bDelay*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="onclickmenuitem"></a>  CMFCToolBarMenuButton::OnClickMenuItem

Volá se rozhraním, když uživatel vybere položku v rozevírací nabídce.

```
virtual BOOL OnClickMenuItem();
```

### <a name="return-value"></a>Návratová hodnota

FALSE, pokud rozhraní by měly pokračovat ve nabídky Výchozí položka zpracování; v opačném případě TRUE. Výchozí implementace vždy vrátí hodnotu FALSE.

### <a name="remarks"></a>Poznámky

Po kliknutí na položku nabídky, rozhraní framework spouští příkaz, který je spojen s danou položku.

Chcete-li přizpůsobit zpracování položky nabídky, přepište `OnClickMenuItem` ve třídě odvozené z `CMFCToolBarMenuButton` třídy. Musí také přepsat [CFrameWndEx::OnShowPopupMenu](../../mfc/reference/cframewndex-class.md#onshowpopupmenu) a nahraďte tlačítka nabídky, které vyžadují zvláštní zpracování instancemi odvozené třídy.

##  <a name="oncontexthelp"></a>  CMFCToolBarMenuButton::OnContextHelp

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parametry

[in] *pWnd*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="ondraw"></a>  CMFCToolBarMenuButton::OnDraw

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz = TRUE,
    BOOL bCustomizeMode = FALSE,
    BOOL bHighlight = FALSE,
    BOOL bDrawBorder = TRUE,
    BOOL bGrayDisabledButtons = TRUE);
```

### <a name="parameters"></a>Parametry

[in] *pDC*<br/>
[in] *rect*<br/>
[in] *pImages*<br/>
[in] *bHorz*<br/>
[in] *bCustomizeMode*<br/>
[in] *bHighlight*<br/>
[in] *bDrawBorder*<br/>
[in] *bGrayDisabledButtons*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="ondrawoncustomizelist"></a>  CMFCToolBarMenuButton::OnDrawOnCustomizeList

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parametry

[in] *pDC*<br/>
[in] *rect*<br/>
[in] *bSelected*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="openpopupmenu"></a>  CMFCToolBarMenuButton::OpenPopupMenu

Volá se rozhraním, když uživatel otevře rozevírací nabídky tlačítka nabídky panelu nástrojů.

```
virtual BOOL OpenPopupMenu(CWnd* pWnd=NULL);
```

### <a name="parameters"></a>Parametry

*pWnd*<br/>
[in] Určuje, která přijímá příkazy rozevírací nabídky okna. To může mít hodnotu NULL jenom v případě, že nadřazené okno má tlačítko nabídky panelu nástrojů.

### <a name="return-value"></a>Návratová hodnota

Hodnotu TRUE při [cmfcpopupmenu – třída](../../mfc/reference/cmfcpopupmenu-class.md) objekt byl a otevře se úspěšně; jinak vrátí hodnotu FALSE.

### <a name="remarks"></a>Poznámky

Tato funkce je volána rozhraním, když uživatel otevře rozevírací nabídky v nabídce tlačítka panelu nástrojů.

##  <a name="resetimagetodefault"></a>  CMFCToolBarMenuButton::ResetImageToDefault

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Poznámky

##  <a name="savebarstate"></a>  CMFCToolBarMenuButton::SaveBarState

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Poznámky

Rozhraní volá tuto metodu, když vytváří tlačítka panelu nástrojů jako výsledek operace přetažení myší. Tato metoda volá [CMFCPopupMenu::SaveState](../../mfc/reference/cmfcpopupmenu-class.md#savestate) metoda nejvyšší úrovně rozbalovací nabídce, což způsobí, že tlačítko nadřazené v rozbalovací nabídce znovu vytvořit nabídku.

##  <a name="serialize"></a>  CMFCToolBarMenuButton::Serialize

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parametry

[in] *ar*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="setaccdata"></a>  CMFCToolBarMenuButton::SetACCData

Nastaví data pro usnadnění pro prvek pásu karet.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parametry

*pParent*<br/>
Nadřazené okno pro prvek pásu karet.

*data*<br/>
Dostupnost dat pro prvek pásu karet.

### <a name="return-value"></a>Návratová hodnota

Vždy vrátí hodnotu TRUE.

### <a name="remarks"></a>Poznámky

Ve výchozím nastavení tato metoda nastaví data pro usnadnění pro prvek pásu karet a vždy vrátí hodnotu TRUE. Potlačí tuto metodu za účelem usnadnění dat a vrátí hodnotu udávající úspěch nebo neúspěch.

##  <a name="setmenuonly"></a>  CMFCToolBarMenuButton::SetMenuOnly

Určuje, zda na tlačítko se vykreslí jako tlačítko nabídky nebo tlačítko rozdělení, když má platný příkaz ID a podnabídky.

```
void SetMenuOnly(BOOL bMenuOnly);
```

### <a name="parameters"></a>Parametry

*bMenuOnly*<br/>
[in] TRUE, pokud chcete toto tlačítko Zobrazit jako tlačítko nabídky, když má platný příkaz ID a podnabídky, FALSE toto tlačítko Zobrazit jako tlačítko rozdělení, když má platný příkaz ID a podnabídky.

### <a name="remarks"></a>Poznámky

Obvykle když tlačítka nabídky obsahuje podnabídku a ID příkazu, v nabídce se zdá být tlačítko rozdělení, který má hlavní tlačítko a připojené tlačítko se šipkou dolů. Pokud tuto metodu lze volat a *bMenuOnly* má hodnotu TRUE, na tlačítko se zobrazí místo toho na jediné tlačítko s šipkou dolů v seznamu. Když uživatel klepne na šipku v režimu, otevře se v podnabídce a po kliknutí na jiné šipku část tlačítka v režimu rozhraní vykoná příkaz.

##  <a name="setmenupalettemode"></a>  CMFCToolBarMenuButton::SetMenuPaletteMode

Určuje, zda v rozevírací nabídce je v režimu palety.

```
void SetMenuPaletteMode(
    BOOL bMenuPaletteMode=TRUE,
    int nPaletteRows=1);
```

### <a name="parameters"></a>Parametry

*bMenuPaletteMode*<br/>
[in] Určuje, zda v rozevírací nabídce je v režimu palety.

*nPaletteRows*<br/>
[in] Počet řádků v paletě.

### <a name="remarks"></a>Poznámky

V režimu palety všechny položky nabídky se zobrazují jako vícesloupcovém objektu palety. Zadejte počet řádků s použitím *nPaletteRows*.

##  <a name="setmessagewnd"></a>  CMFCToolBarMenuButton::SetMessageWnd

```
void SetMessageWnd(CWnd* pWndMessage);
```

### <a name="parameters"></a>Parametry

[in] *pWndMessage*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="setradio"></a>  CMFCToolBarMenuButton::SetRadio

Nastaví na panelu nástrojů tlačítko nabídky k zobrazení ikony styl tlačítka přepínač, když je zaškrtnutá možnost.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Poznámky

Při vykreslení na tlačítko nabídky rezervován, volá [CMFCVisualManager::OnDrawMenuCheck](../../mfc/reference/cmfcvisualmanager-class.md#ondrawmenucheck) nakreslete ikonu značky zaškrtnutí. Ve výchozím nastavení `OnDrawMenuCheck` požadavky, že aktuální správce vzhledu nakreslí zaškrtávací políčko styl značky zaškrtnutí na tlačítko nabídky. Po volání této metody aktuální správce vzhledu místo toho nakreslí styl zaškrtnutí přepínač tlačítko na tlačítko nabídky. Tato změna nevratná.

Při volání této metody a aktuálně zobrazeného na tlačítko nabídky, se aktualizují.

##  <a name="settearoff"></a>  CMFCToolBarMenuButton::SetTearOff

Určuje ID přemístitelný panel rozevírací nabídky.

```
virtual void SetTearOff(UINT uiBarID);
```

### <a name="parameters"></a>Parametry

*uiBarID*<br/>
[in] Určuje novou přemístitelný panel ID.

### <a name="remarks"></a>Poznámky

Voláním této metody lze zadat ID přemístitelný panel, který je vytvořen, když uživatel přetáhne tlačítko nabídky z řádku nabídek. Pokud *uiBarID* parametru je 0, uživatel nemůže odtrhnout nabídky tlačítka.

Volání [CWinAppEx::EnableTearOffMenus](../../mfc/reference/cwinappex-class.md#enabletearoffmenus) k povolení této funkce odnímatelnou nabídku v aplikaci.

## <a name="see-also"></a>Viz také:

[Graf hierarchie](../../mfc/hierarchy-chart.md)<br/>
[Třídy](../../mfc/reference/mfc-classes.md)<br/>
[CMFCToolBarButton – třída](../../mfc/reference/cmfctoolbarbutton-class.md)<br/>
[CMFCToolBar – třída](../../mfc/reference/cmfctoolbar-class.md)<br/>
[CMFCPopupMenu – třída](../../mfc/reference/cmfcpopupmenu-class.md)
