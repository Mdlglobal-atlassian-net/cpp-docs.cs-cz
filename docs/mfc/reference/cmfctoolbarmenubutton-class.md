---
title: CMFCToolBarMenuButton – třída
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CompareWith
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CopyFrom
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateFromMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::EnableQuickCustomize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetCommands
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetImageRect
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPaletteRows
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HasButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HaveHotBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsClickedOnMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsDroppedDown
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsEmptyMenuAllowed
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsExclusive
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsQuickMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsTearOffMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnAfterCreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnBeforeDrag
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCalculateSize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCancelMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnChangeParentWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClick
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClickMenuItem
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnContextHelp
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDraw
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDrawOnCustomizeList
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OpenPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::ResetImageToDefault
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SaveBarState
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::Serialize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetACCData
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuOnly
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMessageWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetRadio
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetTearOff
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::DrawDocumentIcon
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw
helpviewer_keywords:
- CMFCToolBarMenuButton [MFC], CMFCToolBarMenuButton
- CMFCToolBarMenuButton [MFC], CompareWith
- CMFCToolBarMenuButton [MFC], CopyFrom
- CMFCToolBarMenuButton [MFC], CreateFromMenu
- CMFCToolBarMenuButton [MFC], CreateMenu
- CMFCToolBarMenuButton [MFC], CreatePopupMenu
- CMFCToolBarMenuButton [MFC], EnableQuickCustomize
- CMFCToolBarMenuButton [MFC], GetCommands
- CMFCToolBarMenuButton [MFC], GetImageRect
- CMFCToolBarMenuButton [MFC], GetPaletteRows
- CMFCToolBarMenuButton [MFC], GetPopupMenu
- CMFCToolBarMenuButton [MFC], HasButton
- CMFCToolBarMenuButton [MFC], HaveHotBorder
- CMFCToolBarMenuButton [MFC], IsBorder
- CMFCToolBarMenuButton [MFC], IsClickedOnMenu
- CMFCToolBarMenuButton [MFC], IsDroppedDown
- CMFCToolBarMenuButton [MFC], IsEmptyMenuAllowed
- CMFCToolBarMenuButton [MFC], IsExclusive
- CMFCToolBarMenuButton [MFC], IsMenuPaletteMode
- CMFCToolBarMenuButton [MFC], IsQuickMode
- CMFCToolBarMenuButton [MFC], IsTearOffMenu
- CMFCToolBarMenuButton [MFC], OnAfterCreatePopupMenu
- CMFCToolBarMenuButton [MFC], OnBeforeDrag
- CMFCToolBarMenuButton [MFC], OnCalculateSize
- CMFCToolBarMenuButton [MFC], OnCancelMode
- CMFCToolBarMenuButton [MFC], OnChangeParentWnd
- CMFCToolBarMenuButton [MFC], OnClick
- CMFCToolBarMenuButton [MFC], OnClickMenuItem
- CMFCToolBarMenuButton [MFC], OnContextHelp
- CMFCToolBarMenuButton [MFC], OnDraw
- CMFCToolBarMenuButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarMenuButton [MFC], OpenPopupMenu
- CMFCToolBarMenuButton [MFC], ResetImageToDefault
- CMFCToolBarMenuButton [MFC], SaveBarState
- CMFCToolBarMenuButton [MFC], Serialize
- CMFCToolBarMenuButton [MFC], SetACCData
- CMFCToolBarMenuButton [MFC], SetMenuOnly
- CMFCToolBarMenuButton [MFC], SetMenuPaletteMode
- CMFCToolBarMenuButton [MFC], SetMessageWnd
- CMFCToolBarMenuButton [MFC], SetRadio
- CMFCToolBarMenuButton [MFC], SetTearOff
- CMFCToolBarMenuButton [MFC], DrawDocumentIcon
- CMFCToolBarMenuButton [MFC], m_bAlwaysCallOwnerDraw
ms.assetid: cfa50176-7e4b-4527-9904-86a1b48fc1bc
ms.openlocfilehash: 883d6a9242066289f15e58179a03c4f609699141
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/15/2019
ms.locfileid: "69504718"
---
# <a name="cmfctoolbarmenubutton-class"></a>CMFCToolBarMenuButton – třída

Tlačítko panelu nástrojů, které obsahuje místní nabídku.
Další podrobnosti najdete ve zdrojovém kódu ve složce **VC\\atlmfc\\src\\MFC** v instalaci sady Visual Studio.

## <a name="syntax"></a>Syntaxe

```
class CMFCToolBarMenuButton : public CMFCToolBarButton
```

## <a name="members"></a>Členové

### <a name="public-constructors"></a>Veřejné konstruktory

|Name|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton::CMFCToolBarMenuButton](#cmfctoolbarmenubutton)|`CMFCToolBarMenuButton` Vytvoří objekt.|

### <a name="public-methods"></a>Veřejné metody

|Name|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton:: compareWith –](#comparewith)|Porovná tuto instanci se zadaným `CMFCToolBarButton` objektem. (Overrides [CMFCToolBarButton:: compareWith –](../../mfc/reference/cmfctoolbarbutton-class.md#comparewith).)|
|[CMFCToolBarMenuButton::CopyFrom](#copyfrom)|Zkopíruje vlastnosti jiného tlačítka panelu nástrojů na aktuální tlačítko. (Overrides [CMFCToolBarButton:: CopyFrom](../../mfc/reference/cmfctoolbarbutton-class.md#copyfrom).)|
|[CMFCToolBarMenuButton::CreateFromMenu](#createfrommenu)|Inicializuje nabídku panelu nástrojů z popisovače nabídky systému Windows.|
|[CMFCToolBarMenuButton::CreateMenu](#createmenu)|Vytvoří nabídku systému Windows, která se skládá z příkazů v nabídce panelu nástrojů. Vrátí popisovač do nabídky systému Windows.|
|[CMFCToolBarMenuButton::CreatePopupMenu](#createpopupmenu)|Vytvoří překryvný objekt nabídky ( [Třída CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md)) pro zobrazení nabídky panelu nástrojů.|
|[CMFCToolBarMenuButton::EnableQuickCustomize](#enablequickcustomize)||
|[CMFCToolBarMenuButton:: GetCommands](#getcommands)|Poskytuje přístup jen pro čtení k seznamu příkazů v nabídce panelu nástrojů.|
|[CMFCToolBarMenuButton::GetImageRect](#getimagerect)|Načte ohraničující obdélník pro obrázek tlačítka.|
|[CMFCToolBarMenuButton::GetPaletteRows](#getpaletterows)|Vrátí počet řádků v místní nabídce, pokud je nabídka v režimu palety.|
|[CMFCToolBarMenuButton::GetPopupMenu](#getpopupmenu)|Vrátí ukazatel na objekt místní nabídky, který je přidružen k tlačítku.|
|[CMFCToolBarMenuButton::HasButton](#hasbutton)||
|[CMFCToolBarMenuButton::HaveHotBorder](#havehotborder)|Určuje, zda je zobrazeno ohraničení tlačítka, když uživatel vybere tlačítko. (Overrides [CMFCToolBarButton:: HaveHotBorder](../../mfc/reference/cmfctoolbarbutton-class.md#havehotborder).)|
|[CMFCToolBarMenuButton::IsBorder](#isborder)||
|[CMFCToolBarMenuButton::IsClickedOnMenu](#isclickedonmenu)||
|[CMFCToolBarMenuButton::IsDroppedDown](#isdroppeddown)|Určuje, zda se zobrazí místní nabídka.|
|[CMFCToolBarMenuButton::IsEmptyMenuAllowed](#isemptymenuallowed)|Volá se rozhraním, aby se určilo, jestli uživatel může otevřít podnabídku z vybrané položky nabídky.|
|[CMFCToolBarMenuButton::IsExclusive](#isexclusive)|Určuje, zda je toto tlačítko v exkluzivním režimu, tedy zda místní nabídka zůstane otevřená, i když uživatel přesune ukazatel myši na jiný panel nástrojů nebo tlačítko.|
|[CMFCToolBarMenuButton::IsMenuPaletteMode](#ismenupalettemode)|Určuje, zda se místní nabídka nachází v režimu palety.|
|[CMFCToolBarMenuButton::IsQuickMode](#isquickmode)||
|[CMFCToolBarMenuButton::IsTearOffMenu](#istearoffmenu)|Určuje, zda se má rozbalovací nabídka odtrhnout.|
|[CMFCToolBarMenuButton::OnAfterCreatePopupMenu](#onaftercreatepopupmenu)||
|[CMFCToolBarMenuButton::OnBeforeDrag](#onbeforedrag)|Určuje, zda lze tlačítko přetáhnout. (Overrides [CMFCToolBarButton:: OnBeforeDrag](../../mfc/reference/cmfctoolbarbutton-class.md#onbeforedrag).)|
|[CMFCToolBarMenuButton::OnCalculateSize](#oncalculatesize)|Volá se rozhraním, aby se počítala velikost tlačítka pro zadaný kontext zařízení a stav docking. (Overrides [CMFCToolBarButton:: OnCalculateSize](../../mfc/reference/cmfctoolbarbutton-class.md#oncalculatesize).)|
|[CMFCToolBarMenuButton::OnCancelMode](#oncancelmode)|Volá se rozhraním, aby se zpracovala zpráva [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) . (Overrides [CMFCToolBarButton:: OnCancelMode](../../mfc/reference/cmfctoolbarbutton-class.md#oncancelmode).)|
|[CMFCToolBarMenuButton::OnChangeParentWnd](#onchangeparentwnd)|Volá se rozhraním, když se na nový panel nástrojů Vloží tlačítko. (Overrides [CMFCToolBarButton:: OnChangeParentWnd](cmfctoolbarbutton-class.md#onchangeparentwnd).)|
|[CMFCToolBarMenuButton::OnClick](#onclick)|Volá se rozhraním, když uživatel klikne na tlačítko myši. (Potlačení [CMFCToolBarButton:: Click](../../mfc/reference/cmfctoolbarbutton-class.md#onclick).)|
|[CMFCToolBarMenuButton::OnClickMenuItem](#onclickmenuitem)|Volá se rozhraním, když uživatel vybere položku v místní nabídce.|
|[CMFCToolBarMenuButton::OnContextHelp](#oncontexthelp)|Volá se rozhraním, když nadřazený panel nástrojů zpracovává zprávu WM_HELPHITTEST. (Overrides [CMFCToolBarButton:: OnContextHelp](../../mfc/reference/cmfctoolbarbutton-class.md#oncontexthelp).)|
|[CMFCToolBarMenuButton::OnDraw](#ondraw)|Volá se rozhraním, aby se vykreslilo tlačítko pomocí zadaných stylů a možností. (Overrides [CMFCToolBarButton:: nakreslit](../../mfc/reference/cmfctoolbarbutton-class.md#ondraw).)|
|[CMFCToolBarMenuButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Volá se rozhraním, aby se nakreslilo tlačítko v podokně **příkazy** dialogového okna **přizpůsobit** . (Overrides [CMFCToolBarButton:: OnDrawOnCustomizeList](../../mfc/reference/cmfctoolbarbutton-class.md#ondrawoncustomizelist).)|
|[CMFCToolBarMenuButton::OpenPopupMenu](#openpopupmenu)|Volá se rozhraním, když uživatel otevře místní nabídku.|
|[CMFCToolBarMenuButton::ResetImageToDefault](#resetimagetodefault)|Nastaví výchozí hodnotu na obrázek, který je přidružený k tlačítku. (Overrides [CMFCToolBarButton:: ResetImageToDefault](../../mfc/reference/cmfctoolbarbutton-class.md#resetimagetodefault).)|
|[CMFCToolBarMenuButton::SaveBarState](#savebarstate)|Uloží stav tlačítka panelu nástrojů. (Overrides [CMFCToolBarButton:: SaveBarState](../../mfc/reference/cmfctoolbarbutton-class.md#savebarstate).)|
|[CMFCToolBarMenuButton:: serializovat](#serialize)|Přečte tento objekt z archivu nebo ho zapíše do archivu. (Overrides [CMFCToolBarButton:: serializovat](../../mfc/reference/cmfctoolbarbutton-class.md#serialize).)|
|[CMFCToolBarMenuButton::SetACCData](#setaccdata)|Naplní poskytnutý `CAccessibilityData` objekt daty přístupnosti z tlačítka panelu nástrojů. (Overrides [CMFCToolBarButton:: SetACCData](../../mfc/reference/cmfctoolbarbutton-class.md#setaccdata).)|
|[CMFCToolBarMenuButton::SetMenuOnly](#setmenuonly)|Určuje, zda lze tlačítko Přidat na panel nástrojů.|
|[CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode)|Určuje, zda se místní nabídka nachází v režimu palety.|
|[CMFCToolBarMenuButton::SetMessageWnd](#setmessagewnd)||
|[CMFCToolBarMenuButton::SetRadio](#setradio)|Vynutí tlačítko nabídky panelu nástrojů Zobrazit ikonu označující, že je vybraná.|
|[CMFCToolBarMenuButton::SetTearOff](#settearoff)|Určuje ID odtrhnoutelné čáry pro místní nabídku.|

### <a name="protected-methods"></a>Chráněné metody

|Name|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton::D rawDocumentIcon](#drawdocumenticon)|Nakreslí ikonu na tlačítko nabídky.|

### <a name="data-members"></a>Datové členy

|Name|Popis|
|----------|-----------------|
|[CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw](#m_balwayscallownerdraw)|Je-li nastaveno na hodnotu TRUE, rozhraní při vykreslení tlačítka vždy volá [CFrameWndEx:: OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) .|

## <a name="remarks"></a>Poznámky

`CMFCToolBarMenuButton` Může se zobrazit jako nabídka, položka nabídky, která má podnabídku, tlačítko, které buď spustí příkaz, nebo zobrazí nabídku, nebo tlačítko, které zobrazí pouze nabídku. Můžete určit chování a vzhled tlačítka nabídky zadáním parametrů, jako je obrázek, text, popisovač nabídky a ID příkazu, který je přidružen k tlačítku v konstruktoru `CMFCToolbarMenuButton::CMFCToolbarMenuButton`.

Vlastní třída odvozená od `CMFCToolbarMenuButton` třídy musí používat makro [DECLARE_SERIAL](run-time-object-model-services.md#declare_serial) . Makro [DECLARE_DYNCREATE](run-time-object-model-services.md#declare_dyncreate) vygeneruje chybu při zavření aplikace.

## <a name="example"></a>Příklad

Následující příklad ukazuje, jak nakonfigurovat `CMFCToolBarMenuButton` objekt. Kód ukazuje, jak určit, že rozevírací nabídka je v režimu Paleta a určuje ID pro nepřerušený pruh, který se vytvoří, když uživatel přetáhne tlačítko nabídky mimo řádek nabídek. Tento fragment kódu je součástí ukázky panelu [aplikace Word](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#10](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Hierarchie dědičnosti

[CObject](cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

[CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md)

## <a name="requirements"></a>Požadavky

**Záhlaví:** afxtoolbarmenubutton. h

##  <a name="cmfctoolbarmenubutton"></a>CMFCToolBarMenuButton::CMFCToolBarMenuButton

`CMFCToolBarMenuButton` Vytvoří objekt.

```
CMFCToolBarMenuButton();
CMFCToolBarMenuButton(const CMFCToolBarMenuButton& src);

CMFCToolBarMenuButton(
    UINT uiID,
    HMENU hMenu,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE);
```

### <a name="parameters"></a>Parametry

*src*<br/>
pro Existující `CMFCToolBarMenuButton` objekt, který má být zkopírován do `CMFCToolBarMenuButton` tohoto objektu.

*uiID*<br/>
pro ID příkazu, který se má provést, když uživatel klikne na tlačítko; nebo (UINT)-1 pro tlačítko nabídky, které přímo neprovede příkaz.

*hMenu*<br/>
pro Popisovač do nabídky; nebo hodnotu NULL, pokud tlačítko neobsahuje nabídku.

*iImage*<br/>
pro Index obrázku pro tlačítko; nebo-1, pokud toto tlačítko nemá ikonu nebo používá ikonu pro příkaz určený parametrem *uiID*. Index je stejný pro každý `CMFCToolBarImages` objekt v aplikaci.

*lpszText*<br/>
pro Text tlačítka nabídky panelu nástrojů

*bUserButton*<br/>
pro TRUE, pokud tlačítko zobrazuje uživatelsky definovaný obrázek; FALSE, pokud tlačítko zobrazí předdefinovaný obrázek přidružený k příkazu určenému parametrem *uiID*.

### <a name="remarks"></a>Poznámky

Pokud je *uiID* platným ID příkazu, tlačítko provede tento příkaz, když na něj uživatel klikne. Pokud je *HMENU* platným popisovačem nabídky, tlačítko nabízí rozevírací nabídku, když se zobrazí na panelu nástrojů nebo v podnabídce, když se objeví v nabídce. Pokud jsou *uiID* i *HMENU* platné, tlačítko je rozdělené na část, která provede příkaz, když na něj uživatel klikne a část s šipkou dolů, která bude po kliknutí na ni na ni rozevírací nabídku vypnula. Pokud je však *HMENU* platný, uživatel nebude moci při vložení tlačítka do nabídky kliknout na tlačítko a provést příkaz.

### <a name="example"></a>Příklad

Následující příklad ukazuje, jak vytvořit objekt `CMFCToolBarMenuButton` třídy. Tento fragment kódu je součástí ukázky panelu [aplikace Word](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#9](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_2.cpp)]

##  <a name="comparewith"></a>CMFCToolBarMenuButton:: compareWith –

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parametry

pro *jiné*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="copyfrom"></a>CMFCToolBarMenuButton::CopyFrom

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parametry

pro *Src*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="createfrommenu"></a>CMFCToolBarMenuButton::CreateFromMenu

Inicializuje nabídku panelu nástrojů z popisovače nabídky systému Windows.

```
virtual void CreateFromMenu(HMENU hMenu);
```

### <a name="parameters"></a>Parametry

*hMenu*<br/>
pro Popisovač do nabídky

### <a name="remarks"></a>Poznámky

Tlačítko nabídky panelu nástrojů může zobrazit rozevírací nabídku.

Rozhraní volá tuto metodu pro inicializaci příkazů v podnabídce z nabídky.

##  <a name="createmenu"></a>CMFCToolBarMenuButton::CreateMenu

Vytvoří nabídku, která se skládá z příkazů v nabídce panelu nástrojů. Vrátí popisovač do nabídky.

```
virtual HMENU CreateMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

Popisovač nabídky, pokud je úspěch. Hodnota NULL, pokud je seznam příkazů přidružených k tlačítku nabídky panelu nástrojů prázdný.

### <a name="remarks"></a>Poznámky

Tuto metodu lze přepsat v odvozené třídě a přizpůsobit tak způsob, jakým je nabídka vygenerována.

##  <a name="createpopupmenu"></a>CMFCToolBarMenuButton::CreatePopupMenu

`CMFCPopupMenu` Vytvoří objekt pro zobrazení nabídky panelu nástrojů.

```
virtual CMFCPopupMenu* CreatePopupMenu();
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na `CMFCPopupMenu` objekt, který zobrazuje rozevírací nabídku přidruženou k tlačítku nabídky panelu nástrojů.

### <a name="remarks"></a>Poznámky

Tato metoda je volána rozhraním pro přípravu zobrazení rozevírací nabídky přidružené k tlačítku.

Výchozí implementace pouze vytvoří a vrátí nový `CMFCPopupMenu` objekt. Tuto metodu přepište, pokud chcete použít odvozený typ [třídy CMFCPopupMenu](cmfcpopupmenu-class.md) nebo provést další inicializaci.

##  <a name="drawdocumenticon"></a>CMFCToolBarMenuButton::D rawDocumentIcon

Nakreslí ikonu dokumentu na tlačítko nabídky.

```
void DrawDocumentIcon(
    CDC* pDC,
    const CRect& rectImage,
    HICON hIcon);
```

### <a name="parameters"></a>Parametry

*pDC*<br/>
pro Ukazatel na kontext zařízení.

*rectImage*<br/>
pro Souřadnice ohraničujícího obdélníku obrázku

*hIcon*<br/>
pro Popisovač ikony.

### <a name="remarks"></a>Poznámky

Tato metoda získá ikonu dokumentu a nakreslí ji na tlačítko nabídky uprostřed oblasti určené parametrem *rectImage*.

##  <a name="enablequickcustomize"></a>CMFCToolBarMenuButton::EnableQuickCustomize

```
void EnableQuickCustomize();
```

### <a name="remarks"></a>Poznámky

##  <a name="hasbutton"></a>CMFCToolBarMenuButton::HasButton

```
virtual BOOL HasButton() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="havehotborder"></a>CMFCToolBarMenuButton::HaveHotBorder

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="isborder"></a>CMFCToolBarMenuButton::-Border

```
virtual BOOL IsBorder() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="isclickedonmenu"></a>CMFCToolBarMenuButton::IsClickedOnMenu

```
BOOL IsClickedOnMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="isquickmode"></a>CMFCToolBarMenuButton::IsQuickMode

```
BOOL IsQuickMode();
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="getcommands"></a>CMFCToolBarMenuButton:: GetCommands

Poskytuje přístup jen pro čtení k seznamu příkazů v nabídce panelu nástrojů.

```
const CObList& GetCommands() const;
```

### <a name="return-value"></a>Návratová hodnota

Odkaz const na objekt [třídy CObList](../../mfc/reference/coblist-class.md) , který obsahuje kolekci objektů [třídy CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) .

### <a name="remarks"></a>Poznámky

Tlačítko nabídky panelu nástrojů může zobrazit podnabídku. Seznam příkazů můžete zadat v podnabídce v konstruktoru nebo v [CMFCToolBarMenuButton:: CreateFromMenu](#createfrommenu) jako popisovač do nabídky (HMENU). Nabídka je převedena na seznam objektů, které jsou odvozeny z [třídy CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) a uloženy do interního `CObList` objektu. Přístup k tomuto seznamu získáte voláním této metody.

##  <a name="getimagerect"></a>CMFCToolBarMenuButton::GetImageRect

Načte ohraničující obdélník pro obrázek tlačítka.

```
void GetImageRect(CRect& rectImage);
```

### <a name="parameters"></a>Parametry

*rectImage*<br/>
mimo Odkaz na `CRect` objekt, který přijímá souřadnice ohraničujícího obdélníku obrázku.

##  <a name="getpaletterows"></a>CMFCToolBarMenuButton::GetPaletteRows

Vrátí počet řádků v rozevírací nabídce, pokud je nabídka v režimu palety.

```
int GetPaletteRows() const;
```

### <a name="return-value"></a>Návratová hodnota

Počet řádků v paletě.

### <a name="remarks"></a>Poznámky

Když je tlačítko nabídky nastaveno na režim palety, položky nabídky se zobrazí ve více sloupcích s pouze omezeným počtem řádků. Voláním této metody získáte počet řádků. Můžete povolit nebo zakázat režim palety a zadat počet řádků pomocí [CMFCToolBarMenuButton:: SetMenuPaletteMode](#setmenupalettemode).

##  <a name="getpopupmenu"></a>CMFCToolBarMenuButton::GetPopupMenu

Vrátí ukazatel na objekt [třídy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) , který představuje rozevírací nabídku tlačítka.

```
CMFCPopupMenu* GetPopupMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

Ukazatel na objekt [třídy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) , který byl vytvořen, když rozhraní nakreslilo v podnabídce tlačítka nabídky panelu nástrojů; Hodnota NULL, pokud není zobrazena žádná podnabídka

### <a name="remarks"></a>Poznámky

Když tlačítko nabídky panelu nástrojů zobrazí rozevírací nabídku, vytvoří tlačítko objekt [třídy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) , který představuje nabídku. Voláním této metody získáte ukazatel na `CMFCPopupMenu` objekt. Vrácený ukazatel byste neměli ukládat, protože je dočasný a když uživatel zavře rozevírací nabídku, bude neplatný.

##  <a name="isdroppeddown"></a>CMFCToolBarMenuButton::IsDroppedDown

Označuje, zda se aktuálně zobrazuje místní nabídka.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud tlačítko nabídky panelu nástrojů zobrazí svou podnabídku; v opačném případě FALSE.

##  <a name="isemptymenuallowed"></a>CMFCToolBarMenuButton::IsEmptyMenuAllowed

Určuje, zda položky nabídky zobrazují prázdné podnabídky.

```
virtual BOOL IsEmptyMenuAllowed() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud rozhraní otevře podnabídku z aktuálně vybrané položky nabídky, a to i v případě, že je podnabídka prázdná; v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Rozhraní volá tuto metodu, když se uživatel pokusí otevřít podnabídku z aktuálně vybrané položky nabídky. Pokud je podnabídka prázdná a `IsEmptyMenuAllowed` vrátí hodnotu false, podnabídka se neotevře.

Výchozí implementace vrátí hodnotu FALSE. Tuto metodu přepište, pokud chcete toto chování přizpůsobit.

##  <a name="isexclusive"></a>CMFCToolBarMenuButton:: Exclusive

Určuje, zda je tlačítko ve výhradním režimu.

```
virtual BOOL IsExclusive() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud tlačítko pracuje ve výhradním režimu; v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Když uživatel otevře místní nabídku pro tlačítko a potom přesune ukazatel myši na jiný panel nástrojů nebo tlačítko nabídky, automaticky otevíraná okna se zavře, pokud je tlačítko ve výhradním režimu.

Výchozí implementace vždy vrátí hodnotu FALSE. Tuto metodu přepište v odvozené třídě, pokud chcete zapnout výhradní režim.

##  <a name="ismenupalettemode"></a>CMFCToolBarMenuButton::IsMenuPaletteMode

Určuje, zda se rozevírací nabídka nachází v režimu palety.

```
BOOL IsMenuPaletteMode() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud je povolen režim palety, v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Když je tlačítko nabídky nastaveno na režim palety, položky nabídky se zobrazí ve více sloupcích s pouze omezeným počtem řádků. Voláním této metody získáte počet řádků. Můžete povolit nebo zakázat režim palety voláním [CMFCToolBarMenuButton:: SetMenuPaletteMode](#setmenupalettemode).

##  <a name="istearoffmenu"></a>CMFCToolBarMenuButton::IsTearOffMenu

Označuje, zda má rozevírací nabídka odtrhnout panel.

```
virtual BOOL IsTearOffMenu() const;
```

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud má tlačítko nabídky panelu nástrojů odtrhnoutelné pruhy; v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Chcete-li povolit funkci Tear a nastavit ID odvolaného řádku, zavolejte [CMFCToolBarMenuButton:: SetTearOff](#settearoff).

##  <a name="m_balwayscallownerdraw"></a>CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw

Určuje, zda rozhraní při vykreslení tlačítka vždy volá metodu [CFrameWndEx:: OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) .

```
static BOOL m_bAlwaysCallOwnerDraw;
```

### <a name="remarks"></a>Poznámky

Je-li tato členská proměnná nastavena na hodnotu TRUE, tlačítko po volání metody CFrameWndEx:: OnDrawMenuImage pro zobrazení obrázku na tlačítku vždy volá metodu [::](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) . Pokud `m_bAlwaysCallOwnerDraw` je hodnota false, tlačítko sám nakreslí obrázek, pokud je obrázek předdefinovaný. V opačném případě `OnDrawMenuImage`volá.

##  <a name="onaftercreatepopupmenu"></a>CMFCToolBarMenuButton::OnAfterCreatePopupMenu

```
virtual void OnAfterCreatePopupMenu();
```

### <a name="remarks"></a>Poznámky

##  <a name="onbeforedrag"></a>CMFCToolBarMenuButton::OnBeforeDrag

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="oncalculatesize"></a>CMFCToolBarMenuButton::OnCalculateSize

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parametry

pro *primární řadič domény*<br/>
pro *sizeDefault*<br/>
[in] *bHorz*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="oncancelmode"></a>CMFCToolBarMenuButton::OnCancelMode

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Poznámky

##  <a name="onchangeparentwnd"></a>CMFCToolBarMenuButton::OnChangeParentWnd

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parametry

pro *pWndParent*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="onclick"></a>CMFCToolBarMenuButton:: Click

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay = TRUE);
```

### <a name="parameters"></a>Parametry

pro *pWnd*<br/>
pro *bDelay*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="onclickmenuitem"></a>CMFCToolBarMenuButton::OnClickMenuItem

Volá se rozhraním, když uživatel vybere položku v rozevírací nabídce.

```
virtual BOOL OnClickMenuItem();
```

### <a name="return-value"></a>Návratová hodnota

FALSE, pokud by měl rozhraní pokračovat ve výchozím zpracování položky nabídky; v opačném případě TRUE. Výchozí implementace vždy vrátí hodnotu FALSE.

### <a name="remarks"></a>Poznámky

Když uživatel klikne na položku nabídky, rozhraní provede příkaz, který je přidružen k této položce.

Chcete-li přizpůsobit zpracování položky nabídky, `OnClickMenuItem` přepište ve třídě odvozené `CMFCToolBarMenuButton` z třídy. Je také nutné přepsat [CFrameWndEx:: OnShowPopupMenu](../../mfc/reference/cframewndex-class.md#onshowpopupmenu) a nahradit tlačítka nabídky, která vyžadují zvláštní zpracování s instancemi odvozené třídy.

##  <a name="oncontexthelp"></a>CMFCToolBarMenuButton::OnContextHelp

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parametry

pro *pWnd*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="ondraw"></a>CMFCToolBarMenuButton:: Draw

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz = TRUE,
    BOOL bCustomizeMode = FALSE,
    BOOL bHighlight = FALSE,
    BOOL bDrawBorder = TRUE,
    BOOL bGrayDisabledButtons = TRUE);
```

### <a name="parameters"></a>Parametry

pro *primární řadič domény*<br/>
pro *Rect*<br/>
pro *pImages*<br/>
[in] *bHorz*<br/>
pro *bCustomizeMode*<br/>
pro *bHighlight*<br/>
pro *bDrawBorder*<br/>
pro *bGrayDisabledButtons*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="ondrawoncustomizelist"></a>CMFCToolBarMenuButton::OnDrawOnCustomizeList

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parametry

pro *primární řadič domény*<br/>
pro *Rect*<br/>
pro *bSelected*<br/>

### <a name="return-value"></a>Návratová hodnota

### <a name="remarks"></a>Poznámky

##  <a name="openpopupmenu"></a>CMFCToolBarMenuButton::OpenPopupMenu

Volá se rozhraním, když uživatel otevře rozevírací nabídku tlačítka nabídky panelu nástrojů.

```
virtual BOOL OpenPopupMenu(CWnd* pWnd=NULL);
```

### <a name="parameters"></a>Parametry

*pWnd*<br/>
pro Určuje okno, které přijímá příkazy rozevírací nabídky. Může mít hodnotu NULL pouze v případě, že tlačítko nabídky panelu nástrojů má nadřazené okno.

### <a name="return-value"></a>Návratová hodnota

TRUE, pokud byl vytvořen a úspěšně otevřen objekt [třídy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) ; v opačném případě FALSE.

### <a name="remarks"></a>Poznámky

Tato funkce je volána rozhraním, když uživatel otevře rozevírací nabídku z tlačítka nabídky panelu nástrojů.

##  <a name="resetimagetodefault"></a>CMFCToolBarMenuButton::ResetImageToDefault

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Poznámky

##  <a name="savebarstate"></a>CMFCToolBarMenuButton::SaveBarState

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Poznámky

Rozhraní volá tuto metodu, když vytvoří tlačítko panelu nástrojů jako výsledek operace přetažení. Tato metoda volá metodu [CMFCPopupMenu:: SaveState](../../mfc/reference/cmfcpopupmenu-class.md#savestate) v místní nabídce nejvyšší úrovně, která způsobí, že nadřazené tlačítko místní nabídky znovu vytvoří svou nabídku.

##  <a name="serialize"></a>CMFCToolBarMenuButton:: serializovat

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parametry

pro *ar*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="setaccdata"></a>CMFCToolBarMenuButton::SetACCData

Nastaví data přístupnosti prvku pásu karet.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parametry

*pParent*<br/>
Nadřazené okno elementu pásu karet.

*data*<br/>
Data přístupnosti prvku pásu karet.

### <a name="return-value"></a>Návratová hodnota

Vždy vrátí hodnotu TRUE.

### <a name="remarks"></a>Poznámky

Ve výchozím nastavení tato metoda nastaví data přístupnosti pro element pásu karet a vždy vrátí hodnotu TRUE. Přepsáním této metody nastavíte data přístupnosti a vrátíte hodnotu, která indikuje úspěch nebo neúspěch.

##  <a name="setmenuonly"></a>CMFCToolBarMenuButton::SetMenuOnly

Určuje, zda je tlačítko vykresleno jako tlačítko nabídky nebo tlačítko rozdělení, pokud má buď platné ID příkazu, a podnabídku.

```
void SetMenuOnly(BOOL bMenuOnly);
```

### <a name="parameters"></a>Parametry

*bMenuOnly*<br/>
pro TRUE Chcete-li toto tlačítko Zobrazit jako tlačítko nabídky, pokud má platné ID příkazu i podnabídku, hodnota FALSE pro zobrazení tohoto tlačítka jako tlačítko rozdělení, pokud má buď platný identifikátor příkazu, a podnabídku.

### <a name="remarks"></a>Poznámky

Pokud má tlačítko nabídky na panelu nástrojů jak podnabídku, tak ID příkazu, zobrazí se nabídka jako tlačítko rozdělení, které má hlavní tlačítko a připojené tlačítko se šipkou dolů. Pokud tuto metodu zavoláte a *bMenuOnly* je pravda, tlačítko se místo toho jeví jako jediné tlačítko nabídky se šipkou dolů na tlačítku. Když uživatel klikne na šipku v obou režimech, otevře se podnabídka a když uživatel klikne na tlačítko, které není šipkou v obou režimech, rozhraní provede příkaz.

##  <a name="setmenupalettemode"></a>CMFCToolBarMenuButton::SetMenuPaletteMode

Určuje, zda se rozevírací nabídka nachází v režimu palety.

```
void SetMenuPaletteMode(
    BOOL bMenuPaletteMode=TRUE,
    int nPaletteRows=1);
```

### <a name="parameters"></a>Parametry

*bMenuPaletteMode*<br/>
pro Určuje, zda se rozevírací nabídka nachází v režimu palety.

*nPaletteRows*<br/>
pro Počet řádků v paletě.

### <a name="remarks"></a>Poznámky

V režimu palety se všechny položky nabídky zobrazí jako paleta s více sloupci. Počet řádků určíte pomocí *nPaletteRows*.

##  <a name="setmessagewnd"></a>CMFCToolBarMenuButton::SetMessageWnd

```
void SetMessageWnd(CWnd* pWndMessage);
```

### <a name="parameters"></a>Parametry

pro *pWndMessage*<br/>

### <a name="remarks"></a>Poznámky

##  <a name="setradio"></a>CMFCToolBarMenuButton::SetRadio

Nastaví tlačítko nabídky panelu nástrojů k zobrazení ikony stylu přepínacího tlačítka, když je zaškrtnuto.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Poznámky

Když je tlačítko nabídky vykresleno, když je zaškrtnuto, volá [CMFCVisualManager:: OnDrawMenuCheck](../../mfc/reference/cmfcvisualmanager-class.md#ondrawmenucheck) , aby nakreslila ikonu zaškrtnutí. Ve výchozím nastavení `OnDrawMenuCheck` požaduje, aby aktuální vizuální nadřízený v tlačítku nabídky zaškrtne zaškrtnutí políčka styl zaškrtávací políčko. Po volání této metody se aktuální vizuální manažer místo toho na tlačítku nabídky nakreslí zaškrtnutím stylu přepínače. Tuto změnu nelze vrátit zpět.

Když zavoláte tuto metodu a v současné době se zobrazuje tlačítko nabídky, aktualizace se aktualizuje.

##  <a name="settearoff"></a>CMFCToolBarMenuButton::SetTearOff

Určuje ID neodstranitelné čáry rozevírací nabídky.

```
virtual void SetTearOff(UINT uiBarID);
```

### <a name="parameters"></a>Parametry

*uiBarID*<br/>
pro Určuje nové ID přerušeného lomítka.

### <a name="remarks"></a>Poznámky

Voláním této metody určíte ID pro nepřerušený pruh, který se vytvoří, když uživatel přetáhne tlačítko nabídky mimo panel nabídek. Pokud je parametr *uiBarID* 0, nemůže uživatel vytrhnout tlačítko nabídky.

Voláním [CWinAppEx:: EnableTearOffMenus](../../mfc/reference/cwinappex-class.md#enabletearoffmenus) povolte funkci odtrhnoutelné nabídky ve vaší aplikaci.

## <a name="see-also"></a>Viz také:

[Graf hierarchie](../../mfc/hierarchy-chart.md)<br/>
[Třídy](../../mfc/reference/mfc-classes.md)<br/>
[CMFCToolBarButton – třída](../../mfc/reference/cmfctoolbarbutton-class.md)<br/>
[CMFCToolBar – třída](../../mfc/reference/cmfctoolbar-class.md)<br/>
[CMFCPopupMenu – třída](../../mfc/reference/cmfcpopupmenu-class.md)
