---
title: Předdefinovaná makra
description: Uvádí a popisuje předdefinovaná C++ makra preprocesoru kompilátoru společnosti Microsoft.
ms.custom: update_every_version
ms.date: 11/20/2019
f1_keywords:
- _ATL_VER
- __ATOM__
- __AVX__
- __AVX2__
- __AVX512BW__
- __AVX512CD__
- __AVX512DQ__
- __AVX512F__
- __AVX512VL__
- _CHAR_UNSIGNED
- __CLR_VER
- _CONTROL_FLOW_GUARD
- __COUNTER__
- __cplusplus
- __cplusplus_cli
- __cplusplus_winrt
- _CPPRTTI
- _CPPUNWIND
- __DATE__
- _DEBUG
- _DLL
- __FILE__
- __FUNCDNAME__
- __FUNCSIG__
- __FUNCTION__
- _INTEGRAL_MAX_BITS
- _ISO_VOLATILE
- _KERNEL_MODE
- __LINE__
- _M_AMD64
- _M_ARM
- _M_ARM_ARMV7VE
- _M_ARM_FP
- _M_ARM64
- _M_CEE
- _M_CEE_PURE
- _M_CEE_SAFE
- _M_FP_EXCEPT
- _M_FP_FAST
- _M_FP_PRECISE
- _M_FP_STRICT
- _M_IX86
- _M_IX86_FP
- _M_X64
- _MANAGED
- _MFC_VER
- _MSC_BUILD
- _MSC_EXTENSIONS
- _MSC_FULL_VER
- _MSC_VER
- _MSVC_LANG
- __MSVC_RUNTIME_CHECKS
- _MT
- _NATIVE_WCHAR_T_DEFINED
- _NO_SIZED_DEALLOCATION
- _OPENMP
- _PREFAST_
- _RESUMABLE_FUNCTIONS_SUPPORTED
- _RTC_CONVERSION_CHECKS_ENABLED
- __STDC__
- __STDC_HOSTED__
- __STDCPP_THREADS__
- __TIME__
- __TIMESTAMP__
- __VA_ARGS__
- _VC_NODEFAULTLIB
- _WCHAR_T_DEFINED
- _WIN32
- _WIN64
- _WINRT_DLL
- __func__
helpviewer_keywords:
- timestamps, preprocessor macro
- cl.exe compiler, version number
- version numbers, C/C++ compiler (cl.exe)
- macros, predefined C++
- preprocessor, macros
- predefined macros
- _ATL_VER macro
- __ATOM__ macro
- __AVX__ macro
- __AVX2__ macro
- __AVX512BW__ macro
- __AVX512CD__ macro
- __AVX512DQ__ macro
- __AVX512F__ macro
- __AVX512VL__ macro
- _CHAR_UNSIGNED macro
- __CLR_VER macro
- _CONTROL_FLOW_GUARD macro
- __COUNTER__ macro
- __cplusplus macro
- __cplusplus_cli macro
- __cplusplus_winrt macro
- _CPPRTTI macro
- _CPPUNWIND macro
- __DATE__ macro
- _DEBUG macro
- _DLL macro
- __FILE__ macro
- __FUNCDNAME__ macro
- __FUNCSIG__ macro
- __FUNCTION__ macro
- _INTEGRAL_MAX_BITS macro
- _ISO_VOLATILE macro
- _KERNEL_MODE macro
- __LINE__ macro
- _M_AMD64 macro
- _M_ARM macro
- _M_ARM_ARMV7VE macro
- _M_ARM_FP macro
- _M_ARM64 macro
- _M_CEE macro
- _M_CEE_PURE macro
- _M_CEE_SAFE macro
- _M_FP_EXCEPT macro
- _M_FP_FAST macro
- _M_FP_PRECISE macro
- _M_FP_STRICT macro
- _M_IX86 macro
- _M_IX86_FP macro
- _M_X64 macro
- _MANAGED macro
- _MFC_VER macro
- _MSC_BUILD macro
- _MSC_EXTENSIONS macro
- _MSC_FULL_VER macro
- _MSC_VER macro
- _MSVC_LANG macro
- __MSVC_RUNTIME_CHECKS macro
- _MT macro
- _NATIVE_WCHAR_T_DEFINED macro
- _NO_SIZED_DEALLOCATION macro
- _OPENMP macro
- _PREFAST_ macro
- _RESUMABLE_FUNCTIONS_SUPPORTED macro
- _RTC_CONVERSION_CHECKS_ENABLED macro
- __STDC__ macro
- __STDC_HOSTED__ macro
- __STDCPP_THREADS__ macro
- __TIME__ macro
- __TIMESTAMP__ macro
- __VA_ARGS__ macro
- _VC_NODEFAULTLIB macro
- _WCHAR_T_DEFINED macro
- _WIN32 macro
- _WIN64 macro
- _WINRT_DLL macro
- __func__ identifier
ms.assetid: 1cc5f70a-a225-469c-aed0-fe766238e23f
no-loc:
- _ATL_VER
- __ATOM__
- __AVX__
- __AVX2__
- __AVX512BW__
- __AVX512CD__
- __AVX512DQ__
- __AVX512F__
- __AVX512VL__
- _CHAR_UNSIGNED
- __CLR_VER
- _CONTROL_FLOW_GUARD
- __COUNTER__
- __cplusplus
- __cplusplus_cli
- __cplusplus_winrt
- _CPPRTTI
- _CPPUNWIND
- __DATE__
- _DEBUG
- _DLL
- __FILE__
- __FUNCDNAME__
- __FUNCSIG__
- __FUNCTION__
- _INTEGRAL_MAX_BITS
- _ISO_VOLATILE
- _KERNEL_MODE
- __LINE__
- _M_AMD64
- _M_ARM
- _M_ARM_ARMV7VE
- _M_ARM_FP
- _M_ARM64
- _M_CEE
- _M_CEE_PURE
- _M_CEE_SAFE
- _M_FP_EXCEPT
- _M_FP_FAST
- _M_FP_PRECISE
- _M_FP_STRICT
- _M_IX86
- _M_IX86_FP
- _M_X64
- _MANAGED
- _MFC_VER
- _MSC_BUILD
- _MSC_EXTENSIONS
- _MSC_FULL_VER
- _MSC_VER
- _MSVC_LANG
- __MSVC_RUNTIME_CHECKS
- _MT
- _NATIVE_WCHAR_T_DEFINED
- _NO_SIZED_DEALLOCATION
- _OPENMP
- _PREFAST_
- _RESUMABLE_FUNCTIONS_SUPPORTED
- _RTC_CONVERSION_CHECKS_ENABLED
- __STDC__
- __STDC_HOSTED__
- __STDCPP_THREADS__
- __TIME__
- __TIMESTAMP__
- __VA_ARGS__
- _VC_NODEFAULTLIB
- _WCHAR_T_DEFINED
- _WIN32
- _WIN64
- _WINRT_DLL
- __func__
ms.openlocfilehash: 7d019b527abea89ab8337270fbd22abc9dbecc4e
ms.sourcegitcommit: 069e3833bd821e7d64f5c98d0ea41fc0c5d22e53
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/21/2019
ms.locfileid: "74305478"
---
# <a name="predefined-macros"></a>Předdefinovaná makra

Kompilátor jazyka Microsoft CC++ /COMPILER (MSVC) předdefinuje určitá makra preprocesoru v závislosti na jazyku (C nebo C++), cíli kompilace a zvolených možnostech kompilátoru.

MSVC podporuje Předdefinovaná makra preprocesoru, která vyžaduje standard ANSI/ISO C99, a normy ISO C++ 14 a C++ 17. Implementace také podporuje několik dalších maker preprocesoru specifických pro společnost Microsoft. Některá makra jsou definována pouze pro konkrétní prostředí sestavení nebo možnosti kompilátoru. S výjimkou případů, kdy je uvedeno jinak, jsou makra definována v rámci jednotky překladu, jako kdyby byla zadána jako **/d** argumenty možností kompilátoru. Při definování jsou makra rozšířena na zadané hodnoty preprocesorem před kompilací. Předdefinovaná makra nevyužívají žádné argumenty a nelze je předefinovat.

## <a name="standard-predefined-identifier"></a>Standardní předdefinovaný identifikátor

Kompilátor podporuje tento předdefinovaný identifikátor určený podle ISO C99 a ISO C++ 11.

- `__func__` nekvalifikovaném a neúplném názvu uzavírací funkce jako místní **statické pole const** **typu Function.**

    ```cpp
    void example(){
        printf("%s\n", __func__);
    } // prints "example"
    ```

## <a name="standard-predefined-macros"></a>Standardní Předdefinovaná makra

Kompilátor podporuje tato předdefinovaná makra určená standardy ISO C99 a ISO C++ 17.

- `__cplusplus` definováno jako hodnota celočíselného literálu, pokud je jednotka překladu zkompilována jako C++. V opačném případě Nedefinováno.

- `__DATE__` datum kompilace aktuálního zdrojového souboru. Datum je řetězcový literál konstantní délky ve tvaru *MMM DD RRRR*. Název měsíce *mmm* je stejný jako zkrácený název měsíce generovaný funkcí [asctime](../c-runtime-library/reference/asctime-wasctime.md) běhové knihovny jazyka C (CRT). Prvním znakem data *DD* je mezera, pokud je hodnota menší než 10. Toto makro je vždy definováno.

- `__FILE__` název aktuálního zdrojového souboru. `__FILE__` se rozšíří do řetězcového literálu znaků. Chcete-li zajistit, aby se zobrazila úplná cesta k souboru, použijte [/FC (úplná cesta k souboru zdrojového kódu v diagnostice)](../build/reference/fc-full-path-of-source-code-file-in-diagnostics.md). Toto makro je vždy definováno.

- `__LINE__` definováno jako celé číslo řádku v aktuálním zdrojovém souboru. Hodnotu makra `__LINE__` lze změnit pomocí direktivy `#line`. Toto makro je vždy definováno.

- `__STDC__` definováno jako 1 pouze v případě, že je kompilována jako C a je-li zadána možnost kompilátoru [/za](../build/reference/za-ze-disable-language-extensions.md) . V opačném případě Nedefinováno.

- `__STDC_HOSTED__` definováno jako 1, pokud je implementace *hostovanou implementací*, jednu, která podporuje celou požadovanou standardní knihovnu. V opačném případě definováno jako 0.

- `__STDCPP_THREADS__` definováno jako 1 pouze v případě, že program může mít více než jedno vlákno spuštění a kompilováno jako C++. V opačném případě Nedefinováno.

- `__TIME__` dobu překladu předzpracované jednotky překladu. Čas je znakový literál řetězce ve tvaru *HH: mm: SS*, který je stejný jako čas VRÁCENÝ funkcí CRT [asctime](../c-runtime-library/reference/asctime-wasctime.md) . Toto makro je vždy definováno.

## <a name="microsoft-specific-predefined-macros"></a>Předdefinovaná makra specifická pro společnost Microsoft

MSVC podporuje tato další předdefinovaná makra.

- `__ATOM__` definováno jako 1, pokud je nastavena možnost kompilátoru [/favor: Atom](../build/reference/favor-optimize-for-architecture-specifics.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `__AVX__` definováno jako 1, pokud jsou nastaveny možnosti kompilátoru [/arch: AVX](../build/reference/arch-x86.md), [/arch: AVX2](../build/reference/arch-x86.md) nebo [/arch: AVX512](../build/reference/arch-x86.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `__AVX2__` definováno jako 1, pokud je nastavena možnost kompilátoru [/arch: AVX2](../build/reference/arch-x86.md) nebo [/arch: AVX512](../build/reference/arch-x86.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `__AVX512BW__` definováno jako 1, pokud je nastavena možnost kompilátoru [/arch: AVX512](../build/reference/arch-x86.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `__AVX512CD__` definováno jako 1, pokud je nastavena možnost kompilátoru [/arch: AVX512](../build/reference/arch-x86.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `__AVX512DQ__` definováno jako 1, pokud je nastavena možnost kompilátoru [/arch: AVX512](../build/reference/arch-x86.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `__AVX512F__` definováno jako 1, pokud je nastavena možnost kompilátoru [/arch: AVX512](../build/reference/arch-x86.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `__AVX512VL__` definováno jako 1, pokud je nastavena možnost kompilátoru [/arch: AVX512](../build/reference/arch-x86.md) a cíl kompilátoru je x86 nebo x64. V opačném případě Nedefinováno.

- `_CHAR_UNSIGNED` definováno jako 1, pokud je výchozí typ **znaku** bez znaménka. Tato hodnota je definována, pokud je nastaven parametr [/j (výchozí typ znaku není podepsaný)](../build/reference/j-default-char-type-is-unsigned.md) . V opačném případě Nedefinováno.

- `__CLR_VER` definováno jako celočíselný literál, který představuje verzi modulu CLR (Common Language Runtime), která se používá ke kompilaci aplikace. Hodnota je kódována ve formě `Mmmbbbbb`, kde `M` je hlavní verzí modulu runtime, `mm` je podverze modulu runtime a `bbbbb` je číslo sestavení. `__CLR_VER` je definována, pokud je nastavena možnost kompilátoru [/CLR](../build/reference/clr-common-language-runtime-compilation.md) . V opačném případě Nedefinováno.

    ```cpp
    // clr_ver.cpp
    // compile with: /clr
    using namespace System;
    int main() {
       Console::WriteLine(__CLR_VER);
    }
    ```

- `_CONTROL_FLOW_GUARD` definováno jako 1, pokud je nastavena možnost kompilátoru [/Guard: CF (Povolit ochranu toku řízení)](../build/reference/guard-enable-control-flow-guard.md) . V opačném případě Nedefinováno.

- `__COUNTER__` se rozšíří na celočíselný literál, který začíná na 0. Hodnota se zvýší o 1 pokaždé, když se použije ve zdrojovém souboru, nebo v zahrnutých hlavičkách zdrojového souboru. `__COUNTER__` pamatuje svůj stav při použití předkompilovaných hlaviček. Toto makro je vždy definováno.

  Tento příklad používá `__COUNTER__` k přiřazení jedinečných identifikátorů třem různým objektům stejného typu. Konstruktor `exampleClass` přebírá jako parametr celé číslo. V `main`aplikace deklaruje tři objekty typu `exampleClass`pomocí `__COUNTER__` jako parametr jedinečného identifikátoru:

    ```cpp
    // macro__COUNTER__.cpp
    // Demonstration of __COUNTER__, assigns unique identifiers to
    // different objects of the same type.
    // Compile by using: cl /EHsc /W4 macro__COUNTER__.cpp
    #include <stdio.h>

    class exampleClass {
        int m_nID;
    public:
        // initialize object with a read-only unique ID
        exampleClass(int nID) : m_nID(nID) {}
        int GetID(void) { return m_nID; }
    };

    int main()
    {
        // __COUNTER__ is initially defined as 0
        exampleClass e1(__COUNTER__);

        // On the second reference, __COUNTER__ is now defined as 1
        exampleClass e2(__COUNTER__);

        // __COUNTER__ is now defined as 2
        exampleClass e3(__COUNTER__);

        printf("e1 ID: %i\n", e1.GetID());
        printf("e2 ID: %i\n", e2.GetID());
        printf("e3 ID: %i\n", e3.GetID());

        // Output
        // ------------------------------
        // e1 ID: 0
        // e2 ID: 1
        // e3 ID: 2

        return 0;
    }
    ```

- `__cplusplus_cli` definováno jako celočíselná hodnota literálu 200406 při kompilování jako C++ a možnost kompilátoru [/CLR](../build/reference/clr-common-language-runtime-compilation.md) je nastavena. V opačném případě Nedefinováno. Je-li definována, `__cplusplus_cli` je v platnosti v celé jednotce překladu.

    ```cpp
    // cplusplus_cli.cpp
    // compile by using /clr
    #include "stdio.h"
    int main() {
       #ifdef __cplusplus_cli
          printf("%d\n", __cplusplus_cli);
       #else
          printf("not defined\n");
       #endif
    }
    ```

- `__cplusplus_winrt` definováno jako celočíselná hodnota literálu 201009 při kompilování jako C++ a možnost kompilátoru [/ZW (prostředí Windows Runtime Compilation)](../build/reference/zw-windows-runtime-compilation.md) je nastavena. V opačném případě Nedefinováno.

- `_CPPRTTI` definováno jako 1, pokud je nastavena možnost kompilátoru [/gr (povolit informace běhového typu)](../build/reference/gr-enable-run-time-type-information.md) . V opačném případě Nedefinováno.

- `_CPPUNWIND` definováno jako 1, pokud je jeden nebo více [/GX (povolení zpracování výjimek)](../build/reference/gx-enable-exception-handling.md), [/CLR (kompilace společného jazykového modulu runtime)](../build/reference/clr-common-language-runtime-compilation.md)nebo [/EH (model zpracování výjimek)](../build/reference/eh-exception-handling-model.md) nastaveny možnosti kompilátoru. V opačném případě Nedefinováno.

- `_DEBUG` definováno jako 1, pokud je nastavena možnost kompilátoru [/LDD](../build/reference/md-mt-ld-use-run-time-library.md), [/MDD](../build/reference/md-mt-ld-use-run-time-library.md)nebo [/MTD](../build/reference/md-mt-ld-use-run-time-library.md) . V opačném případě Nedefinováno.

- `_DLL` definováno jako 1, pokud je nastavena možnost kompilátoru [/MD](../build/reference/md-mt-ld-use-run-time-library.md) nebo [/MDD](../build/reference/md-mt-ld-use-run-time-library.md) (Vícevláknová knihovna DLL). V opačném případě Nedefinováno.

- `__FUNCDNAME__` definováno jako řetězcový literál, který obsahuje [dekorované názvy](../build/reference/decorated-names.md) ohraničující funkce. Makro je definováno pouze v rámci funkce. Pokud použijete možnost kompilátoru [/EP](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) nebo [/p](../build/reference/p-preprocess-to-a-file.md) , nebude se rozbalí makro `__FUNCDNAME__`.

   Tento příklad používá makra `__FUNCDNAME__`, `__FUNCSIG__`a `__FUNCTION__` k zobrazení informací o funkci.

   [!code-cpp[NVC_Predefined_Macros_Examples#1](../preprocessor/codesnippet/CPP/predefined-macros_1.cpp)]

- `__FUNCSIG__` definováno jako řetězcový literál, který obsahuje signaturu uzavírací funkce. Makro je definováno pouze v rámci funkce. Pokud použijete možnost kompilátoru [/EP](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) nebo [/p](../build/reference/p-preprocess-to-a-file.md) , nebude se rozbalí makro `__FUNCSIG__`. Při kompilaci pro 64 cíl je ve výchozím nastavení `__cdecl` konvence volání. Příklad použití naleznete v makru `__FUNCDNAME__`.

- `__FUNCTION__` definováno jako řetězcový literál, který obsahuje nedekorovaný název uzavírací funkce. Makro je definováno pouze v rámci funkce. Pokud použijete možnost kompilátoru [/EP](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) nebo [/p](../build/reference/p-preprocess-to-a-file.md) , nebude se rozbalí makro `__FUNCTION__`. Příklad použití naleznete v makru `__FUNCDNAME__`.

- `_INTEGRAL_MAX_BITS` definováno jako celočíselná hodnota literálu 64, maximální velikost (v bitech) pro celočíselný typ, který není vektor. Toto makro je vždy definováno.

   ```cpp
   // integral_max_bits.cpp
   #include <stdio.h>
   int main() {
      printf("%d\n", _INTEGRAL_MAX_BITS);
   }
   ```

- `__INTELLISENSE__` definováno jako 1 během průchodu kompilátoru IntelliSense v integrovaném vývojovém prostředí sady Visual Studio. V opačném případě Nedefinováno. Toto makro lze použít k ochraně kódu, který kompilátor IntelliSense nepochopení nebo používá pro přepínání mezi kompilátorem sestavení a IntelliSense. Další informace najdete v tématu [Poradce při potížích s pomalými typy funkcí IntelliSense](https://devblogs.microsoft.com/cppblog/troubleshooting-tips-for-intellisense-slowness/).

- `_ISO_VOLATILE` definováno jako 1, pokud je nastavena možnost kompilátoru [/volatile: ISO](../build/reference/volatile-volatile-keyword-interpretation.md) . V opačném případě Nedefinováno.

- `_KERNEL_MODE` definováno jako 1, pokud je nastavena možnost kompilátoru [/kernel (vytvoření binárního režimu jádra)](../build/reference/kernel-create-kernel-mode-binary.md) . V opačném případě Nedefinováno.

- `_M_AMD64` definováno jako celočíselná hodnota literálu 100 pro kompilace, které cílí na procesory x64. V opačném případě Nedefinováno.

- `_M_ARM` definováno jako celočíselná hodnota literálu 7 pro kompilace, které cílí na procesory ARM. V opačném případě Nedefinováno.

- `_M_ARM_ARMV7VE` definováno jako 1, pokud je možnost kompilátoru [/arch: ARMv7VE](../build/reference/arch-arm.md) nastavena pro kompilace, které cílí na procesory ARM. V opačném případě Nedefinováno.

- `_M_ARM_FP` definováno jako hodnota celočíselného literálu, která označuje, která možnost kompilátoru [/arch](../build/reference/arch-arm.md) byla nastavena pro cíle procesoru ARM. V opačném případě Nedefinováno.

  - Hodnota v rozsahu 30-39, pokud nebyla zadána žádná možnost `/arch` ARM, což značí, že byla nastavena výchozí architektura pro ARM (`VFPv3`).

  - Hodnota v rozsahu 40-49, pokud byla nastavena `/arch:VFPv4`.

  - Další informace najdete v tématu [/arch (ARM)](../build/reference/arch-arm.md).

- `_M_ARM64` definováno jako 1 pro kompilace, které cílí na 64 procesorů ARM. V opačném případě Nedefinováno.

- `_M_CEE` definováno jako 001, pokud je nastavena možnost kompilátoru [/CLR (Common Language Runtime Compilation)](../build/reference/clr-common-language-runtime-compilation.md) . V opačném případě Nedefinováno.

- Počínaje verzí sady Visual Studio 2015 `_M_CEE_PURE` zastaralé. Definováno jako 001, pokud je nastavena možnost [/clr: Pure](../build/reference/clr-common-language-runtime-compilation.md) . V opačném případě Nedefinováno.

- Počínaje verzí sady Visual Studio 2015 `_M_CEE_SAFE` zastaralé. Definováno jako 001, pokud je nastavena možnost [/clr: Safe](../build/reference/clr-common-language-runtime-compilation.md) kompilátoru. V opačném případě Nedefinováno.

- `_M_FP_EXCEPT` definováno jako 1, pokud je nastavena možnost kompilátoru [/FP: except](../build/reference/fp-specify-floating-point-behavior.md) nebo [/FP: Strict](../build/reference/fp-specify-floating-point-behavior.md) . V opačném případě Nedefinováno.

- `_M_FP_FAST` definováno jako 1, pokud je nastavena možnost kompilátoru [/FP: Fast](../build/reference/fp-specify-floating-point-behavior.md) . V opačném případě Nedefinováno.

- `_M_FP_PRECISE` definováno jako 1, pokud je nastavena možnost [/FP: přesný](../build/reference/fp-specify-floating-point-behavior.md) kompilátor. V opačném případě Nedefinováno.

- `_M_FP_STRICT` definováno jako 1, pokud je nastavena možnost kompilátoru [/FP: Strict](../build/reference/fp-specify-floating-point-behavior.md) . V opačném případě Nedefinováno.

- `_M_IX86` definováno jako celočíselná hodnota literálu 600 pro kompilace, které cílí na procesory x86. Toto makro není definované pro cíle kompilace x64 nebo ARM.

- `_M_IX86_FP` definováno jako hodnota celočíselného literálu, která označuje nastavenou možnost kompilátoru [/arch](../build/reference/arch-arm.md) nebo výchozí hodnotu. Toto makro je vždy definováno, je-li cílem kompilace procesor x86. V opačném případě Nedefinováno. Při definování je tato hodnota:

  - 0, pokud byla nastavena možnost kompilátoru `/arch:IA32`.

  - 1, pokud byla nastavena možnost kompilátoru `/arch:SSE`.

  - 2, pokud byla nastavena možnost kompilátoru `/arch:SSE2`, `/arch:AVX`, `/arch:AVX2`nebo `/arch:AVX512`. Tato hodnota je výchozí, pokud nebyla zadána možnost kompilátoru `/arch`. Je-li zadána `/arch:AVX`, je `__AVX__` také definováno makro. Při zadání `/arch:AVX2` jsou také definovány `__AVX__` i `__AVX2__`. Při zadání `/arch:AVX512` jsou také definovány `__AVX__`, `__AVX2__`, `__AVX512BW__`, `__AVX512CD__`, `__AVX512DQ__`, `__AVX512F__` a `__AVX512VL__`.

  - Další informace najdete v tématu [/arch (x86)](../build/reference/arch-x86.md).

- `_M_X64` definováno jako celočíselná hodnota literálu 100 pro kompilace, které cílí na procesory x64. V opačném případě Nedefinováno.

- `_MANAGED` definováno jako 1, pokud je nastavena možnost kompilátoru [/CLR](../build/reference/clr-common-language-runtime-compilation.md) . V opačném případě Nedefinováno.

- `_MSC_BUILD` definováno jako celočíselný literál, který obsahuje element číslo revize čísla verze kompilátoru. Číslo revize je čtvrtý prvek čísla verze s hodnotami oddělenými tečkami. Například pokud je číslo verze Microsoft C/C++ Compiler 15.00.20706.01, makro `_MSC_BUILD` se vyhodnotí jako 1. Toto makro je vždy definováno.

- `_MSC_EXTENSIONS` definováno jako 1, pokud je nastavena možnost kompilátoru on- [/ze (Povolit jazykové rozšíření)](../build/reference/za-ze-disable-language-extensions.md) . V opačném případě Nedefinováno.

- `_MSC_FULL_VER` definováno jako celočíselný literál, který kóduje prvky hlavního, vedlejšího a buildu čísla verze kompilátoru. Hlavní číslo je první prvek čísla verze s hodnotami oddělenými tečkami, vedlejší číslo je druhý prvek a číslo sestavení je třetí prvek. Například pokud je číslo verze Microsoft C/C++ Compiler 15.00.20706.01, makro `_MSC_FULL_VER` se vyhodnotí jako 150020706. Zadáním `cl /?` na příkazovém řádku zobrazíte číslo verze kompilátoru. Toto makro je vždy definováno.

- `_MSC_VER` definováno jako celočíselný literál, který kóduje hlavní a vedlejší číslo prvků čísla verze kompilátoru. Hlavní číslo je první prvek čísla verze s hodnotami oddělenými tečkami a vedlejší číslo je druhým prvkem. Například pokud je číslo verze Microsoft C/C++ Compiler 17.00.51106.1, makro `_MSC_VER` se vyhodnotí jako 1700. Zadáním `cl /?` na příkazovém řádku zobrazíte číslo verze kompilátoru. Toto makro je vždy definováno.

   |Verze Visual Studio|`_MSC_VER`|
   |-|-|
   |Visual Studio 6.0|1200|
   |Visual Studio .NET 2002 (7,0)|1300|
   |Visual Studio .NET 2003 (7,1)|1310|
   |Visual Studio 2005 (8,0)|1400|
   |Visual Studio 2008 (9,0)|1500|
   |Visual Studio 2010 (10,0)|1600|
   |Visual Studio 2012 (11,0)|1700|
   |Visual Studio 2013 (12,0)|1800|
   |Visual Studio 2015 (14,0)|1900|
   |Visual Studio 2017 RTW (15,0)|1910|
   |Visual Studio 2017 verze 15,3|1911|
   |Visual Studio 2017 verze 15.5|1912|
   |Visual Studio 2017 verze 15.6|1913|
   |Visual Studio 2017 verze 15,7|1914|
   |Visual Studio 2017 verze 15.8|1915|
   |Visual Studio 2017 verze 15,9|1916|
   |Visual Studio 2019 RTW (16,0)|1920|
   |Visual Studio 2019 verze 16,1|1921|
   |Visual Studio 2019 verze 16,2|1922|
   |Visual Studio 2019 verze 16,3|1923|

   Chcete-li otestovat verze kompilátoru nebo aktualizace v dané verzi sady Visual Studio nebo po, použijte operátor `>=`. Můžete ji použít v podmíněných direktivách pro porovnání `_MSC_VER` s touto známou verzí. Pokud máte několik vzájemně se vylučujících verzí, které je třeba porovnat, porovnejte je podle čísla verze v sestupném pořadí. Například tento kód kontroluje kompilátory vydané v aplikaci Visual Studio 2017 nebo novější. Dále kontroluje kompilátory vydané v nebo po aplikaci Visual Studio 2015. Pak zkontroluje všechny kompilátory vydané před Visual Studio 2015:

   ```cpp
   #if _MSC_VER >= 1910
   // . . .
   #elif _MSC_VER >= 1900
   // . . .
   #else
   // . . .
   #endif
   ```

   Další informace naleznete v tématu [Visual C++ Compiler verze](https://devblogs.microsoft.com/cppblog/visual-c-compiler-version/) na blogu týmu C++ společnosti Microsoft.

- `_MSVC_LANG` definováno jako celočíselný literál, který určuje C++ jazykový Standard cílený kompilátorem. Je nastaven pouze v kódu kompilovaném jako C++. Makro je hodnota celočíselného literálu 201402L ve výchozím nastavení nebo při určení možnosti kompilátoru [/std: c++ 14](../build/reference/std-specify-language-standard-version.md) . Makro je nastaveno na 201703L, pokud je zadána možnost kompilátoru [/std: c++ 17](../build/reference/std-specify-language-standard-version.md) . Je nastavena na vyšší, nespecifikovanou hodnotu, pokud je zadána možnost [/std: c + + nejnovější](../build/reference/std-specify-language-standard-version.md) . V opačném případě není makro definováno. V rámci sady Visual Studio 2015 Update 3 jsou k dispozici možnosti kompilátoru `_MSVC_LANG` makro a [/std (zadat standardní verzi jazyka)](../build/reference/std-specify-language-standard-version.md) .

- `__MSVC_RUNTIME_CHECKS` definováno jako 1, pokud je nastavena jedna z možností kompilátoru [/RTC](../build/reference/rtc-run-time-error-checks.md) . V opačném případě Nedefinováno.

- `_MSVC_TRADITIONAL` definováno jako 0, pokud je nastaven režim/Experimental preprocesoru [:](../build/reference/experimental-preprocessor.md) parametr kompilátoru preprocesoru. Definováno jako 1 ve výchozím nastavení, nebo pokud je nastavena možnost [/Experimental: preprocesor-](../build/reference/experimental-preprocessor.md) Compiler, aby označovala tradiční preprocesor, který je používán. Makro `_MSVC_TRADITIONAL` a [/Experimental: možnost kompilátoru (povolit režim shody preprocesoru)](../build/reference/experimental-preprocessor.md) je k dispozici počínaje verzí Visual Studio 2017 verze 15,8.

   ```cpp
   #if defined(_MSVC_TRADITIONAL) && _MSVC_TRADITIONAL
   // Logic using the traditional preprocessor
   #else
   // Logic using cross-platform compatible preprocessor
   #endif
   ```

- `_MT` definováno jako 1, pokud je určena [/MD nebo/MDD](../build/reference/md-mt-ld-use-run-time-library.md) (VÍCEVLÁKNOVÁ knihovna DLL) nebo [/Mt nebo/MTD](../build/reference/md-mt-ld-use-run-time-library.md) (vícevláknové). V opačném případě Nedefinováno.

- `_NATIVE_WCHAR_T_DEFINED` definováno jako 1, pokud je nastavena možnost kompilátoru [/Zc: wchar_t](../build/reference/zc-wchar-t-wchar-t-is-native-type.md) . V opačném případě Nedefinováno.

- `_OPENMP` definováno jako celočíselný literál 200203, pokud je nastavena možnost kompilátoru [/OpenMP (povolit podporu openmp 2,0)](../build/reference/openmp-enable-openmp-2-0-support.md) . Tato hodnota představuje datum specifikace OpenMP implementovaného MSVC. V opačném případě Nedefinováno.

   ```cpp
   // _OPENMP_dir.cpp
   // compile with: /openmp
   #include <stdio.h>
   int main() {
      printf("%d\n", _OPENMP);
   }
   ```

- `_PREFAST_` definováno jako 1, pokud je nastavena možnost kompilátoru [/analyze](../build/reference/analyze-code-analysis.md) . V opačném případě Nedefinováno.

- `__TIMESTAMP__` definováno jako řetězcový literál, který obsahuje datum a čas poslední změny aktuálního zdrojového souboru, ve zkráceném formátu konstantní délky vráceného funkcí CRT [asctime](../c-runtime-library/reference/asctime-wasctime.md) , například `Fri 19 Aug 13:32:58 2016`. Toto makro je vždy definováno.

- `_VC_NODEFAULTLIB` definováno jako 1, pokud je nastavena možnost kompilátoru [/zl (vynechání názvu výchozí knihovny)](../build/reference/zl-omit-default-library-name.md) . V opačném případě Nedefinováno.

- `_WCHAR_T_DEFINED` definováno jako 1, pokud je nastavena výchozí hodnota kompilátoru [/Zc: wchar_t](../build/reference/zc-wchar-t-wchar-t-is-native-type.md) . Makro `_WCHAR_T_DEFINED` je definováno, ale nemá žádnou hodnotu, je-li nastavena možnost kompilátoru `/Zc:wchar_t-` a **wchar_t** je definována v hlavičkovém souboru systému, který je součástí projektu. V opačném případě Nedefinováno.

- `_WIN32` definováno jako 1, pokud je cíl kompilace 32-bit ARM, 64-bit ARM, x86 nebo x64. V opačném případě Nedefinováno.

- `_WIN64` definováno jako 1, pokud je cíl kompilace 64-bit ARM nebo x64. V opačném případě Nedefinováno.

- `_WINRT_DLL` definováno jako 1 při kompilování C++ jako a jsou nastaveny možnosti kompilátoru [/ZW (prostředí Windows Runtime Compilation)](../build/reference/zw-windows-runtime-compilation.md) i [/ld nebo/LDD](../build/reference/md-mt-ld-use-run-time-library.md) . V opačném případě Nedefinováno.

Žádná makra preprocesoru, která neidentifikují verzi knihovny ATL nebo MFC, jsou předdefinovány kompilátorem. Hlavičky knihoven ATL a MFC definují tato makra verze interně. Nejsou definovány v direktivách preprocesoru, které byly provedeny před tím, než je obsažena požadovaná hlavička.

- `_ATL_VER` definováno v \<atldef. h > jako celočíselný literál, který kóduje číslo verze ATL.

- `_MFC_VER` definováno v \<afxver_. h > jako celočíselný literál, který kóduje číslo verze knihovny MFC.

## <a name="see-also"></a>Viz také:

[Makra (C/C++)](../preprocessor/macros-c-cpp.md)<br/>
[Operátory preprocesoru](../preprocessor/preprocessor-operators.md)<br/>
[Direktivy preprocesoru](../preprocessor/preprocessor-directives.md)
